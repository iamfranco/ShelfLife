var Xr=Object.defineProperty;var Jr=(d,g,$)=>g in d?Xr(d,g,{enumerable:!0,configurable:!0,writable:!0,value:$}):d[g]=$;var tn=(d,g)=>()=>(g||d((g={exports:{}}).exports,g),g.exports);var Tr=(d,g,$)=>(Jr(d,typeof g!="symbol"?g+"":g,$),$);var en=tn((exports,module)=>{(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))j(tt);new MutationObserver(tt=>{for(const et of tt)if(et.type==="childList")for(const rt of et.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&j(rt)}).observe(document,{childList:!0,subtree:!0});function $(tt){const et={};return tt.integrity&&(et.integrity=tt.integrity),tt.referrerPolicy&&(et.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?et.credentials="include":tt.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function j(tt){if(tt.ep)return;tt.ep=!0;const et=$(tt);fetch(tt.href,et)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(d){return d===null||typeof d!="object"?null:(d=z$2&&d[z$2]||d["@@iterator"],typeof d=="function"?d:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$1={};function E$2(d,g,$){this.props=d,this.context=g,this.refs=D$1,this.updater=$||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(d,g){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,g,"setState")};E$2.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(d,g,$){this.props=d,this.context=g,this.refs=D$1,this.updater=$||B$2}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$2(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(d,g,$){var j,tt={},et=null,rt=null;if(g!=null)for(j in g.ref!==void 0&&(rt=g.ref),g.key!==void 0&&(et=""+g.key),g)J.call(g,j)&&!L$2.hasOwnProperty(j)&&(tt[j]=g[j]);var nt=arguments.length-2;if(nt===1)tt.children=$;else if(1<nt){for(var it=Array(nt),at=0;at<nt;at++)it[at]=arguments[at+2];tt.children=it}if(d&&d.defaultProps)for(j in nt=d.defaultProps,nt)tt[j]===void 0&&(tt[j]=nt[j]);return{$$typeof:l$2,type:d,key:et,ref:rt,props:tt,_owner:K$1.current}}function N$2(d,g){return{$$typeof:l$2,type:d.type,key:g,ref:d.ref,props:d.props,_owner:d._owner}}function O$2(d){return typeof d=="object"&&d!==null&&d.$$typeof===l$2}function escape(d){var g={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function($){return g[$]})}var P$1=/\/+/g;function Q$1(d,g){return typeof d=="object"&&d!==null&&d.key!=null?escape(""+d.key):g.toString(36)}function R$2(d,g,$,j,tt){var et=typeof d;(et==="undefined"||et==="boolean")&&(d=null);var rt=!1;if(d===null)rt=!0;else switch(et){case"string":case"number":rt=!0;break;case"object":switch(d.$$typeof){case l$2:case n$2:rt=!0}}if(rt)return rt=d,tt=tt(rt),d=j===""?"."+Q$1(rt,0):j,I$1(tt)?($="",d!=null&&($=d.replace(P$1,"$&/")+"/"),R$2(tt,g,$,"",function(at){return at})):tt!=null&&(O$2(tt)&&(tt=N$2(tt,$+(!tt.key||rt&&rt.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+d)),g.push(tt)),1;if(rt=0,j=j===""?".":j+":",I$1(d))for(var nt=0;nt<d.length;nt++){et=d[nt];var it=j+Q$1(et,nt);rt+=R$2(et,g,$,it,tt)}else if(it=A$2(d),typeof it=="function")for(d=it.call(d),nt=0;!(et=d.next()).done;)et=et.value,it=j+Q$1(et,nt++),rt+=R$2(et,g,$,it,tt);else if(et==="object")throw g=String(d),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$2(d,g,$){if(d==null)return d;var j=[],tt=0;return R$2(d,j,"","",function(et){return g.call($,et,tt++)}),j}function T$2(d){if(d._status===-1){var g=d._result;g=g(),g.then(function($){(d._status===0||d._status===-1)&&(d._status=1,d._result=$)},function($){(d._status===0||d._status===-1)&&(d._status=2,d._result=$)}),d._status===-1&&(d._status=0,d._result=g)}if(d._status===1)return d._result.default;throw d._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(d,g,$){S$2(d,function(){g.apply(this,arguments)},$)},count:function(d){var g=0;return S$2(d,function(){g++}),g},toArray:function(d){return S$2(d,function(g){return g})||[]},only:function(d){if(!O$2(d))throw Error("React.Children.only expected to receive a single React element child.");return d}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(d,g,$){if(d==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+d+".");var j=C$2({},d.props),tt=d.key,et=d.ref,rt=d._owner;if(g!=null){if(g.ref!==void 0&&(et=g.ref,rt=K$1.current),g.key!==void 0&&(tt=""+g.key),d.type&&d.type.defaultProps)var nt=d.type.defaultProps;for(it in g)J.call(g,it)&&!L$2.hasOwnProperty(it)&&(j[it]=g[it]===void 0&&nt!==void 0?nt[it]:g[it])}var it=arguments.length-2;if(it===1)j.children=$;else if(1<it){nt=Array(it);for(var at=0;at<it;at++)nt[at]=arguments[at+2];j.children=nt}return{$$typeof:l$2,type:d.type,key:tt,ref:et,props:j,_owner:rt}};react_production_min.createContext=function(d){return d={$$typeof:u$1,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},d.Provider={$$typeof:t$1,_context:d},d.Consumer=d};react_production_min.createElement=M$2;react_production_min.createFactory=function(d){var g=M$2.bind(null,d);return g.type=d,g};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(d){return{$$typeof:v$2,render:d}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(d){return{$$typeof:y$3,_payload:{_status:-1,_result:d},_init:T$2}};react_production_min.memo=function(d,g){return{$$typeof:x$3,type:d,compare:g===void 0?null:g}};react_production_min.startTransition=function(d){var g=V$1.transition;V$1.transition={};try{d()}finally{V$1.transition=g}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(d,g){return U$1.current.useCallback(d,g)};react_production_min.useContext=function(d){return U$1.current.useContext(d)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(d){return U$1.current.useDeferredValue(d)};react_production_min.useEffect=function(d,g){return U$1.current.useEffect(d,g)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(d,g,$){return U$1.current.useImperativeHandle(d,g,$)};react_production_min.useInsertionEffect=function(d,g){return U$1.current.useInsertionEffect(d,g)};react_production_min.useLayoutEffect=function(d,g){return U$1.current.useLayoutEffect(d,g)};react_production_min.useMemo=function(d,g){return U$1.current.useMemo(d,g)};react_production_min.useReducer=function(d,g,$){return U$1.current.useReducer(d,g,$)};react_production_min.useRef=function(d){return U$1.current.useRef(d)};react_production_min.useState=function(d){return U$1.current.useState(d)};react_production_min.useSyncExternalStore=function(d,g,$){return U$1.current.useSyncExternalStore(d,g,$)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(d,g,$){var j,tt={},et=null,rt=null;$!==void 0&&(et=""+$),g.key!==void 0&&(et=""+g.key),g.ref!==void 0&&(rt=g.ref);for(j in g)m$1.call(g,j)&&!p$2.hasOwnProperty(j)&&(tt[j]=g[j]);if(d&&d.defaultProps)for(j in g=d.defaultProps,g)tt[j]===void 0&&(tt[j]=g[j]);return{$$typeof:k$1,type:d,key:et,ref:rt,props:tt,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(d){function g(Ut,It){var jt=Ut.length;Ut.push(It);t:for(;0<jt;){var zt=jt-1>>>1,Ht=Ut[zt];if(0<tt(Ht,It))Ut[zt]=It,Ut[jt]=Ht,jt=zt;else break t}}function $(Ut){return Ut.length===0?null:Ut[0]}function j(Ut){if(Ut.length===0)return null;var It=Ut[0],jt=Ut.pop();if(jt!==It){Ut[0]=jt;t:for(var zt=0,Ht=Ut.length,Vt=Ht>>>1;zt<Vt;){var Wt=2*(zt+1)-1,Zt=Ut[Wt],Qt=Wt+1,Xt=Ut[Qt];if(0>tt(Zt,jt))Qt<Ht&&0>tt(Xt,Zt)?(Ut[zt]=Xt,Ut[Qt]=jt,zt=Qt):(Ut[zt]=Zt,Ut[Wt]=jt,zt=Wt);else if(Qt<Ht&&0>tt(Xt,jt))Ut[zt]=Xt,Ut[Qt]=jt,zt=Qt;else break t}}return It}function tt(Ut,It){var jt=Ut.sortIndex-It.sortIndex;return jt!==0?jt:Ut.id-It.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;d.unstable_now=function(){return et.now()}}else{var rt=Date,nt=rt.now();d.unstable_now=function(){return rt.now()-nt}}var it=[],at=[],st=1,ot=null,lt=3,ut=!1,ct=!1,ft=!1,mt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Ut){for(var It=$(at);It!==null;){if(It.callback===null)j(at);else if(It.startTime<=Ut)j(at),It.sortIndex=It.expirationTime,g(it,It);else break;It=$(at)}}function gt(Ut){if(ft=!1,pt(Ut),!ct)if($(it)!==null)ct=!0,Pt(_t);else{var It=$(at);It!==null&&Kt(gt,It.startTime-Ut)}}function _t(Ut,It){ct=!1,ft&&(ft=!1,dt(St),St=-1),ut=!0;var jt=lt;try{for(pt(It),ot=$(it);ot!==null&&(!(ot.expirationTime>It)||Ut&&!bt());){var zt=ot.callback;if(typeof zt=="function"){ot.callback=null,lt=ot.priorityLevel;var Ht=zt(ot.expirationTime<=It);It=d.unstable_now(),typeof Ht=="function"?ot.callback=Ht:ot===$(it)&&j(it),pt(It)}else j(it);ot=$(it)}if(ot!==null)var Vt=!0;else{var Wt=$(at);Wt!==null&&Kt(gt,Wt.startTime-It),Vt=!1}return Vt}finally{ot=null,lt=jt,ut=!1}}var Et=!1,yt=null,St=-1,wt=5,kt=-1;function bt(){return!(d.unstable_now()-kt<wt)}function Tt(){if(yt!==null){var Ut=d.unstable_now();kt=Ut;var It=!0;try{It=yt(!0,Ut)}finally{It?Dt():(Et=!1,yt=null)}}else Et=!1}var Dt;if(typeof ht=="function")Dt=function(){ht(Tt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,At=$t.port2;$t.port1.onmessage=Tt,Dt=function(){At.postMessage(null)}}else Dt=function(){mt(Tt,0)};function Pt(Ut){yt=Ut,Et||(Et=!0,Dt())}function Kt(Ut,It){St=mt(function(){Ut(d.unstable_now())},It)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(Ut){Ut.callback=null},d.unstable_continueExecution=function(){ct||ut||(ct=!0,Pt(_t))},d.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<Ut?Math.floor(1e3/Ut):5},d.unstable_getCurrentPriorityLevel=function(){return lt},d.unstable_getFirstCallbackNode=function(){return $(it)},d.unstable_next=function(Ut){switch(lt){case 1:case 2:case 3:var It=3;break;default:It=lt}var jt=lt;lt=It;try{return Ut()}finally{lt=jt}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(Ut,It){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var jt=lt;lt=Ut;try{return It()}finally{lt=jt}},d.unstable_scheduleCallback=function(Ut,It,jt){var zt=d.unstable_now();switch(typeof jt=="object"&&jt!==null?(jt=jt.delay,jt=typeof jt=="number"&&0<jt?zt+jt:zt):jt=zt,Ut){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=jt+Ht,Ut={id:st++,callback:It,priorityLevel:Ut,startTime:jt,expirationTime:Ht,sortIndex:-1},jt>zt?(Ut.sortIndex=jt,g(at,Ut),$(it)===null&&Ut===$(at)&&(ft?(dt(St),St=-1):ft=!0,Kt(gt,jt-zt))):(Ut.sortIndex=Ht,g(it,Ut),ct||ut||(ct=!0,Pt(_t))),Ut},d.unstable_shouldYield=bt,d.unstable_wrapCallback=function(Ut){var It=lt;return function(){var jt=lt;lt=It;try{return Ut.apply(this,arguments)}finally{lt=jt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,$=1;$<arguments.length;$++)g+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(d,g){ha(d,g),ha(d+"Capture",g)}function ha(d,g){for(ea[d]=g,d=0;d<g.length;d++)da.add(g[d])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(d){return ja.call(ma,d)?!0:ja.call(la,d)?!1:ka.test(d)?ma[d]=!0:(la[d]=!0,!1)}function pa(d,g,$,j){if($!==null&&$.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return j?!1:$!==null?!$.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function qa(d,g,$,j){if(g===null||typeof g>"u"||pa(d,g,$,j))return!0;if(j)return!1;if($!==null)switch($.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v$1(d,g,$,j,tt,et,rt){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=j,this.attributeNamespace=tt,this.mustUseProperty=$,this.propertyName=d,this.type=g,this.sanitizeURL=et,this.removeEmptyString=rt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){z$1[d]=new v$1(d,0,!1,d,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];z$1[g]=new v$1(g,1,!1,d[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){z$1[d]=new v$1(d,2,!1,d.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){z$1[d]=new v$1(d,2,!1,d,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){z$1[d]=new v$1(d,3,!1,d.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(d){z$1[d]=new v$1(d,3,!0,d,null,!1,!1)});["capture","download"].forEach(function(d){z$1[d]=new v$1(d,4,!1,d,null,!1,!1)});["cols","rows","size","span"].forEach(function(d){z$1[d]=new v$1(d,6,!1,d,null,!1,!1)});["rowSpan","start"].forEach(function(d){z$1[d]=new v$1(d,5,!1,d.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=d.replace(ra,sa);z$1[g]=new v$1(g,1,!1,d,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(ra,sa);z$1[g]=new v$1(g,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(ra,sa);z$1[g]=new v$1(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(d){z$1[d]=new v$1(d,1,!1,d.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(d){z$1[d]=new v$1(d,1,!1,d.toLowerCase(),null,!0,!0)});function ta(d,g,$,j){var tt=z$1.hasOwnProperty(g)?z$1[g]:null;(tt!==null?tt.type!==0:j||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(qa(g,$,tt,j)&&($=null),j||tt===null?oa(g)&&($===null?d.removeAttribute(g):d.setAttribute(g,""+$)):tt.mustUseProperty?d[tt.propertyName]=$===null?tt.type===3?!1:"":$:(g=tt.attributeName,j=tt.attributeNamespace,$===null?d.removeAttribute(g):(tt=tt.type,$=tt===3||tt===4&&$===!0?"":""+$,j?d.setAttributeNS(j,g,$):d.setAttribute(g,$))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(d){return d===null||typeof d!="object"?null:(d=Ja&&d[Ja]||d["@@iterator"],typeof d=="function"?d:null)}var A$1=Object.assign,La;function Ma(d){if(La===void 0)try{throw Error()}catch($){var g=$.stack.trim().match(/\n( *(at )?)/);La=g&&g[1]||""}return`
`+La+d}var Na=!1;function Oa(d,g){if(!d||Na)return"";Na=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(at){var j=at}Reflect.construct(d,[],g)}else{try{g.call()}catch(at){j=at}d.call(g.prototype)}else{try{throw Error()}catch(at){j=at}d()}}catch(at){if(at&&j&&typeof at.stack=="string"){for(var tt=at.stack.split(`
`),et=j.stack.split(`
`),rt=tt.length-1,nt=et.length-1;1<=rt&&0<=nt&&tt[rt]!==et[nt];)nt--;for(;1<=rt&&0<=nt;rt--,nt--)if(tt[rt]!==et[nt]){if(rt!==1||nt!==1)do if(rt--,nt--,0>nt||tt[rt]!==et[nt]){var it=`
`+tt[rt].replace(" at new "," at ");return d.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",d.displayName)),it}while(1<=rt&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=$}return(d=d?d.displayName||d.name:"")?Ma(d):""}function Pa(d){switch(d.tag){case 5:return Ma(d.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return d=Oa(d.type,!1),d;case 11:return d=Oa(d.type.render,!1),d;case 1:return d=Oa(d.type,!0),d;default:return""}}function Qa(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case Ca:return(d.displayName||"Context")+".Consumer";case Ba:return(d._context.displayName||"Context")+".Provider";case Da:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Ga:return g=d.displayName||null,g!==null?g:Qa(d.type)||"Memo";case Ha:g=d._payload,d=d._init;try{return Qa(d(g))}catch{}}return null}function Ra(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(g);case 8:return g===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Sa(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Ta(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ua(d){var g=Ta(d)?"checked":"value",$=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),j=""+d[g];if(!d.hasOwnProperty(g)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var tt=$.get,et=$.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return tt.call(this)},set:function(rt){j=""+rt,et.call(this,rt)}}),Object.defineProperty(d,g,{enumerable:$.enumerable}),{getValue:function(){return j},setValue:function(rt){j=""+rt},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function Va(d){d._valueTracker||(d._valueTracker=Ua(d))}function Wa(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var $=g.getValue(),j="";return d&&(j=Ta(d)?d.checked?"true":"false":d.value),d=j,d!==$?(g.setValue(d),!0):!1}function Xa(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ya(d,g){var $=g.checked;return A$1({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??d._wrapperState.initialChecked})}function Za(d,g){var $=g.defaultValue==null?"":g.defaultValue,j=g.checked!=null?g.checked:g.defaultChecked;$=Sa(g.value!=null?g.value:$),d._wrapperState={initialChecked:j,initialValue:$,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ab(d,g){g=g.checked,g!=null&&ta(d,"checked",g,!1)}function bb(d,g){ab(d,g);var $=Sa(g.value),j=g.type;if($!=null)j==="number"?($===0&&d.value===""||d.value!=$)&&(d.value=""+$):d.value!==""+$&&(d.value=""+$);else if(j==="submit"||j==="reset"){d.removeAttribute("value");return}g.hasOwnProperty("value")?cb(d,g.type,$):g.hasOwnProperty("defaultValue")&&cb(d,g.type,Sa(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(d.defaultChecked=!!g.defaultChecked)}function db(d,g,$){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var j=g.type;if(!(j!=="submit"&&j!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+d._wrapperState.initialValue,$||g===d.value||(d.value=g),d.defaultValue=g}$=d.name,$!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,$!==""&&(d.name=$)}function cb(d,g,$){(g!=="number"||Xa(d.ownerDocument)!==d)&&($==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+$&&(d.defaultValue=""+$))}var eb=Array.isArray;function fb(d,g,$,j){if(d=d.options,g){g={};for(var tt=0;tt<$.length;tt++)g["$"+$[tt]]=!0;for($=0;$<d.length;$++)tt=g.hasOwnProperty("$"+d[$].value),d[$].selected!==tt&&(d[$].selected=tt),tt&&j&&(d[$].defaultSelected=!0)}else{for($=""+Sa($),g=null,tt=0;tt<d.length;tt++){if(d[tt].value===$){d[tt].selected=!0,j&&(d[tt].defaultSelected=!0);return}g!==null||d[tt].disabled||(g=d[tt])}g!==null&&(g.selected=!0)}}function gb(d,g){if(g.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function hb(d,g){var $=g.value;if($==null){if($=g.children,g=g.defaultValue,$!=null){if(g!=null)throw Error(p$1(92));if(eb($)){if(1<$.length)throw Error(p$1(93));$=$[0]}g=$}g==null&&(g=""),$=g}d._wrapperState={initialValue:Sa($)}}function ib(d,g){var $=Sa(g.value),j=Sa(g.defaultValue);$!=null&&($=""+$,$!==d.value&&(d.value=$),g.defaultValue==null&&d.defaultValue!==$&&(d.defaultValue=$)),j!=null&&(d.defaultValue=""+j)}function jb(d){var g=d.textContent;g===d._wrapperState.initialValue&&g!==""&&g!==null&&(d.value=g)}function kb(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(d,g){return d==null||d==="http://www.w3.org/1999/xhtml"?kb(g):d==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var mb,nb=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,$,j,tt){MSApp.execUnsafeLocalFunction(function(){return d(g,$,j,tt)})}:d}(function(d,g){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=g;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=mb.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;g.firstChild;)d.appendChild(g.firstChild)}});function ob(d,g){if(g){var $=d.firstChild;if($&&$===d.lastChild&&$.nodeType===3){$.nodeValue=g;return}}d.textContent=g}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(d){qb.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1),pb[g]=pb[d]})});function rb(d,g,$){return g==null||typeof g=="boolean"||g===""?"":$||typeof g!="number"||g===0||pb.hasOwnProperty(d)&&pb[d]?(""+g).trim():g+"px"}function sb(d,g){d=d.style;for(var $ in g)if(g.hasOwnProperty($)){var j=$.indexOf("--")===0,tt=rb($,g[$],j);$==="float"&&($="cssFloat"),j?d.setProperty($,tt):d[$]=tt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(d,g){if(g){if(tb[d]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(p$1(137,d));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(p$1(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(p$1(61))}if(g.style!=null&&typeof g.style!="object")throw Error(p$1(62))}}function vb(d,g){if(d.indexOf("-")===-1)return typeof g.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var yb=null,zb=null,Ab=null;function Bb(d){if(d=Cb(d)){if(typeof yb!="function")throw Error(p$1(280));var g=d.stateNode;g&&(g=Db(g),yb(d.stateNode,d.type,g))}}function Eb(d){zb?Ab?Ab.push(d):Ab=[d]:zb=d}function Fb(){if(zb){var d=zb,g=Ab;if(Ab=zb=null,Bb(d),g)for(d=0;d<g.length;d++)Bb(g[d])}}function Gb(d,g){return d(g)}function Hb(){}var Ib=!1;function Jb(d,g,$){if(Ib)return d(g,$);Ib=!0;try{return Gb(d,g,$)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(d,g){var $=d.stateNode;if($===null)return null;var j=Db($);if(j===null)return null;$=j[g];t:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(d=d.type,j=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!j;break t;default:d=!1}if(d)return null;if($&&typeof $!="function")throw Error(p$1(231,g,typeof $));return $}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(d,g,$,j,tt,et,rt,nt,it){var at=Array.prototype.slice.call(arguments,3);try{g.apply($,at)}catch(st){this.onError(st)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(d){Ob=!0,Pb=d}};function Tb(d,g,$,j,tt,et,rt,nt,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(d,g,$,j,tt,et,rt,nt,it){if(Tb.apply(this,arguments),Ob){if(Ob){var at=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=at)}}function Vb(d){var g=d,$=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,g.flags&4098&&($=g.return),d=g.return;while(d)}return g.tag===3?$:null}function Wb(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function Xb(d){if(Vb(d)!==d)throw Error(p$1(188))}function Yb(d){var g=d.alternate;if(!g){if(g=Vb(d),g===null)throw Error(p$1(188));return g!==d?null:d}for(var $=d,j=g;;){var tt=$.return;if(tt===null)break;var et=tt.alternate;if(et===null){if(j=tt.return,j!==null){$=j;continue}break}if(tt.child===et.child){for(et=tt.child;et;){if(et===$)return Xb(tt),d;if(et===j)return Xb(tt),g;et=et.sibling}throw Error(p$1(188))}if($.return!==j.return)$=tt,j=et;else{for(var rt=!1,nt=tt.child;nt;){if(nt===$){rt=!0,$=tt,j=et;break}if(nt===j){rt=!0,j=tt,$=et;break}nt=nt.sibling}if(!rt){for(nt=et.child;nt;){if(nt===$){rt=!0,$=et,j=tt;break}if(nt===j){rt=!0,j=et,$=tt;break}nt=nt.sibling}if(!rt)throw Error(p$1(189))}}if($.alternate!==j)throw Error(p$1(190))}if($.tag!==3)throw Error(p$1(188));return $.stateNode.current===$?d:g}function Zb(d){return d=Yb(d),d!==null?$b(d):null}function $b(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=$b(d);if(g!==null)return g;d=d.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(d){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,d,void 0,(d.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(d){return d>>>=0,d===0?32:31-(pc(d)/qc|0)|0}var rc=64,sc=4194304;function tc(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function uc(d,g){var $=d.pendingLanes;if($===0)return 0;var j=0,tt=d.suspendedLanes,et=d.pingedLanes,rt=$&268435455;if(rt!==0){var nt=rt&~tt;nt!==0?j=tc(nt):(et&=rt,et!==0&&(j=tc(et)))}else rt=$&~tt,rt!==0?j=tc(rt):et!==0&&(j=tc(et));if(j===0)return 0;if(g!==0&&g!==j&&!(g&tt)&&(tt=j&-j,et=g&-g,tt>=et||tt===16&&(et&4194240)!==0))return g;if(j&4&&(j|=$&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=j;0<g;)$=31-oc(g),tt=1<<$,j|=d[$],g&=~tt;return j}function vc(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(d,g){for(var $=d.suspendedLanes,j=d.pingedLanes,tt=d.expirationTimes,et=d.pendingLanes;0<et;){var rt=31-oc(et),nt=1<<rt,it=tt[rt];it===-1?(!(nt&$)||nt&j)&&(tt[rt]=vc(nt,g)):it<=g&&(d.expiredLanes|=nt),et&=~nt}}function xc(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function yc(){var d=rc;return rc<<=1,!(rc&4194240)&&(rc=64),d}function zc(d){for(var g=[],$=0;31>$;$++)g.push(d);return g}function Ac(d,g,$){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-oc(g),d[g]=$}function Bc(d,g){var $=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var j=d.eventTimes;for(d=d.expirationTimes;0<$;){var tt=31-oc($),et=1<<tt;g[tt]=0,j[tt]=-1,d[tt]=-1,$&=~et}}function Cc(d,g){var $=d.entangledLanes|=g;for(d=d.entanglements;$;){var j=31-oc($),tt=1<<j;tt&g|d[j]&g&&(d[j]|=g),$&=~tt}}var C$1=0;function Dc(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(d,g){switch(d){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(g.pointerId)}}function Tc(d,g,$,j,tt,et){return d===null||d.nativeEvent!==et?(d={blockedOn:g,domEventName:$,eventSystemFlags:j,nativeEvent:et,targetContainers:[tt]},g!==null&&(g=Cb(g),g!==null&&Fc(g)),d):(d.eventSystemFlags|=j,g=d.targetContainers,tt!==null&&g.indexOf(tt)===-1&&g.push(tt),d)}function Uc(d,g,$,j,tt){switch(g){case"focusin":return Lc=Tc(Lc,d,g,$,j,tt),!0;case"dragenter":return Mc=Tc(Mc,d,g,$,j,tt),!0;case"mouseover":return Nc=Tc(Nc,d,g,$,j,tt),!0;case"pointerover":var et=tt.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,d,g,$,j,tt)),!0;case"gotpointercapture":return et=tt.pointerId,Pc.set(et,Tc(Pc.get(et)||null,d,g,$,j,tt)),!0}return!1}function Vc(d){var g=Wc(d.target);if(g!==null){var $=Vb(g);if($!==null){if(g=$.tag,g===13){if(g=Wb($),g!==null){d.blockedOn=g,Ic(d.priority,function(){Gc($)});return}}else if(g===3&&$.stateNode.current.memoizedState.isDehydrated){d.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Xc(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var $=Yc(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if($===null){$=d.nativeEvent;var j=new $.constructor($.type,$);wb=j,$.target.dispatchEvent(j),wb=null}else return g=Cb($),g!==null&&Fc(g),d.blockedOn=$,!1;g.shift()}return!0}function Zc(d,g,$){Xc(d)&&$.delete(g)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(d,g){d.blockedOn===g&&(d.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(d){function g(tt){return ad(tt,d)}if(0<Kc.length){ad(Kc[0],d);for(var $=1;$<Kc.length;$++){var j=Kc[$];j.blockedOn===d&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,d),Mc!==null&&ad(Mc,d),Nc!==null&&ad(Nc,d),Oc.forEach(g),Pc.forEach(g),$=0;$<Qc.length;$++)j=Qc[$],j.blockedOn===d&&(j.blockedOn=null);for(;0<Qc.length&&($=Qc[0],$.blockedOn===null);)Vc($),$.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(d,g,$,j){var tt=C$1,et=cd.transition;cd.transition=null;try{C$1=1,fd(d,g,$,j)}finally{C$1=tt,cd.transition=et}}function gd(d,g,$,j){var tt=C$1,et=cd.transition;cd.transition=null;try{C$1=4,fd(d,g,$,j)}finally{C$1=tt,cd.transition=et}}function fd(d,g,$,j){if(dd){var tt=Yc(d,g,$,j);if(tt===null)hd(d,g,j,id,$),Sc(d,j);else if(Uc(tt,d,g,$,j))j.stopPropagation();else if(Sc(d,j),g&4&&-1<Rc.indexOf(d)){for(;tt!==null;){var et=Cb(tt);if(et!==null&&Ec(et),et=Yc(d,g,$,j),et===null&&hd(d,g,j,id,$),et===tt)break;tt=et}tt!==null&&j.stopPropagation()}else hd(d,g,j,null,$)}}var id=null;function Yc(d,g,$,j){if(id=null,d=xb(j),d=Wc(d),d!==null)if(g=Vb(d),g===null)d=null;else if($=g.tag,$===13){if(d=Wb(g),d!==null)return d;d=null}else if($===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null);return id=d,null}function jd(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var d,g=ld,$=g.length,j,tt="value"in kd?kd.value:kd.textContent,et=tt.length;for(d=0;d<$&&g[d]===tt[d];d++);var rt=$-d;for(j=1;j<=rt&&g[$-j]===tt[et-j];j++);return md=tt.slice(d,1<j?1-j:void 0)}function od(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function pd(){return!0}function qd(){return!1}function rd(d){function g($,j,tt,et,rt){this._reactName=$,this._targetInst=tt,this.type=j,this.nativeEvent=et,this.target=rt,this.currentTarget=null;for(var nt in d)d.hasOwnProperty(nt)&&($=d[nt],this[nt]=$?$(et):et[nt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),g}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==yd&&(yd&&d.type==="mousemove"?(wd=d.screenX-yd.screenX,xd=d.screenY-yd.screenY):xd=wd=0,yd=d),wd)},movementY:function(d){return"movementY"in d?d.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=Od[d])?!!g[d]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(d){if(d.key){var g=Md[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=od(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Nd[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(d){return d.type==="keypress"?od(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?od(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(d,g){switch(d){case"keyup":return $d.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ie=!1;function je(d,g){switch(d){case"compositionend":return he(g);case"keypress":return g.which!==32?null:(fe=!0,ee);case"textInput":return d=g.data,d===ee&&fe?null:d;default:return null}}function ke(d,g){if(ie)return d==="compositionend"||!ae&&ge(d,g)?(d=nd(),md=ld=kd=null,ie=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return de&&g.locale!=="ko"?null:g.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!le[d.type]:g==="textarea"}function ne(d,g,$,j){Eb(j),g=oe(g,"onChange"),0<g.length&&($=new td("onChange","change",null,$,j),d.push({event:$,listeners:g}))}var pe=null,qe=null;function re(d){se(d,0)}function te(d){var g=ue(d);if(Wa(g))return d}function ve(d,g){if(d==="change")return g}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(d){if(d.propertyName==="value"&&te(qe)){var g=[];ne(g,qe,d,xb(d)),Jb(re,g)}}function Ce(d,g,$){d==="focusin"?(Ae(),pe=g,qe=$,pe.attachEvent("onpropertychange",Be)):d==="focusout"&&Ae()}function De(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return te(qe)}function Ee(d,g){if(d==="click")return te(g)}function Fe(d,g){if(d==="input"||d==="change")return te(g)}function Ge(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(d,g){if(He(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var $=Object.keys(d),j=Object.keys(g);if($.length!==j.length)return!1;for(j=0;j<$.length;j++){var tt=$[j];if(!ja.call(g,tt)||!He(d[tt],g[tt]))return!1}return!0}function Je(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Ke(d,g){var $=Je(d);d=0;for(var j;$;){if($.nodeType===3){if(j=d+$.textContent.length,d<=g&&j>=g)return{node:$,offset:g-d};d=j}t:{for(;$;){if($.nextSibling){$=$.nextSibling;break t}$=$.parentNode}$=void 0}$=Je($)}}function Le(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?Le(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function Me(){for(var d=window,g=Xa();g instanceof d.HTMLIFrameElement;){try{var $=typeof g.contentWindow.location.href=="string"}catch{$=!1}if($)d=g.contentWindow;else break;g=Xa(d.document)}return g}function Ne(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}function Oe(d){var g=Me(),$=d.focusedElem,j=d.selectionRange;if(g!==$&&$&&$.ownerDocument&&Le($.ownerDocument.documentElement,$)){if(j!==null&&Ne($)){if(g=j.start,d=j.end,d===void 0&&(d=g),"selectionStart"in $)$.selectionStart=g,$.selectionEnd=Math.min(d,$.value.length);else if(d=(g=$.ownerDocument||document)&&g.defaultView||window,d.getSelection){d=d.getSelection();var tt=$.textContent.length,et=Math.min(j.start,tt);j=j.end===void 0?et:Math.min(j.end,tt),!d.extend&&et>j&&(tt=j,j=et,et=tt),tt=Ke($,et);var rt=Ke($,j);tt&&rt&&(d.rangeCount!==1||d.anchorNode!==tt.node||d.anchorOffset!==tt.offset||d.focusNode!==rt.node||d.focusOffset!==rt.offset)&&(g=g.createRange(),g.setStart(tt.node,tt.offset),d.removeAllRanges(),et>j?(d.addRange(g),d.extend(rt.node,rt.offset)):(g.setEnd(rt.node,rt.offset),d.addRange(g)))}}for(g=[],d=$;d=d.parentNode;)d.nodeType===1&&g.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<g.length;$++)d=g[$],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(d,g,$){var j=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(g=new td("onSelect","select",null,g,$),d.push({event:g,listeners:j}),g.target=Qe)))}function Ve(d,g){var $={};return $[d.toLowerCase()]=g.toLowerCase(),$["Webkit"+d]="webkit"+g,$["Moz"+d]="moz"+g,$}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(d){if(Xe[d])return Xe[d];if(!We[d])return d;var g=We[d],$;for($ in g)if(g.hasOwnProperty($)&&$ in Ye)return Xe[d]=g[$];return d}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(d,g){df.set(d,g),fa(g,[d])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(d,g,$){var j=d.type||"unknown-event";d.currentTarget=$,Ub(j,g,void 0,d),d.currentTarget=null}function se(d,g){g=(g&4)!==0;for(var $=0;$<d.length;$++){var j=d[$],tt=j.event;j=j.listeners;t:{var et=void 0;if(g)for(var rt=j.length-1;0<=rt;rt--){var nt=j[rt],it=nt.instance,at=nt.currentTarget;if(nt=nt.listener,it!==et&&tt.isPropagationStopped())break t;nf(tt,nt,at),et=it}else for(rt=0;rt<j.length;rt++){if(nt=j[rt],it=nt.instance,at=nt.currentTarget,nt=nt.listener,it!==et&&tt.isPropagationStopped())break t;nf(tt,nt,at),et=it}}}if(Qb)throw d=Rb,Qb=!1,Rb=null,d}function D(d,g){var $=g[of];$===void 0&&($=g[of]=new Set);var j=d+"__bubble";$.has(j)||(pf(g,d,2,!1),$.add(j))}function qf(d,g,$){var j=0;g&&(j|=4),pf($,d,j,g)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(d){if(!d[rf]){d[rf]=!0,da.forEach(function($){$!=="selectionchange"&&(mf.has($)||qf($,!1,d),qf($,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[rf]||(g[rf]=!0,qf("selectionchange",!1,g))}}function pf(d,g,$,j){switch(jd(g)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}$=tt.bind(null,g,$,d),tt=void 0,!Lb||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(tt=!0),j?tt!==void 0?d.addEventListener(g,$,{capture:!0,passive:tt}):d.addEventListener(g,$,!0):tt!==void 0?d.addEventListener(g,$,{passive:tt}):d.addEventListener(g,$,!1)}function hd(d,g,$,j,tt){var et=j;if(!(g&1)&&!(g&2)&&j!==null)t:for(;;){if(j===null)return;var rt=j.tag;if(rt===3||rt===4){var nt=j.stateNode.containerInfo;if(nt===tt||nt.nodeType===8&&nt.parentNode===tt)break;if(rt===4)for(rt=j.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===tt||it.nodeType===8&&it.parentNode===tt))return;rt=rt.return}for(;nt!==null;){if(rt=Wc(nt),rt===null)return;if(it=rt.tag,it===5||it===6){j=et=rt;continue t}nt=nt.parentNode}}j=j.return}Jb(function(){var at=et,st=xb($),ot=[];t:{var lt=df.get(d);if(lt!==void 0){var ut=td,ct=d;switch(d){case"keypress":if(od($)===0)break t;case"keydown":case"keyup":ut=Rd;break;case"focusin":ct="focus",ut=Fd;break;case"focusout":ct="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if($.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var ft=(g&4)!==0,mt=!ft&&d==="scroll",dt=ft?lt!==null?lt+"Capture":null:lt;ft=[];for(var ht=at,pt;ht!==null;){pt=ht;var gt=pt.stateNode;if(pt.tag===5&&gt!==null&&(pt=gt,dt!==null&&(gt=Kb(ht,dt),gt!=null&&ft.push(tf(ht,gt,pt)))),mt)break;ht=ht.return}0<ft.length&&(lt=new ut(lt,ct,null,$,st),ot.push({event:lt,listeners:ft}))}}if(!(g&7)){t:{if(lt=d==="mouseover"||d==="pointerover",ut=d==="mouseout"||d==="pointerout",lt&&$!==wb&&(ct=$.relatedTarget||$.fromElement)&&(Wc(ct)||ct[uf]))break t;if((ut||lt)&&(lt=st.window===st?st:(lt=st.ownerDocument)?lt.defaultView||lt.parentWindow:window,ut?(ct=$.relatedTarget||$.toElement,ut=at,ct=ct?Wc(ct):null,ct!==null&&(mt=Vb(ct),ct!==mt||ct.tag!==5&&ct.tag!==6)&&(ct=null)):(ut=null,ct=at),ut!==ct)){if(ft=Bd,gt="onMouseLeave",dt="onMouseEnter",ht="mouse",(d==="pointerout"||d==="pointerover")&&(ft=Td,gt="onPointerLeave",dt="onPointerEnter",ht="pointer"),mt=ut==null?lt:ue(ut),pt=ct==null?lt:ue(ct),lt=new ft(gt,ht+"leave",ut,$,st),lt.target=mt,lt.relatedTarget=pt,gt=null,Wc(st)===at&&(ft=new ft(dt,ht+"enter",ct,$,st),ft.target=pt,ft.relatedTarget=mt,gt=ft),mt=gt,ut&&ct)e:{for(ft=ut,dt=ct,ht=0,pt=ft;pt;pt=vf(pt))ht++;for(pt=0,gt=dt;gt;gt=vf(gt))pt++;for(;0<ht-pt;)ft=vf(ft),ht--;for(;0<pt-ht;)dt=vf(dt),pt--;for(;ht--;){if(ft===dt||dt!==null&&ft===dt.alternate)break e;ft=vf(ft),dt=vf(dt)}ft=null}else ft=null;ut!==null&&wf(ot,lt,ut,ft,!1),ct!==null&&mt!==null&&wf(ot,mt,ct,ft,!0)}}t:{if(lt=at?ue(at):window,ut=lt.nodeName&&lt.nodeName.toLowerCase(),ut==="select"||ut==="input"&&lt.type==="file")var _t=ve;else if(me(lt))if(we)_t=Fe;else{_t=De;var Et=Ce}else(ut=lt.nodeName)&&ut.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(_t=Ee);if(_t&&(_t=_t(d,at))){ne(ot,_t,$,st);break t}Et&&Et(d,lt,at),d==="focusout"&&(Et=lt._wrapperState)&&Et.controlled&&lt.type==="number"&&cb(lt,"number",lt.value)}switch(Et=at?ue(at):window,d){case"focusin":(me(Et)||Et.contentEditable==="true")&&(Qe=Et,Re=at,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,$,st);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,$,st)}var yt;if(ae)t:{switch(d){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else ie?ge(d,$)&&(St="onCompositionEnd"):d==="keydown"&&$.keyCode===229&&(St="onCompositionStart");St&&(de&&$.locale!=="ko"&&(ie||St!=="onCompositionStart"?St==="onCompositionEnd"&&ie&&(yt=nd()):(kd=st,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Et=oe(at,St),0<Et.length&&(St=new Ld(St,d,null,$,st),ot.push({event:St,listeners:Et}),yt?St.data=yt:(yt=he($),yt!==null&&(St.data=yt)))),(yt=ce?je(d,$):ke(d,$))&&(at=oe(at,"onBeforeInput"),0<at.length&&(st=new Ld("onBeforeInput","beforeinput",null,$,st),ot.push({event:st,listeners:at}),st.data=yt))}se(ot,g)})}function tf(d,g,$){return{instance:d,listener:g,currentTarget:$}}function oe(d,g){for(var $=g+"Capture",j=[];d!==null;){var tt=d,et=tt.stateNode;tt.tag===5&&et!==null&&(tt=et,et=Kb(d,$),et!=null&&j.unshift(tf(d,et,tt)),et=Kb(d,g),et!=null&&j.push(tf(d,et,tt))),d=d.return}return j}function vf(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function wf(d,g,$,j,tt){for(var et=g._reactName,rt=[];$!==null&&$!==j;){var nt=$,it=nt.alternate,at=nt.stateNode;if(it!==null&&it===j)break;nt.tag===5&&at!==null&&(nt=at,tt?(it=Kb($,et),it!=null&&rt.unshift(tf($,it,nt))):tt||(it=Kb($,et),it!=null&&rt.push(tf($,it,nt)))),$=$.return}rt.length!==0&&d.push({event:g,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(d){return(typeof d=="string"?d:""+d).replace(xf,`
`).replace(yf,"")}function Af(d,g,$){if(g=zf(g),zf(d)!==g&&$)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(d){return Hf.resolve(null).then(d).catch(If)}:Ff;function If(d){setTimeout(function(){throw d})}function Kf(d,g){var $=g,j=0;do{var tt=$.nextSibling;if(d.removeChild($),tt&&tt.nodeType===8)if($=tt.data,$==="/$"){if(j===0){d.removeChild(tt),bd(g);return}j--}else $!=="$"&&$!=="$?"&&$!=="$!"||j++;$=tt}while($);bd(g)}function Lf(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return d}function Mf(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var $=d.data;if($==="$"||$==="$!"||$==="$?"){if(g===0)return d;g--}else $==="/$"&&g++}d=d.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(d){var g=d[Of];if(g)return g;for(var $=d.parentNode;$;){if(g=$[uf]||$[Of]){if($=g.alternate,g.child!==null||$!==null&&$.child!==null)for(d=Mf(d);d!==null;){if($=d[Of])return $;d=Mf(d)}return g}d=$,$=d.parentNode}return null}function Cb(d){return d=d[Of]||d[uf],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function ue(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(p$1(33))}function Db(d){return d[Pf]||null}var Sf=[],Tf=-1;function Uf(d){return{current:d}}function E$1(d){0>Tf||(d.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(d,g){Tf++,Sf[Tf]=d.current,d.current=g}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(d,g){var $=d.type.contextTypes;if(!$)return Vf;var j=d.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===g)return j.__reactInternalMemoizedMaskedChildContext;var tt={},et;for(et in $)tt[et]=g[et];return j&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(d){return d=d.childContextTypes,d!=null}function $f(){E$1(Wf),E$1(H)}function ag(d,g,$){if(H.current!==Vf)throw Error(p$1(168));G(H,g),G(Wf,$)}function bg(d,g,$){var j=d.stateNode;if(g=g.childContextTypes,typeof j.getChildContext!="function")return $;j=j.getChildContext();for(var tt in j)if(!(tt in g))throw Error(p$1(108,Ra(d)||"Unknown",tt));return A$1({},$,j)}function cg(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,d),G(Wf,Wf.current),!0}function dg(d,g,$){var j=d.stateNode;if(!j)throw Error(p$1(169));$?(d=bg(d,g,Xf),j.__reactInternalMemoizedMergedChildContext=d,E$1(Wf),E$1(H),G(H,d)):E$1(Wf),G(Wf,$)}var eg=null,fg=!1,gg=!1;function hg(d){eg===null?eg=[d]:eg.push(d)}function ig(d){fg=!0,hg(d)}function jg(){if(!gg&&eg!==null){gg=!0;var d=0,g=C$1;try{var $=eg;for(C$1=1;d<$.length;d++){var j=$[d];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(d+1)),ac(fc,jg),tt}finally{C$1=g,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(d,g){kg[lg++]=ng,kg[lg++]=mg,mg=d,ng=g}function ug(d,g,$){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=d;var j=rg;d=sg;var tt=32-oc(j)-1;j&=~(1<<tt),$+=1;var et=32-oc(g)+tt;if(30<et){var rt=tt-tt%5;et=(j&(1<<rt)-1).toString(32),j>>=rt,tt-=rt,rg=1<<32-oc(g)+tt|$<<tt|j,sg=et+d}else rg=1<<et|$<<tt|j,sg=d}function vg(d){d.return!==null&&(tg(d,1),ug(d,1,0))}function wg(d){for(;d===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;d===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(d,g){var $=Bg(5,null,null,0);$.elementType="DELETED",$.stateNode=g,$.return=d,g=d.deletions,g===null?(d.deletions=[$],d.flags|=16):g.push($)}function Cg(d,g){switch(d.tag){case 5:var $=d.type;return g=g.nodeType!==1||$.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(d.stateNode=g,xg=d,yg=Lf(g.firstChild),!0):!1;case 6:return g=d.pendingProps===""||g.nodeType!==3?null:g,g!==null?(d.stateNode=g,xg=d,yg=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?($=qg!==null?{id:rg,overflow:sg}:null,d.memoizedState={dehydrated:g,treeContext:$,retryLane:1073741824},$=Bg(18,null,null,0),$.stateNode=g,$.return=d,d.child=$,xg=d,yg=null,!0):!1;default:return!1}}function Dg(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Eg(d){if(I){var g=yg;if(g){var $=g;if(!Cg(d,g)){if(Dg(d))throw Error(p$1(418));g=Lf($.nextSibling);var j=xg;g&&Cg(d,g)?Ag(j,$):(d.flags=d.flags&-4097|2,I=!1,xg=d)}}else{if(Dg(d))throw Error(p$1(418));d.flags=d.flags&-4097|2,I=!1,xg=d}}}function Fg(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;xg=d}function Gg(d){if(d!==xg)return!1;if(!I)return Fg(d),I=!0,!1;var g;if((g=d.tag!==3)&&!(g=d.tag!==5)&&(g=d.type,g=g!=="head"&&g!=="body"&&!Ef(d.type,d.memoizedProps)),g&&(g=yg)){if(Dg(d))throw Hg(),Error(p$1(418));for(;g;)Ag(d,g),g=Lf(g.nextSibling)}if(Fg(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p$1(317));t:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8){var $=d.data;if($==="/$"){if(g===0){yg=Lf(d.nextSibling);break t}g--}else $!=="$"&&$!=="$!"&&$!=="$?"||g++}d=d.nextSibling}yg=null}}else yg=xg?Lf(d.stateNode.nextSibling):null;return!0}function Hg(){for(var d=yg;d;)d=Lf(d.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(d){zg===null?zg=[d]:zg.push(d)}var Kg=ua.ReactCurrentBatchConfig;function Lg(d,g,$){if(d=$.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(p$1(309));var j=$.stateNode}if(!j)throw Error(p$1(147,d));var tt=j,et=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===et?g.ref:(g=function(rt){var nt=tt.refs;rt===null?delete nt[et]:nt[et]=rt},g._stringRef=et,g)}if(typeof d!="string")throw Error(p$1(284));if(!$._owner)throw Error(p$1(290,d))}return d}function Mg(d,g){throw d=Object.prototype.toString.call(g),Error(p$1(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function Ng(d){var g=d._init;return g(d._payload)}function Og(d){function g(dt,ht){if(d){var pt=dt.deletions;pt===null?(dt.deletions=[ht],dt.flags|=16):pt.push(ht)}}function $(dt,ht){if(!d)return null;for(;ht!==null;)g(dt,ht),ht=ht.sibling;return null}function j(dt,ht){for(dt=new Map;ht!==null;)ht.key!==null?dt.set(ht.key,ht):dt.set(ht.index,ht),ht=ht.sibling;return dt}function tt(dt,ht){return dt=Pg(dt,ht),dt.index=0,dt.sibling=null,dt}function et(dt,ht,pt){return dt.index=pt,d?(pt=dt.alternate,pt!==null?(pt=pt.index,pt<ht?(dt.flags|=2,ht):pt):(dt.flags|=2,ht)):(dt.flags|=1048576,ht)}function rt(dt){return d&&dt.alternate===null&&(dt.flags|=2),dt}function nt(dt,ht,pt,gt){return ht===null||ht.tag!==6?(ht=Qg(pt,dt.mode,gt),ht.return=dt,ht):(ht=tt(ht,pt),ht.return=dt,ht)}function it(dt,ht,pt,gt){var _t=pt.type;return _t===ya?st(dt,ht,pt.props.children,gt,pt.key):ht!==null&&(ht.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&Ng(_t)===ht.type)?(gt=tt(ht,pt.props),gt.ref=Lg(dt,ht,pt),gt.return=dt,gt):(gt=Rg(pt.type,pt.key,pt.props,null,dt.mode,gt),gt.ref=Lg(dt,ht,pt),gt.return=dt,gt)}function at(dt,ht,pt,gt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==pt.containerInfo||ht.stateNode.implementation!==pt.implementation?(ht=Sg(pt,dt.mode,gt),ht.return=dt,ht):(ht=tt(ht,pt.children||[]),ht.return=dt,ht)}function st(dt,ht,pt,gt,_t){return ht===null||ht.tag!==7?(ht=Tg(pt,dt.mode,gt,_t),ht.return=dt,ht):(ht=tt(ht,pt),ht.return=dt,ht)}function ot(dt,ht,pt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ht=Qg(""+ht,dt.mode,pt),ht.return=dt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return pt=Rg(ht.type,ht.key,ht.props,null,dt.mode,pt),pt.ref=Lg(dt,null,ht),pt.return=dt,pt;case wa:return ht=Sg(ht,dt.mode,pt),ht.return=dt,ht;case Ha:var gt=ht._init;return ot(dt,gt(ht._payload),pt)}if(eb(ht)||Ka(ht))return ht=Tg(ht,dt.mode,pt,null),ht.return=dt,ht;Mg(dt,ht)}return null}function lt(dt,ht,pt,gt){var _t=ht!==null?ht.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return _t!==null?null:nt(dt,ht,""+pt,gt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===_t?it(dt,ht,pt,gt):null;case wa:return pt.key===_t?at(dt,ht,pt,gt):null;case Ha:return _t=pt._init,lt(dt,ht,_t(pt._payload),gt)}if(eb(pt)||Ka(pt))return _t!==null?null:st(dt,ht,pt,gt,null);Mg(dt,pt)}return null}function ut(dt,ht,pt,gt,_t){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return dt=dt.get(pt)||null,nt(ht,dt,""+gt,_t);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return dt=dt.get(gt.key===null?pt:gt.key)||null,it(ht,dt,gt,_t);case wa:return dt=dt.get(gt.key===null?pt:gt.key)||null,at(ht,dt,gt,_t);case Ha:var Et=gt._init;return ut(dt,ht,pt,Et(gt._payload),_t)}if(eb(gt)||Ka(gt))return dt=dt.get(pt)||null,st(ht,dt,gt,_t,null);Mg(ht,gt)}return null}function ct(dt,ht,pt,gt){for(var _t=null,Et=null,yt=ht,St=ht=0,wt=null;yt!==null&&St<pt.length;St++){yt.index>St?(wt=yt,yt=null):wt=yt.sibling;var kt=lt(dt,yt,pt[St],gt);if(kt===null){yt===null&&(yt=wt);break}d&&yt&&kt.alternate===null&&g(dt,yt),ht=et(kt,ht,St),Et===null?_t=kt:Et.sibling=kt,Et=kt,yt=wt}if(St===pt.length)return $(dt,yt),I&&tg(dt,St),_t;if(yt===null){for(;St<pt.length;St++)yt=ot(dt,pt[St],gt),yt!==null&&(ht=et(yt,ht,St),Et===null?_t=yt:Et.sibling=yt,Et=yt);return I&&tg(dt,St),_t}for(yt=j(dt,yt);St<pt.length;St++)wt=ut(yt,dt,St,pt[St],gt),wt!==null&&(d&&wt.alternate!==null&&yt.delete(wt.key===null?St:wt.key),ht=et(wt,ht,St),Et===null?_t=wt:Et.sibling=wt,Et=wt);return d&&yt.forEach(function(bt){return g(dt,bt)}),I&&tg(dt,St),_t}function ft(dt,ht,pt,gt){var _t=Ka(pt);if(typeof _t!="function")throw Error(p$1(150));if(pt=_t.call(pt),pt==null)throw Error(p$1(151));for(var Et=_t=null,yt=ht,St=ht=0,wt=null,kt=pt.next();yt!==null&&!kt.done;St++,kt=pt.next()){yt.index>St?(wt=yt,yt=null):wt=yt.sibling;var bt=lt(dt,yt,kt.value,gt);if(bt===null){yt===null&&(yt=wt);break}d&&yt&&bt.alternate===null&&g(dt,yt),ht=et(bt,ht,St),Et===null?_t=bt:Et.sibling=bt,Et=bt,yt=wt}if(kt.done)return $(dt,yt),I&&tg(dt,St),_t;if(yt===null){for(;!kt.done;St++,kt=pt.next())kt=ot(dt,kt.value,gt),kt!==null&&(ht=et(kt,ht,St),Et===null?_t=kt:Et.sibling=kt,Et=kt);return I&&tg(dt,St),_t}for(yt=j(dt,yt);!kt.done;St++,kt=pt.next())kt=ut(yt,dt,St,kt.value,gt),kt!==null&&(d&&kt.alternate!==null&&yt.delete(kt.key===null?St:kt.key),ht=et(kt,ht,St),Et===null?_t=kt:Et.sibling=kt,Et=kt);return d&&yt.forEach(function(Tt){return g(dt,Tt)}),I&&tg(dt,St),_t}function mt(dt,ht,pt,gt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:t:{for(var _t=pt.key,Et=ht;Et!==null;){if(Et.key===_t){if(_t=pt.type,_t===ya){if(Et.tag===7){$(dt,Et.sibling),ht=tt(Et,pt.props.children),ht.return=dt,dt=ht;break t}}else if(Et.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&Ng(_t)===Et.type){$(dt,Et.sibling),ht=tt(Et,pt.props),ht.ref=Lg(dt,Et,pt),ht.return=dt,dt=ht;break t}$(dt,Et);break}else g(dt,Et);Et=Et.sibling}pt.type===ya?(ht=Tg(pt.props.children,dt.mode,gt,pt.key),ht.return=dt,dt=ht):(gt=Rg(pt.type,pt.key,pt.props,null,dt.mode,gt),gt.ref=Lg(dt,ht,pt),gt.return=dt,dt=gt)}return rt(dt);case wa:t:{for(Et=pt.key;ht!==null;){if(ht.key===Et)if(ht.tag===4&&ht.stateNode.containerInfo===pt.containerInfo&&ht.stateNode.implementation===pt.implementation){$(dt,ht.sibling),ht=tt(ht,pt.children||[]),ht.return=dt,dt=ht;break t}else{$(dt,ht);break}else g(dt,ht);ht=ht.sibling}ht=Sg(pt,dt.mode,gt),ht.return=dt,dt=ht}return rt(dt);case Ha:return Et=pt._init,mt(dt,ht,Et(pt._payload),gt)}if(eb(pt))return ct(dt,ht,pt,gt);if(Ka(pt))return ft(dt,ht,pt,gt);Mg(dt,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,ht!==null&&ht.tag===6?($(dt,ht.sibling),ht=tt(ht,pt),ht.return=dt,dt=ht):($(dt,ht),ht=Qg(pt,dt.mode,gt),ht.return=dt,dt=ht),rt(dt)):$(dt,ht)}return mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(d){var g=Wg.current;E$1(Wg),d._currentValue=g}function bh(d,g,$){for(;d!==null;){var j=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,j!==null&&(j.childLanes|=g)):j!==null&&(j.childLanes&g)!==g&&(j.childLanes|=g),d===$)break;d=d.return}}function ch(d,g){Xg=d,Zg=Yg=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&g&&(dh=!0),d.firstContext=null)}function eh(d){var g=d._currentValue;if(Zg!==d)if(d={context:d,memoizedValue:g,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=d,Xg.dependencies={lanes:0,firstContext:d}}else Yg=Yg.next=d;return g}var fh=null;function gh(d){fh===null?fh=[d]:fh.push(d)}function hh(d,g,$,j){var tt=g.interleaved;return tt===null?($.next=$,gh(g)):($.next=tt.next,tt.next=$),g.interleaved=$,ih(d,j)}function ih(d,g){d.lanes|=g;var $=d.alternate;for($!==null&&($.lanes|=g),$=d,d=d.return;d!==null;)d.childLanes|=g,$=d.alternate,$!==null&&($.childLanes|=g),$=d,d=d.return;return $.tag===3?$.stateNode:null}var jh=!1;function kh(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function mh(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function nh(d,g,$){var j=d.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var tt=j.pending;return tt===null?g.next=g:(g.next=tt.next,tt.next=g),j.pending=g,ih(d,$)}return tt=j.interleaved,tt===null?(g.next=g,gh(j)):(g.next=tt.next,tt.next=g),j.interleaved=g,ih(d,$)}function oh(d,g,$){if(g=g.updateQueue,g!==null&&(g=g.shared,($&4194240)!==0)){var j=g.lanes;j&=d.pendingLanes,$|=j,g.lanes=$,Cc(d,$)}}function ph(d,g){var $=d.updateQueue,j=d.alternate;if(j!==null&&(j=j.updateQueue,$===j)){var tt=null,et=null;if($=$.firstBaseUpdate,$!==null){do{var rt={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};et===null?tt=et=rt:et=et.next=rt,$=$.next}while($!==null);et===null?tt=et=g:et=et.next=g}else tt=et=g;$={baseState:j.baseState,firstBaseUpdate:tt,lastBaseUpdate:et,shared:j.shared,effects:j.effects},d.updateQueue=$;return}d=$.lastBaseUpdate,d===null?$.firstBaseUpdate=g:d.next=g,$.lastBaseUpdate=g}function qh(d,g,$,j){var tt=d.updateQueue;jh=!1;var et=tt.firstBaseUpdate,rt=tt.lastBaseUpdate,nt=tt.shared.pending;if(nt!==null){tt.shared.pending=null;var it=nt,at=it.next;it.next=null,rt===null?et=at:rt.next=at,rt=it;var st=d.alternate;st!==null&&(st=st.updateQueue,nt=st.lastBaseUpdate,nt!==rt&&(nt===null?st.firstBaseUpdate=at:nt.next=at,st.lastBaseUpdate=it))}if(et!==null){var ot=tt.baseState;rt=0,st=at=it=null,nt=et;do{var lt=nt.lane,ut=nt.eventTime;if((j&lt)===lt){st!==null&&(st=st.next={eventTime:ut,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});t:{var ct=d,ft=nt;switch(lt=g,ut=$,ft.tag){case 1:if(ct=ft.payload,typeof ct=="function"){ot=ct.call(ut,ot,lt);break t}ot=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=ft.payload,lt=typeof ct=="function"?ct.call(ut,ot,lt):ct,lt==null)break t;ot=A$1({},ot,lt);break t;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(d.flags|=64,lt=tt.effects,lt===null?tt.effects=[nt]:lt.push(nt))}else ut={eventTime:ut,lane:lt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},st===null?(at=st=ut,it=ot):st=st.next=ut,rt|=lt;if(nt=nt.next,nt===null){if(nt=tt.shared.pending,nt===null)break;lt=nt,nt=lt.next,lt.next=null,tt.lastBaseUpdate=lt,tt.shared.pending=null}}while(1);if(st===null&&(it=ot),tt.baseState=it,tt.firstBaseUpdate=at,tt.lastBaseUpdate=st,g=tt.shared.interleaved,g!==null){tt=g;do rt|=tt.lane,tt=tt.next;while(tt!==g)}else et===null&&(tt.shared.lanes=0);rh|=rt,d.lanes=rt,d.memoizedState=ot}}function sh(d,g,$){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var j=d[g],tt=j.callback;if(tt!==null){if(j.callback=null,j=$,typeof tt!="function")throw Error(p$1(191,tt));tt.call(j)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(d){if(d===th)throw Error(p$1(174));return d}function yh(d,g){switch(G(wh,g),G(vh,d),G(uh,th),d=g.nodeType,d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lb(null,"");break;default:d=d===8?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=lb(g,d)}E$1(uh),G(uh,g)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(d){xh(wh.current);var g=xh(uh.current),$=lb(g,d.type);g!==$&&(G(vh,d),G(uh,$))}function Bh(d){vh.current===d&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(d){for(var g=d;g!==null;){if(g.tag===13){var $=g.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Dh=[];function Eh(){for(var d=0;d<Dh.length;d++)Dh[d]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(d,g){if(g===null)return!1;for(var $=0;$<g.length&&$<d.length;$++)if(!He(d[$],g[$]))return!1;return!0}function Nh(d,g,$,j,tt,et){if(Hh=et,M$1=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Fh.current=d===null||d.memoizedState===null?Oh:Ph,d=$(j,tt),Jh){et=0;do{if(Jh=!1,Kh=0,25<=et)throw Error(p$1(301));et+=1,O$1=N$1=null,g.updateQueue=null,Fh.current=Qh,d=$(j,tt)}while(Jh)}if(Fh.current=Rh,g=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,g)throw Error(p$1(300));return d}function Sh(){var d=Kh!==0;return Kh=0,d}function Th(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=d:O$1=O$1.next=d,O$1}function Uh(){if(N$1===null){var d=M$1.alternate;d=d!==null?d.memoizedState:null}else d=N$1.next;var g=O$1===null?M$1.memoizedState:O$1.next;if(g!==null)O$1=g,N$1=d;else{if(d===null)throw Error(p$1(310));N$1=d,d={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=d:O$1=O$1.next=d}return O$1}function Vh(d,g){return typeof g=="function"?g(d):g}function Wh(d){var g=Uh(),$=g.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=d;var j=N$1,tt=j.baseQueue,et=$.pending;if(et!==null){if(tt!==null){var rt=tt.next;tt.next=et.next,et.next=rt}j.baseQueue=tt=et,$.pending=null}if(tt!==null){et=tt.next,j=j.baseState;var nt=rt=null,it=null,at=et;do{var st=at.lane;if((Hh&st)===st)it!==null&&(it=it.next={lane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),j=at.hasEagerState?at.eagerState:d(j,at.action);else{var ot={lane:st,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null};it===null?(nt=it=ot,rt=j):it=it.next=ot,M$1.lanes|=st,rh|=st}at=at.next}while(at!==null&&at!==et);it===null?rt=j:it.next=nt,He(j,g.memoizedState)||(dh=!0),g.memoizedState=j,g.baseState=rt,g.baseQueue=it,$.lastRenderedState=j}if(d=$.interleaved,d!==null){tt=d;do et=tt.lane,M$1.lanes|=et,rh|=et,tt=tt.next;while(tt!==d)}else tt===null&&($.lanes=0);return[g.memoizedState,$.dispatch]}function Xh(d){var g=Uh(),$=g.queue;if($===null)throw Error(p$1(311));$.lastRenderedReducer=d;var j=$.dispatch,tt=$.pending,et=g.memoizedState;if(tt!==null){$.pending=null;var rt=tt=tt.next;do et=d(et,rt.action),rt=rt.next;while(rt!==tt);He(et,g.memoizedState)||(dh=!0),g.memoizedState=et,g.baseQueue===null&&(g.baseState=et),$.lastRenderedState=et}return[et,j]}function Yh(){}function Zh(d,g){var $=M$1,j=Uh(),tt=g(),et=!He(j.memoizedState,tt);if(et&&(j.memoizedState=tt,dh=!0),j=j.queue,$h(ai.bind(null,$,j,d),[d]),j.getSnapshot!==g||et||O$1!==null&&O$1.memoizedState.tag&1){if($.flags|=2048,bi(9,ci.bind(null,$,j,tt,g),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di($,g,tt)}return tt}function di(d,g,$){d.flags|=16384,d={getSnapshot:g,value:$},g=M$1.updateQueue,g===null?(g={lastEffect:null,stores:null},M$1.updateQueue=g,g.stores=[d]):($=g.stores,$===null?g.stores=[d]:$.push(d))}function ci(d,g,$,j){g.value=$,g.getSnapshot=j,ei(g)&&fi(d)}function ai(d,g,$){return $(function(){ei(g)&&fi(d)})}function ei(d){var g=d.getSnapshot;d=d.value;try{var $=g();return!He(d,$)}catch{return!0}}function fi(d){var g=ih(d,1);g!==null&&gi(g,d,1,-1)}function hi(d){var g=Th();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:d},g.queue=d,d=d.dispatch=ii.bind(null,M$1,d),[g.memoizedState,d]}function bi(d,g,$,j){return d={tag:d,create:g,destroy:$,deps:j,next:null},g=M$1.updateQueue,g===null?(g={lastEffect:null,stores:null},M$1.updateQueue=g,g.lastEffect=d.next=d):($=g.lastEffect,$===null?g.lastEffect=d.next=d:(j=$.next,$.next=d,d.next=j,g.lastEffect=d)),d}function ji(){return Uh().memoizedState}function ki(d,g,$,j){var tt=Th();M$1.flags|=d,tt.memoizedState=bi(1|g,$,void 0,j===void 0?null:j)}function li(d,g,$,j){var tt=Uh();j=j===void 0?null:j;var et=void 0;if(N$1!==null){var rt=N$1.memoizedState;if(et=rt.destroy,j!==null&&Mh(j,rt.deps)){tt.memoizedState=bi(g,$,et,j);return}}M$1.flags|=d,tt.memoizedState=bi(1|g,$,et,j)}function mi(d,g){return ki(8390656,8,d,g)}function $h(d,g){return li(2048,8,d,g)}function ni(d,g){return li(4,2,d,g)}function oi(d,g){return li(4,4,d,g)}function pi(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function qi(d,g,$){return $=$!=null?$.concat([d]):null,li(4,4,pi.bind(null,g,d),$)}function ri(){}function si(d,g){var $=Uh();g=g===void 0?null:g;var j=$.memoizedState;return j!==null&&g!==null&&Mh(g,j[1])?j[0]:($.memoizedState=[d,g],d)}function ti(d,g){var $=Uh();g=g===void 0?null:g;var j=$.memoizedState;return j!==null&&g!==null&&Mh(g,j[1])?j[0]:(d=d(),$.memoizedState=[d,g],d)}function ui(d,g,$){return Hh&21?(He($,g)||($=yc(),M$1.lanes|=$,rh|=$,d.baseState=!0),g):(d.baseState&&(d.baseState=!1,dh=!0),d.memoizedState=$)}function vi(d,g){var $=C$1;C$1=$!==0&&4>$?$:4,d(!0);var j=Gh.transition;Gh.transition={};try{d(!1),g()}finally{C$1=$,Gh.transition=j}}function wi(){return Uh().memoizedState}function xi(d,g,$){var j=yi(d);if($={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null},zi(d))Ai(g,$);else if($=hh(d,g,$,j),$!==null){var tt=R$1();gi($,d,j,tt),Bi($,g,j)}}function ii(d,g,$){var j=yi(d),tt={lane:j,action:$,hasEagerState:!1,eagerState:null,next:null};if(zi(d))Ai(g,tt);else{var et=d.alternate;if(d.lanes===0&&(et===null||et.lanes===0)&&(et=g.lastRenderedReducer,et!==null))try{var rt=g.lastRenderedState,nt=et(rt,$);if(tt.hasEagerState=!0,tt.eagerState=nt,He(nt,rt)){var it=g.interleaved;it===null?(tt.next=tt,gh(g)):(tt.next=it.next,it.next=tt),g.interleaved=tt;return}}catch{}finally{}$=hh(d,g,tt,j),$!==null&&(tt=R$1(),gi($,d,j,tt),Bi($,g,j))}}function zi(d){var g=d.alternate;return d===M$1||g!==null&&g===M$1}function Ai(d,g){Jh=Ih=!0;var $=d.pending;$===null?g.next=g:(g.next=$.next,$.next=g),d.pending=g}function Bi(d,g,$){if($&4194240){var j=g.lanes;j&=d.pendingLanes,$|=j,g.lanes=$,Cc(d,$)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(d,g){return Th().memoizedState=[d,g===void 0?null:g],d},useContext:eh,useEffect:mi,useImperativeHandle:function(d,g,$){return $=$!=null?$.concat([d]):null,ki(4194308,4,pi.bind(null,g,d),$)},useLayoutEffect:function(d,g){return ki(4194308,4,d,g)},useInsertionEffect:function(d,g){return ki(4,2,d,g)},useMemo:function(d,g){var $=Th();return g=g===void 0?null:g,d=d(),$.memoizedState=[d,g],d},useReducer:function(d,g,$){var j=Th();return g=$!==void 0?$(g):g,j.memoizedState=j.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},j.queue=d,d=d.dispatch=xi.bind(null,M$1,d),[j.memoizedState,d]},useRef:function(d){var g=Th();return d={current:d},g.memoizedState=d},useState:hi,useDebugValue:ri,useDeferredValue:function(d){return Th().memoizedState=d},useTransition:function(){var d=hi(!1),g=d[0];return d=vi.bind(null,d[1]),Th().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,$){var j=M$1,tt=Th();if(I){if($===void 0)throw Error(p$1(407));$=$()}else{if($=g(),Q===null)throw Error(p$1(349));Hh&30||di(j,g,$)}tt.memoizedState=$;var et={value:$,getSnapshot:g};return tt.queue=et,mi(ai.bind(null,j,et,d),[d]),j.flags|=2048,bi(9,ci.bind(null,j,et,$,g),void 0,null),$},useId:function(){var d=Th(),g=Q.identifierPrefix;if(I){var $=sg,j=rg;$=(j&~(1<<32-oc(j)-1)).toString(32)+$,g=":"+g+"R"+$,$=Kh++,0<$&&(g+="H"+$.toString(32)),g+=":"}else $=Lh++,g=":"+g+"r"+$.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(d){var g=Uh();return ui(g,N$1.memoizedState,d)},useTransition:function(){var d=Wh(Vh)[0],g=Uh().memoizedState;return[d,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(d){var g=Uh();return N$1===null?g.memoizedState=d:ui(g,N$1.memoizedState,d)},useTransition:function(){var d=Xh(Vh)[0],g=Uh().memoizedState;return[d,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(d,g){if(d&&d.defaultProps){g=A$1({},g),d=d.defaultProps;for(var $ in d)g[$]===void 0&&(g[$]=d[$]);return g}return g}function Di(d,g,$,j){g=d.memoizedState,$=$(j,g),$=$==null?g:A$1({},g,$),d.memoizedState=$,d.lanes===0&&(d.updateQueue.baseState=$)}var Ei={isMounted:function(d){return(d=d._reactInternals)?Vb(d)===d:!1},enqueueSetState:function(d,g,$){d=d._reactInternals;var j=R$1(),tt=yi(d),et=mh(j,tt);et.payload=g,$!=null&&(et.callback=$),g=nh(d,et,tt),g!==null&&(gi(g,d,tt,j),oh(g,d,tt))},enqueueReplaceState:function(d,g,$){d=d._reactInternals;var j=R$1(),tt=yi(d),et=mh(j,tt);et.tag=1,et.payload=g,$!=null&&(et.callback=$),g=nh(d,et,tt),g!==null&&(gi(g,d,tt,j),oh(g,d,tt))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var $=R$1(),j=yi(d),tt=mh($,j);tt.tag=2,g!=null&&(tt.callback=g),g=nh(d,tt,j),g!==null&&(gi(g,d,j,$),oh(g,d,j))}};function Fi(d,g,$,j,tt,et,rt){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(j,et,rt):g.prototype&&g.prototype.isPureReactComponent?!Ie($,j)||!Ie(tt,et):!0}function Gi(d,g,$){var j=!1,tt=Vf,et=g.contextType;return typeof et=="object"&&et!==null?et=eh(et):(tt=Zf(g)?Xf:H.current,j=g.contextTypes,et=(j=j!=null)?Yf(d,tt):Vf),g=new g($,et),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ei,d.stateNode=g,g._reactInternals=d,j&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=tt,d.__reactInternalMemoizedMaskedChildContext=et),g}function Hi(d,g,$,j){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps($,j),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps($,j),g.state!==d&&Ei.enqueueReplaceState(g,g.state,null)}function Ii(d,g,$,j){var tt=d.stateNode;tt.props=$,tt.state=d.memoizedState,tt.refs={},kh(d);var et=g.contextType;typeof et=="object"&&et!==null?tt.context=eh(et):(et=Zf(g)?Xf:H.current,tt.context=Yf(d,et)),tt.state=d.memoizedState,et=g.getDerivedStateFromProps,typeof et=="function"&&(Di(d,g,et,$),tt.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(g=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),g!==tt.state&&Ei.enqueueReplaceState(tt,tt.state,null),qh(d,$,tt,j),tt.state=d.memoizedState),typeof tt.componentDidMount=="function"&&(d.flags|=4194308)}function Ji(d,g){try{var $="",j=g;do $+=Pa(j),j=j.return;while(j);var tt=$}catch(et){tt=`
Error generating stack: `+et.message+`
`+et.stack}return{value:d,source:g,stack:tt,digest:null}}function Ki(d,g,$){return{value:d,source:null,stack:$??null,digest:g??null}}function Li(d,g){try{console.error(g.value)}catch($){setTimeout(function(){throw $})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(d,g,$){$=mh(-1,$),$.tag=3,$.payload={element:null};var j=g.value;return $.callback=function(){Oi||(Oi=!0,Pi=j),Li(d,g)},$}function Qi(d,g,$){$=mh(-1,$),$.tag=3;var j=d.type.getDerivedStateFromError;if(typeof j=="function"){var tt=g.value;$.payload=function(){return j(tt)},$.callback=function(){Li(d,g)}}var et=d.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&($.callback=function(){Li(d,g),typeof j!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=g.stack;this.componentDidCatch(g.value,{componentStack:rt!==null?rt:""})}),$}function Si(d,g,$){var j=d.pingCache;if(j===null){j=d.pingCache=new Mi;var tt=new Set;j.set(g,tt)}else tt=j.get(g),tt===void 0&&(tt=new Set,j.set(g,tt));tt.has($)||(tt.add($),d=Ti.bind(null,d,g,$),g.then(d,d))}function Ui(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function Vi(d,g,$,j,tt){return d.mode&1?(d.flags|=65536,d.lanes=tt,d):(d===g?d.flags|=65536:(d.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(g=mh(-1,1),g.tag=2,nh($,g,1))),$.lanes|=1),d)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(d,g,$,j){g.child=d===null?Vg(g,null,$,j):Ug(g,d.child,$,j)}function Yi(d,g,$,j,tt){$=$.render;var et=g.ref;return ch(g,tt),j=Nh(d,g,$,j,et,tt),$=Sh(),d!==null&&!dh?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~tt,Zi(d,g,tt)):(I&&$&&vg(g),g.flags|=1,Xi(d,g,j,tt),g.child)}function $i(d,g,$,j,tt){if(d===null){var et=$.type;return typeof et=="function"&&!aj(et)&&et.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(g.tag=15,g.type=et,bj(d,g,et,j,tt)):(d=Rg($.type,null,j,g,g.mode,tt),d.ref=g.ref,d.return=g,g.child=d)}if(et=d.child,!(d.lanes&tt)){var rt=et.memoizedProps;if($=$.compare,$=$!==null?$:Ie,$(rt,j)&&d.ref===g.ref)return Zi(d,g,tt)}return g.flags|=1,d=Pg(et,j),d.ref=g.ref,d.return=g,g.child=d}function bj(d,g,$,j,tt){if(d!==null){var et=d.memoizedProps;if(Ie(et,j)&&d.ref===g.ref)if(dh=!1,g.pendingProps=j=et,(d.lanes&tt)!==0)d.flags&131072&&(dh=!0);else return g.lanes=d.lanes,Zi(d,g,tt)}return cj(d,g,$,j,tt)}function dj(d,g,$){var j=g.pendingProps,tt=j.children,et=d!==null?d.memoizedState:null;if(j.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=$;else{if(!($&1073741824))return d=et!==null?et.baseLanes|$:$,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null,transitions:null},g.updateQueue=null,G(ej,fj),fj|=d,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=et!==null?et.baseLanes:$,G(ej,fj),fj|=j}else et!==null?(j=et.baseLanes|$,g.memoizedState=null):j=$,G(ej,fj),fj|=j;return Xi(d,g,tt,$),g.child}function gj(d,g){var $=g.ref;(d===null&&$!==null||d!==null&&d.ref!==$)&&(g.flags|=512,g.flags|=2097152)}function cj(d,g,$,j,tt){var et=Zf($)?Xf:H.current;return et=Yf(g,et),ch(g,tt),$=Nh(d,g,$,j,et,tt),j=Sh(),d!==null&&!dh?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~tt,Zi(d,g,tt)):(I&&j&&vg(g),g.flags|=1,Xi(d,g,$,tt),g.child)}function hj(d,g,$,j,tt){if(Zf($)){var et=!0;cg(g)}else et=!1;if(ch(g,tt),g.stateNode===null)ij(d,g),Gi(g,$,j),Ii(g,$,j,tt),j=!0;else if(d===null){var rt=g.stateNode,nt=g.memoizedProps;rt.props=nt;var it=rt.context,at=$.contextType;typeof at=="object"&&at!==null?at=eh(at):(at=Zf($)?Xf:H.current,at=Yf(g,at));var st=$.getDerivedStateFromProps,ot=typeof st=="function"||typeof rt.getSnapshotBeforeUpdate=="function";ot||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==j||it!==at)&&Hi(g,rt,j,at),jh=!1;var lt=g.memoizedState;rt.state=lt,qh(g,j,rt,tt),it=g.memoizedState,nt!==j||lt!==it||Wf.current||jh?(typeof st=="function"&&(Di(g,$,st,j),it=g.memoizedState),(nt=jh||Fi(g,$,nt,j,lt,it,at))?(ot||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(g.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=j,g.memoizedState=it),rt.props=j,rt.state=it,rt.context=at,j=nt):(typeof rt.componentDidMount=="function"&&(g.flags|=4194308),j=!1)}else{rt=g.stateNode,lh(d,g),nt=g.memoizedProps,at=g.type===g.elementType?nt:Ci(g.type,nt),rt.props=at,ot=g.pendingProps,lt=rt.context,it=$.contextType,typeof it=="object"&&it!==null?it=eh(it):(it=Zf($)?Xf:H.current,it=Yf(g,it));var ut=$.getDerivedStateFromProps;(st=typeof ut=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==ot||lt!==it)&&Hi(g,rt,j,it),jh=!1,lt=g.memoizedState,rt.state=lt,qh(g,j,rt,tt);var ct=g.memoizedState;nt!==ot||lt!==ct||Wf.current||jh?(typeof ut=="function"&&(Di(g,$,ut,j),ct=g.memoizedState),(at=jh||Fi(g,$,at,j,lt,ct,it)||!1)?(st||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(j,ct,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(j,ct,it)),typeof rt.componentDidUpdate=="function"&&(g.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof rt.componentDidUpdate!="function"||nt===d.memoizedProps&&lt===d.memoizedState||(g.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===d.memoizedProps&&lt===d.memoizedState||(g.flags|=1024),g.memoizedProps=j,g.memoizedState=ct),rt.props=j,rt.state=ct,rt.context=it,j=at):(typeof rt.componentDidUpdate!="function"||nt===d.memoizedProps&&lt===d.memoizedState||(g.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===d.memoizedProps&&lt===d.memoizedState||(g.flags|=1024),j=!1)}return jj(d,g,$,j,et,tt)}function jj(d,g,$,j,tt,et){gj(d,g);var rt=(g.flags&128)!==0;if(!j&&!rt)return tt&&dg(g,$,!1),Zi(d,g,et);j=g.stateNode,Wi.current=g;var nt=rt&&typeof $.getDerivedStateFromError!="function"?null:j.render();return g.flags|=1,d!==null&&rt?(g.child=Ug(g,d.child,null,et),g.child=Ug(g,null,nt,et)):Xi(d,g,nt,et),g.memoizedState=j.state,tt&&dg(g,$,!0),g.child}function kj(d){var g=d.stateNode;g.pendingContext?ag(d,g.pendingContext,g.pendingContext!==g.context):g.context&&ag(d,g.context,!1),yh(d,g.containerInfo)}function lj(d,g,$,j,tt){return Ig(),Jg(tt),g.flags|=256,Xi(d,g,$,j),g.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(d){return{baseLanes:d,cachePool:null,transitions:null}}function oj(d,g,$){var j=g.pendingProps,tt=L$1.current,et=!1,rt=(g.flags&128)!==0,nt;if((nt=rt)||(nt=d!==null&&d.memoizedState===null?!1:(tt&2)!==0),nt?(et=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(tt|=1),G(L$1,tt&1),d===null)return Eg(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(g.mode&1?d.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(rt=j.children,d=j.fallback,et?(j=g.mode,et=g.child,rt={mode:"hidden",children:rt},!(j&1)&&et!==null?(et.childLanes=0,et.pendingProps=rt):et=pj(rt,j,0,null),d=Tg(d,j,$,null),et.return=g,d.return=g,et.sibling=d,g.child=et,g.child.memoizedState=nj($),g.memoizedState=mj,d):qj(g,rt));if(tt=d.memoizedState,tt!==null&&(nt=tt.dehydrated,nt!==null))return rj(d,g,rt,j,nt,tt,$);if(et){et=j.fallback,rt=g.mode,tt=d.child,nt=tt.sibling;var it={mode:"hidden",children:j.children};return!(rt&1)&&g.child!==tt?(j=g.child,j.childLanes=0,j.pendingProps=it,g.deletions=null):(j=Pg(tt,it),j.subtreeFlags=tt.subtreeFlags&14680064),nt!==null?et=Pg(nt,et):(et=Tg(et,rt,$,null),et.flags|=2),et.return=g,j.return=g,j.sibling=et,g.child=j,j=et,et=g.child,rt=d.child.memoizedState,rt=rt===null?nj($):{baseLanes:rt.baseLanes|$,cachePool:null,transitions:rt.transitions},et.memoizedState=rt,et.childLanes=d.childLanes&~$,g.memoizedState=mj,j}return et=d.child,d=et.sibling,j=Pg(et,{mode:"visible",children:j.children}),!(g.mode&1)&&(j.lanes=$),j.return=g,j.sibling=null,d!==null&&($=g.deletions,$===null?(g.deletions=[d],g.flags|=16):$.push(d)),g.child=j,g.memoizedState=null,j}function qj(d,g){return g=pj({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function sj(d,g,$,j){return j!==null&&Jg(j),Ug(g,d.child,null,$),d=qj(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function rj(d,g,$,j,tt,et,rt){if($)return g.flags&256?(g.flags&=-257,j=Ki(Error(p$1(422))),sj(d,g,rt,j)):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(et=j.fallback,tt=g.mode,j=pj({mode:"visible",children:j.children},tt,0,null),et=Tg(et,tt,rt,null),et.flags|=2,j.return=g,et.return=g,j.sibling=et,g.child=j,g.mode&1&&Ug(g,d.child,null,rt),g.child.memoizedState=nj(rt),g.memoizedState=mj,et);if(!(g.mode&1))return sj(d,g,rt,null);if(tt.data==="$!"){if(j=tt.nextSibling&&tt.nextSibling.dataset,j)var nt=j.dgst;return j=nt,et=Error(p$1(419)),j=Ki(et,j,void 0),sj(d,g,rt,j)}if(nt=(rt&d.childLanes)!==0,dh||nt){if(j=Q,j!==null){switch(rt&-rt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(j.suspendedLanes|rt)?0:tt,tt!==0&&tt!==et.retryLane&&(et.retryLane=tt,ih(d,tt),gi(j,d,tt,-1))}return tj(),j=Ki(Error(p$1(421))),sj(d,g,rt,j)}return tt.data==="$?"?(g.flags|=128,g.child=d.child,g=uj.bind(null,d),tt._reactRetry=g,null):(d=et.treeContext,yg=Lf(tt.nextSibling),xg=g,I=!0,zg=null,d!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=d.id,sg=d.overflow,qg=g),g=qj(g,j.children),g.flags|=4096,g)}function vj(d,g,$){d.lanes|=g;var j=d.alternate;j!==null&&(j.lanes|=g),bh(d.return,g,$)}function wj(d,g,$,j,tt){var et=d.memoizedState;et===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:j,tail:$,tailMode:tt}:(et.isBackwards=g,et.rendering=null,et.renderingStartTime=0,et.last=j,et.tail=$,et.tailMode=tt)}function xj(d,g,$){var j=g.pendingProps,tt=j.revealOrder,et=j.tail;if(Xi(d,g,j.children,$),j=L$1.current,j&2)j=j&1|2,g.flags|=128;else{if(d!==null&&d.flags&128)t:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&vj(d,$,g);else if(d.tag===19)vj(d,$,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break t;for(;d.sibling===null;){if(d.return===null||d.return===g)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}j&=1}if(G(L$1,j),!(g.mode&1))g.memoizedState=null;else switch(tt){case"forwards":for($=g.child,tt=null;$!==null;)d=$.alternate,d!==null&&Ch(d)===null&&(tt=$),$=$.sibling;$=tt,$===null?(tt=g.child,g.child=null):(tt=$.sibling,$.sibling=null),wj(g,!1,tt,$,et);break;case"backwards":for($=null,tt=g.child,g.child=null;tt!==null;){if(d=tt.alternate,d!==null&&Ch(d)===null){g.child=tt;break}d=tt.sibling,tt.sibling=$,$=tt,tt=d}wj(g,!0,$,null,et);break;case"together":wj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function ij(d,g){!(g.mode&1)&&d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2)}function Zi(d,g,$){if(d!==null&&(g.dependencies=d.dependencies),rh|=g.lanes,!($&g.childLanes))return null;if(d!==null&&g.child!==d.child)throw Error(p$1(153));if(g.child!==null){for(d=g.child,$=Pg(d,d.pendingProps),g.child=$,$.return=g;d.sibling!==null;)d=d.sibling,$=$.sibling=Pg(d,d.pendingProps),$.return=g;$.sibling=null}return g.child}function yj(d,g,$){switch(g.tag){case 3:kj(g),Ig();break;case 5:Ah(g);break;case 1:Zf(g.type)&&cg(g);break;case 4:yh(g,g.stateNode.containerInfo);break;case 10:var j=g.type._context,tt=g.memoizedProps.value;G(Wg,j._currentValue),j._currentValue=tt;break;case 13:if(j=g.memoizedState,j!==null)return j.dehydrated!==null?(G(L$1,L$1.current&1),g.flags|=128,null):$&g.child.childLanes?oj(d,g,$):(G(L$1,L$1.current&1),d=Zi(d,g,$),d!==null?d.sibling:null);G(L$1,L$1.current&1);break;case 19:if(j=($&g.childLanes)!==0,d.flags&128){if(j)return xj(d,g,$);g.flags|=128}if(tt=g.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(L$1,L$1.current),j)break;return null;case 22:case 23:return g.lanes=0,dj(d,g,$)}return Zi(d,g,$)}var zj,Aj,Bj,Cj;zj=function(d,g){for(var $=g.child;$!==null;){if($.tag===5||$.tag===6)d.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===g)break;for(;$.sibling===null;){if($.return===null||$.return===g)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};Aj=function(){};Bj=function(d,g,$,j){var tt=d.memoizedProps;if(tt!==j){d=g.stateNode,xh(uh.current);var et=null;switch($){case"input":tt=Ya(d,tt),j=Ya(d,j),et=[];break;case"select":tt=A$1({},tt,{value:void 0}),j=A$1({},j,{value:void 0}),et=[];break;case"textarea":tt=gb(d,tt),j=gb(d,j),et=[];break;default:typeof tt.onClick!="function"&&typeof j.onClick=="function"&&(d.onclick=Bf)}ub($,j);var rt;$=null;for(at in tt)if(!j.hasOwnProperty(at)&&tt.hasOwnProperty(at)&&tt[at]!=null)if(at==="style"){var nt=tt[at];for(rt in nt)nt.hasOwnProperty(rt)&&($||($={}),$[rt]="")}else at!=="dangerouslySetInnerHTML"&&at!=="children"&&at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(ea.hasOwnProperty(at)?et||(et=[]):(et=et||[]).push(at,null));for(at in j){var it=j[at];if(nt=tt!=null?tt[at]:void 0,j.hasOwnProperty(at)&&it!==nt&&(it!=null||nt!=null))if(at==="style")if(nt){for(rt in nt)!nt.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||($||($={}),$[rt]="");for(rt in it)it.hasOwnProperty(rt)&&nt[rt]!==it[rt]&&($||($={}),$[rt]=it[rt])}else $||(et||(et=[]),et.push(at,$)),$=it;else at==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,nt=nt?nt.__html:void 0,it!=null&&nt!==it&&(et=et||[]).push(at,it)):at==="children"?typeof it!="string"&&typeof it!="number"||(et=et||[]).push(at,""+it):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&(ea.hasOwnProperty(at)?(it!=null&&at==="onScroll"&&D("scroll",d),et||nt===it||(et=[])):(et=et||[]).push(at,it))}$&&(et=et||[]).push("style",$);var at=et;(g.updateQueue=at)&&(g.flags|=4)}};Cj=function(d,g,$,j){$!==j&&(g.flags|=4)};function Dj(d,g){if(!I)switch(d.tailMode){case"hidden":g=d.tail;for(var $=null;g!==null;)g.alternate!==null&&($=g),g=g.sibling;$===null?d.tail=null:$.sibling=null;break;case"collapsed":$=d.tail;for(var j=null;$!==null;)$.alternate!==null&&(j=$),$=$.sibling;j===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:j.sibling=null}}function S$1(d){var g=d.alternate!==null&&d.alternate.child===d.child,$=0,j=0;if(g)for(var tt=d.child;tt!==null;)$|=tt.lanes|tt.childLanes,j|=tt.subtreeFlags&14680064,j|=tt.flags&14680064,tt.return=d,tt=tt.sibling;else for(tt=d.child;tt!==null;)$|=tt.lanes|tt.childLanes,j|=tt.subtreeFlags,j|=tt.flags,tt.return=d,tt=tt.sibling;return d.subtreeFlags|=j,d.childLanes=$,g}function Ej(d,g,$){var j=g.pendingProps;switch(wg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(g),null;case 1:return Zf(g.type)&&$f(),S$1(g),null;case 3:return j=g.stateNode,zh(),E$1(Wf),E$1(H),Eh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(d===null||d.child===null)&&(Gg(g)?g.flags|=4:d===null||d.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(d,g),S$1(g),null;case 5:Bh(g);var tt=xh(wh.current);if($=g.type,d!==null&&g.stateNode!=null)Bj(d,g,$,j,tt),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!j){if(g.stateNode===null)throw Error(p$1(166));return S$1(g),null}if(d=xh(uh.current),Gg(g)){j=g.stateNode,$=g.type;var et=g.memoizedProps;switch(j[Of]=g,j[Pf]=et,d=(g.mode&1)!==0,$){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,et),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!et.multiple},D("invalid",j);break;case"textarea":hb(j,et),D("invalid",j)}ub($,et),tt=null;for(var rt in et)if(et.hasOwnProperty(rt)){var nt=et[rt];rt==="children"?typeof nt=="string"?j.textContent!==nt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,nt,d),tt=["children",nt]):typeof nt=="number"&&j.textContent!==""+nt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,nt,d),tt=["children",""+nt]):ea.hasOwnProperty(rt)&&nt!=null&&rt==="onScroll"&&D("scroll",j)}switch($){case"input":Va(j),db(j,et,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(j.onclick=Bf)}j=tt,g.updateQueue=j,j!==null&&(g.flags|=4)}else{rt=tt.nodeType===9?tt:tt.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=kb($)),d==="http://www.w3.org/1999/xhtml"?$==="script"?(d=rt.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof j.is=="string"?d=rt.createElement($,{is:j.is}):(d=rt.createElement($),$==="select"&&(rt=d,j.multiple?rt.multiple=!0:j.size&&(rt.size=j.size))):d=rt.createElementNS(d,$),d[Of]=g,d[Pf]=j,zj(d,g,!1,!1),g.stateNode=d;t:{switch(rt=vb($,j),$){case"dialog":D("cancel",d),D("close",d),tt=j;break;case"iframe":case"object":case"embed":D("load",d),tt=j;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],d);tt=j;break;case"source":D("error",d),tt=j;break;case"img":case"image":case"link":D("error",d),D("load",d),tt=j;break;case"details":D("toggle",d),tt=j;break;case"input":Za(d,j),tt=Ya(d,j),D("invalid",d);break;case"option":tt=j;break;case"select":d._wrapperState={wasMultiple:!!j.multiple},tt=A$1({},j,{value:void 0}),D("invalid",d);break;case"textarea":hb(d,j),tt=gb(d,j),D("invalid",d);break;default:tt=j}ub($,tt),nt=tt;for(et in nt)if(nt.hasOwnProperty(et)){var it=nt[et];et==="style"?sb(d,it):et==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(d,it)):et==="children"?typeof it=="string"?($!=="textarea"||it!=="")&&ob(d,it):typeof it=="number"&&ob(d,""+it):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?it!=null&&et==="onScroll"&&D("scroll",d):it!=null&&ta(d,et,it,rt))}switch($){case"input":Va(d),db(d,j,!1);break;case"textarea":Va(d),jb(d);break;case"option":j.value!=null&&d.setAttribute("value",""+Sa(j.value));break;case"select":d.multiple=!!j.multiple,et=j.value,et!=null?fb(d,!!j.multiple,et,!1):j.defaultValue!=null&&fb(d,!!j.multiple,j.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(d.onclick=Bf)}switch($){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break t;case"img":j=!0;break t;default:j=!1}}j&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return S$1(g),null;case 6:if(d&&g.stateNode!=null)Cj(d,g,d.memoizedProps,j);else{if(typeof j!="string"&&g.stateNode===null)throw Error(p$1(166));if($=xh(wh.current),xh(uh.current),Gg(g)){if(j=g.stateNode,$=g.memoizedProps,j[Of]=g,(et=j.nodeValue!==$)&&(d=xg,d!==null))switch(d.tag){case 3:Af(j.nodeValue,$,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,$,(d.mode&1)!==0)}et&&(g.flags|=4)}else j=($.nodeType===9?$:$.ownerDocument).createTextNode(j),j[Of]=g,g.stateNode=j}return S$1(g),null;case 13:if(E$1(L$1),j=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(I&&yg!==null&&g.mode&1&&!(g.flags&128))Hg(),Ig(),g.flags|=98560,et=!1;else if(et=Gg(g),j!==null&&j.dehydrated!==null){if(d===null){if(!et)throw Error(p$1(318));if(et=g.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=g}else Ig(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;S$1(g),et=!1}else zg!==null&&(Fj(zg),zg=null),et=!0;if(!et)return g.flags&65536?g:null}return g.flags&128?(g.lanes=$,g):(j=j!==null,j!==(d!==null&&d.memoizedState!==null)&&j&&(g.child.flags|=8192,g.mode&1&&(d===null||L$1.current&1?T$1===0&&(T$1=3):tj())),g.updateQueue!==null&&(g.flags|=4),S$1(g),null);case 4:return zh(),Aj(d,g),d===null&&sf(g.stateNode.containerInfo),S$1(g),null;case 10:return ah(g.type._context),S$1(g),null;case 17:return Zf(g.type)&&$f(),S$1(g),null;case 19:if(E$1(L$1),et=g.memoizedState,et===null)return S$1(g),null;if(j=(g.flags&128)!==0,rt=et.rendering,rt===null)if(j)Dj(et,!1);else{if(T$1!==0||d!==null&&d.flags&128)for(d=g.child;d!==null;){if(rt=Ch(d),rt!==null){for(g.flags|=128,Dj(et,!1),j=rt.updateQueue,j!==null&&(g.updateQueue=j,g.flags|=4),g.subtreeFlags=0,j=$,$=g.child;$!==null;)et=$,d=j,et.flags&=14680066,rt=et.alternate,rt===null?(et.childLanes=0,et.lanes=d,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=rt.childLanes,et.lanes=rt.lanes,et.child=rt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=rt.memoizedProps,et.memoizedState=rt.memoizedState,et.updateQueue=rt.updateQueue,et.type=rt.type,d=rt.dependencies,et.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),$=$.sibling;return G(L$1,L$1.current&1|2),g.child}d=d.sibling}et.tail!==null&&B$1()>Gj&&(g.flags|=128,j=!0,Dj(et,!1),g.lanes=4194304)}else{if(!j)if(d=Ch(rt),d!==null){if(g.flags|=128,j=!0,$=d.updateQueue,$!==null&&(g.updateQueue=$,g.flags|=4),Dj(et,!0),et.tail===null&&et.tailMode==="hidden"&&!rt.alternate&&!I)return S$1(g),null}else 2*B$1()-et.renderingStartTime>Gj&&$!==1073741824&&(g.flags|=128,j=!0,Dj(et,!1),g.lanes=4194304);et.isBackwards?(rt.sibling=g.child,g.child=rt):($=et.last,$!==null?$.sibling=rt:g.child=rt,et.last=rt)}return et.tail!==null?(g=et.tail,et.rendering=g,et.tail=g.sibling,et.renderingStartTime=B$1(),g.sibling=null,$=L$1.current,G(L$1,j?$&1|2:$&1),g):(S$1(g),null);case 22:case 23:return Hj(),j=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==j&&(g.flags|=8192),j&&g.mode&1?fj&1073741824&&(S$1(g),g.subtreeFlags&6&&(g.flags|=8192)):S$1(g),null;case 24:return null;case 25:return null}throw Error(p$1(156,g.tag))}function Ij(d,g){switch(wg(g),g.tag){case 1:return Zf(g.type)&&$f(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),d=g.flags,d&65536&&!(d&128)?(g.flags=d&-65537|128,g):null;case 5:return Bh(g),null;case 13:if(E$1(L$1),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(p$1(340));Ig()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(g.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(d,g){var $=d.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(j){W(d,g,j)}else $.current=null}function Mj(d,g,$){try{$()}catch(j){W(d,g,j)}}var Nj=!1;function Oj(d,g){if(Cf=dd,d=Me(),Ne(d)){if("selectionStart"in d)var $={start:d.selectionStart,end:d.selectionEnd};else t:{$=($=d.ownerDocument)&&$.defaultView||window;var j=$.getSelection&&$.getSelection();if(j&&j.rangeCount!==0){$=j.anchorNode;var tt=j.anchorOffset,et=j.focusNode;j=j.focusOffset;try{$.nodeType,et.nodeType}catch{$=null;break t}var rt=0,nt=-1,it=-1,at=0,st=0,ot=d,lt=null;e:for(;;){for(var ut;ot!==$||tt!==0&&ot.nodeType!==3||(nt=rt+tt),ot!==et||j!==0&&ot.nodeType!==3||(it=rt+j),ot.nodeType===3&&(rt+=ot.nodeValue.length),(ut=ot.firstChild)!==null;)lt=ot,ot=ut;for(;;){if(ot===d)break e;if(lt===$&&++at===tt&&(nt=rt),lt===et&&++st===j&&(it=rt),(ut=ot.nextSibling)!==null)break;ot=lt,lt=ot.parentNode}ot=ut}$=nt===-1||it===-1?null:{start:nt,end:it}}else $=null}$=$||{start:0,end:0}}else $=null;for(Df={focusedElem:d,selectionRange:$},dd=!1,V=g;V!==null;)if(g=V,d=g.child,(g.subtreeFlags&1028)!==0&&d!==null)d.return=g,V=d;else for(;V!==null;){g=V;try{var ct=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(ct!==null){var ft=ct.memoizedProps,mt=ct.memoizedState,dt=g.stateNode,ht=dt.getSnapshotBeforeUpdate(g.elementType===g.type?ft:Ci(g.type,ft),mt);dt.__reactInternalSnapshotBeforeUpdate=ht}break;case 3:var pt=g.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(gt){W(g,g.return,gt)}if(d=g.sibling,d!==null){d.return=g.return,V=d;break}V=g.return}return ct=Nj,Nj=!1,ct}function Pj(d,g,$){var j=g.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var tt=j=j.next;do{if((tt.tag&d)===d){var et=tt.destroy;tt.destroy=void 0,et!==void 0&&Mj(g,$,et)}tt=tt.next}while(tt!==j)}}function Qj(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var $=g=g.next;do{if(($.tag&d)===d){var j=$.create;$.destroy=j()}$=$.next}while($!==g)}}function Rj(d){var g=d.ref;if(g!==null){var $=d.stateNode;switch(d.tag){case 5:d=$;break;default:d=$}typeof g=="function"?g(d):g.current=d}}function Sj(d){var g=d.alternate;g!==null&&(d.alternate=null,Sj(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&(delete g[Of],delete g[Pf],delete g[of],delete g[Qf],delete g[Rf])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Tj(d){return d.tag===5||d.tag===3||d.tag===4}function Uj(d){t:for(;;){for(;d.sibling===null;){if(d.return===null||Tj(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue t;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Vj(d,g,$){var j=d.tag;if(j===5||j===6)d=d.stateNode,g?$.nodeType===8?$.parentNode.insertBefore(d,g):$.insertBefore(d,g):($.nodeType===8?(g=$.parentNode,g.insertBefore(d,$)):(g=$,g.appendChild(d)),$=$._reactRootContainer,$!=null||g.onclick!==null||(g.onclick=Bf));else if(j!==4&&(d=d.child,d!==null))for(Vj(d,g,$),d=d.sibling;d!==null;)Vj(d,g,$),d=d.sibling}function Wj(d,g,$){var j=d.tag;if(j===5||j===6)d=d.stateNode,g?$.insertBefore(d,g):$.appendChild(d);else if(j!==4&&(d=d.child,d!==null))for(Wj(d,g,$),d=d.sibling;d!==null;)Wj(d,g,$),d=d.sibling}var X=null,Xj=!1;function Yj(d,g,$){for($=$.child;$!==null;)Zj(d,g,$),$=$.sibling}function Zj(d,g,$){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$)}catch{}switch($.tag){case 5:U||Lj($,g);case 6:var j=X,tt=Xj;X=null,Yj(d,g,$),X=j,Xj=tt,X!==null&&(Xj?(d=X,$=$.stateNode,d.nodeType===8?d.parentNode.removeChild($):d.removeChild($)):X.removeChild($.stateNode));break;case 18:X!==null&&(Xj?(d=X,$=$.stateNode,d.nodeType===8?Kf(d.parentNode,$):d.nodeType===1&&Kf(d,$),bd(d)):Kf(X,$.stateNode));break;case 4:j=X,tt=Xj,X=$.stateNode.containerInfo,Xj=!0,Yj(d,g,$),X=j,Xj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(j=$.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){tt=j=j.next;do{var et=tt,rt=et.destroy;et=et.tag,rt!==void 0&&(et&2||et&4)&&Mj($,g,rt),tt=tt.next}while(tt!==j)}Yj(d,g,$);break;case 1:if(!U&&(Lj($,g),j=$.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=$.memoizedProps,j.state=$.memoizedState,j.componentWillUnmount()}catch(nt){W($,g,nt)}Yj(d,g,$);break;case 21:Yj(d,g,$);break;case 22:$.mode&1?(U=(j=U)||$.memoizedState!==null,Yj(d,g,$),U=j):Yj(d,g,$);break;default:Yj(d,g,$)}}function ak(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var $=d.stateNode;$===null&&($=d.stateNode=new Kj),g.forEach(function(j){var tt=bk.bind(null,d,j);$.has(j)||($.add(j),j.then(tt,tt))})}}function ck(d,g){var $=g.deletions;if($!==null)for(var j=0;j<$.length;j++){var tt=$[j];try{var et=d,rt=g,nt=rt;t:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Xj=!1;break t;case 3:X=nt.stateNode.containerInfo,Xj=!0;break t;case 4:X=nt.stateNode.containerInfo,Xj=!0;break t}nt=nt.return}if(X===null)throw Error(p$1(160));Zj(et,rt,tt),X=null,Xj=!1;var it=tt.alternate;it!==null&&(it.return=null),tt.return=null}catch(at){W(tt,g,at)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)dk(g,d),g=g.sibling}function dk(d,g){var $=d.alternate,j=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ck(g,d),ek(d),j&4){try{Pj(3,d,d.return),Qj(3,d)}catch(ft){W(d,d.return,ft)}try{Pj(5,d,d.return)}catch(ft){W(d,d.return,ft)}}break;case 1:ck(g,d),ek(d),j&512&&$!==null&&Lj($,$.return);break;case 5:if(ck(g,d),ek(d),j&512&&$!==null&&Lj($,$.return),d.flags&32){var tt=d.stateNode;try{ob(tt,"")}catch(ft){W(d,d.return,ft)}}if(j&4&&(tt=d.stateNode,tt!=null)){var et=d.memoizedProps,rt=$!==null?$.memoizedProps:et,nt=d.type,it=d.updateQueue;if(d.updateQueue=null,it!==null)try{nt==="input"&&et.type==="radio"&&et.name!=null&&ab(tt,et),vb(nt,rt);var at=vb(nt,et);for(rt=0;rt<it.length;rt+=2){var st=it[rt],ot=it[rt+1];st==="style"?sb(tt,ot):st==="dangerouslySetInnerHTML"?nb(tt,ot):st==="children"?ob(tt,ot):ta(tt,st,ot,at)}switch(nt){case"input":bb(tt,et);break;case"textarea":ib(tt,et);break;case"select":var lt=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!et.multiple;var ut=et.value;ut!=null?fb(tt,!!et.multiple,ut,!1):lt!==!!et.multiple&&(et.defaultValue!=null?fb(tt,!!et.multiple,et.defaultValue,!0):fb(tt,!!et.multiple,et.multiple?[]:"",!1))}tt[Pf]=et}catch(ft){W(d,d.return,ft)}}break;case 6:if(ck(g,d),ek(d),j&4){if(d.stateNode===null)throw Error(p$1(162));tt=d.stateNode,et=d.memoizedProps;try{tt.nodeValue=et}catch(ft){W(d,d.return,ft)}}break;case 3:if(ck(g,d),ek(d),j&4&&$!==null&&$.memoizedState.isDehydrated)try{bd(g.containerInfo)}catch(ft){W(d,d.return,ft)}break;case 4:ck(g,d),ek(d);break;case 13:ck(g,d),ek(d),tt=d.child,tt.flags&8192&&(et=tt.memoizedState!==null,tt.stateNode.isHidden=et,!et||tt.alternate!==null&&tt.alternate.memoizedState!==null||(fk=B$1())),j&4&&ak(d);break;case 22:if(st=$!==null&&$.memoizedState!==null,d.mode&1?(U=(at=U)||st,ck(g,d),U=at):ck(g,d),ek(d),j&8192){if(at=d.memoizedState!==null,(d.stateNode.isHidden=at)&&!st&&d.mode&1)for(V=d,st=d.child;st!==null;){for(ot=V=st;V!==null;){switch(lt=V,ut=lt.child,lt.tag){case 0:case 11:case 14:case 15:Pj(4,lt,lt.return);break;case 1:Lj(lt,lt.return);var ct=lt.stateNode;if(typeof ct.componentWillUnmount=="function"){j=lt,$=lt.return;try{g=j,ct.props=g.memoizedProps,ct.state=g.memoizedState,ct.componentWillUnmount()}catch(ft){W(j,$,ft)}}break;case 5:Lj(lt,lt.return);break;case 22:if(lt.memoizedState!==null){gk(ot);continue}}ut!==null?(ut.return=lt,V=ut):gk(ot)}st=st.sibling}t:for(st=null,ot=d;;){if(ot.tag===5){if(st===null){st=ot;try{tt=ot.stateNode,at?(et=tt.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(nt=ot.stateNode,it=ot.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,nt.style.display=rb("display",rt))}catch(ft){W(d,d.return,ft)}}}else if(ot.tag===6){if(st===null)try{ot.stateNode.nodeValue=at?"":ot.memoizedProps}catch(ft){W(d,d.return,ft)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===d)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===d)break t;for(;ot.sibling===null;){if(ot.return===null||ot.return===d)break t;st===ot&&(st=null),ot=ot.return}st===ot&&(st=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:ck(g,d),ek(d),j&4&&ak(d);break;case 21:break;default:ck(g,d),ek(d)}}function ek(d){var g=d.flags;if(g&2){try{t:{for(var $=d.return;$!==null;){if(Tj($)){var j=$;break t}$=$.return}throw Error(p$1(160))}switch(j.tag){case 5:var tt=j.stateNode;j.flags&32&&(ob(tt,""),j.flags&=-33);var et=Uj(d);Wj(d,et,tt);break;case 3:case 4:var rt=j.stateNode.containerInfo,nt=Uj(d);Vj(d,nt,rt);break;default:throw Error(p$1(161))}}catch(it){W(d,d.return,it)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function hk(d,g,$){V=d,ik(d)}function ik(d,g,$){for(var j=(d.mode&1)!==0;V!==null;){var tt=V,et=tt.child;if(tt.tag===22&&j){var rt=tt.memoizedState!==null||Jj;if(!rt){var nt=tt.alternate,it=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var at=U;if(Jj=rt,(U=it)&&!at)for(V=tt;V!==null;)rt=V,it=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(tt):it!==null?(it.return=rt,V=it):jk(tt);for(;et!==null;)V=et,ik(et),et=et.sibling;V=tt,Jj=nt,U=at}kk(d)}else tt.subtreeFlags&8772&&et!==null?(et.return=tt,V=et):kk(d)}}function kk(d){for(;V!==null;){var g=V;if(g.flags&8772){var $=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:U||Qj(5,g);break;case 1:var j=g.stateNode;if(g.flags&4&&!U)if($===null)j.componentDidMount();else{var tt=g.elementType===g.type?$.memoizedProps:Ci(g.type,$.memoizedProps);j.componentDidUpdate(tt,$.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var et=g.updateQueue;et!==null&&sh(g,et,j);break;case 3:var rt=g.updateQueue;if(rt!==null){if($=null,g.child!==null)switch(g.child.tag){case 5:$=g.child.stateNode;break;case 1:$=g.child.stateNode}sh(g,rt,$)}break;case 5:var nt=g.stateNode;if($===null&&g.flags&4){$=nt;var it=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&$.focus();break;case"img":it.src&&($.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var at=g.alternate;if(at!==null){var st=at.memoizedState;if(st!==null){var ot=st.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||g.flags&512&&Rj(g)}catch(lt){W(g,g.return,lt)}}if(g===d){V=null;break}if($=g.sibling,$!==null){$.return=g.return,V=$;break}V=g.return}}function gk(d){for(;V!==null;){var g=V;if(g===d){V=null;break}var $=g.sibling;if($!==null){$.return=g.return,V=$;break}V=g.return}}function jk(d){for(;V!==null;){var g=V;try{switch(g.tag){case 0:case 11:case 15:var $=g.return;try{Qj(4,g)}catch(it){W(g,$,it)}break;case 1:var j=g.stateNode;if(typeof j.componentDidMount=="function"){var tt=g.return;try{j.componentDidMount()}catch(it){W(g,tt,it)}}var et=g.return;try{Rj(g)}catch(it){W(g,et,it)}break;case 5:var rt=g.return;try{Rj(g)}catch(it){W(g,rt,it)}}}catch(it){W(g,g.return,it)}if(g===d){V=null;break}var nt=g.sibling;if(nt!==null){nt.return=g.return,V=nt;break}V=g.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y$2=null,Z=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(d){return d.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(d=C$1,d!==0||(d=window.event,d=d===void 0?16:jd(d.type)),d):1}function gi(d,g,$,j){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(d,$,j),(!(K&2)||d!==Q)&&(d===Q&&(!(K&2)&&(qk|=$),T$1===4&&Ck(d,Z)),Dk(d,j),$===1&&K===0&&!(g.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(d,g){var $=d.callbackNode;wc(d,g);var j=uc(d,d===Q?Z:0);if(j===0)$!==null&&bc($),d.callbackNode=null,d.callbackPriority=0;else if(g=j&-j,d.callbackPriority!==g){if($!=null&&bc($),g===1)d.tag===0?ig(Ek.bind(null,d)):hg(Ek.bind(null,d)),Jf(function(){!(K&6)&&jg()}),$=null;else{switch(Dc(j)){case 1:$=fc;break;case 4:$=gc;break;case 16:$=hc;break;case 536870912:$=jc;break;default:$=hc}$=Fk($,Gk.bind(null,d))}d.callbackPriority=g,d.callbackNode=$}}function Gk(d,g){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var $=d.callbackNode;if(Hk()&&d.callbackNode!==$)return null;var j=uc(d,d===Q?Z:0);if(j===0)return null;if(j&30||j&d.expiredLanes||g)g=Ik(d,j);else{g=j;var tt=K;K|=2;var et=Jk();(Q!==d||Z!==g)&&(uk=null,Gj=B$1()+500,Kk(d,g));do try{Lk();break}catch(nt){Mk(d,nt)}while(1);$g(),mk.current=et,K=tt,Y$2!==null?g=0:(Q=null,Z=0,g=T$1)}if(g!==0){if(g===2&&(tt=xc(d),tt!==0&&(j=tt,g=Nk(d,tt))),g===1)throw $=pk,Kk(d,0),Ck(d,j),Dk(d,B$1()),$;if(g===6)Ck(d,j);else{if(tt=d.current.alternate,!(j&30)&&!Ok(tt)&&(g=Ik(d,j),g===2&&(et=xc(d),et!==0&&(j=et,g=Nk(d,et))),g===1))throw $=pk,Kk(d,0),Ck(d,j),Dk(d,B$1()),$;switch(d.finishedWork=tt,d.finishedLanes=j,g){case 0:case 1:throw Error(p$1(345));case 2:Pk(d,tk,uk);break;case 3:if(Ck(d,j),(j&130023424)===j&&(g=fk+500-B$1(),10<g)){if(uc(d,0)!==0)break;if(tt=d.suspendedLanes,(tt&j)!==j){R$1(),d.pingedLanes|=d.suspendedLanes&tt;break}d.timeoutHandle=Ff(Pk.bind(null,d,tk,uk),g);break}Pk(d,tk,uk);break;case 4:if(Ck(d,j),(j&4194240)===j)break;for(g=d.eventTimes,tt=-1;0<j;){var rt=31-oc(j);et=1<<rt,rt=g[rt],rt>tt&&(tt=rt),j&=~et}if(j=tt,j=B$1()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk(j/1960))-j,10<j){d.timeoutHandle=Ff(Pk.bind(null,d,tk,uk),j);break}Pk(d,tk,uk);break;case 5:Pk(d,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(d,B$1()),d.callbackNode===$?Gk.bind(null,d):null}function Nk(d,g){var $=sk;return d.current.memoizedState.isDehydrated&&(Kk(d,g).flags|=256),d=Ik(d,g),d!==2&&(g=tk,tk=$,g!==null&&Fj(g)),d}function Fj(d){tk===null?tk=d:tk.push.apply(tk,d)}function Ok(d){for(var g=d;;){if(g.flags&16384){var $=g.updateQueue;if($!==null&&($=$.stores,$!==null))for(var j=0;j<$.length;j++){var tt=$[j],et=tt.getSnapshot;tt=tt.value;try{if(!He(et(),tt))return!1}catch{return!1}}}if($=g.child,g.subtreeFlags&16384&&$!==null)$.return=g,g=$;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ck(d,g){for(g&=~rk,g&=~qk,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var $=31-oc(g),j=1<<$;d[$]=-1,g&=~j}}function Ek(d){if(K&6)throw Error(p$1(327));Hk();var g=uc(d,0);if(!(g&1))return Dk(d,B$1()),null;var $=Ik(d,g);if(d.tag!==0&&$===2){var j=xc(d);j!==0&&(g=j,$=Nk(d,j))}if($===1)throw $=pk,Kk(d,0),Ck(d,g),Dk(d,B$1()),$;if($===6)throw Error(p$1(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,Pk(d,tk,uk),Dk(d,B$1()),null}function Qk(d,g){var $=K;K|=1;try{return d(g)}finally{K=$,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(d){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var g=K;K|=1;var $=ok.transition,j=C$1;try{if(ok.transition=null,C$1=1,d)return d()}finally{C$1=j,ok.transition=$,K=g,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(d,g){d.finishedWork=null,d.finishedLanes=0;var $=d.timeoutHandle;if($!==-1&&(d.timeoutHandle=-1,Gf($)),Y$2!==null)for($=Y$2.return;$!==null;){var j=$;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(j);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(j.type._context);break;case 22:case 23:Hj()}$=$.return}if(Q=d,Y$2=d=Pg(d.current,null),Z=fj=g,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(g=0;g<fh.length;g++)if($=fh[g],j=$.interleaved,j!==null){$.interleaved=null;var tt=j.next,et=$.pending;if(et!==null){var rt=et.next;et.next=tt,j.next=rt}$.pending=j}fh=null}return d}function Mk(d,g){do{var $=Y$2;try{if($g(),Fh.current=Rh,Ih){for(var j=M$1.memoizedState;j!==null;){var tt=j.queue;tt!==null&&(tt.pending=null),j=j.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,$===null||$.return===null){T$1=1,pk=g,Y$2=null;break}t:{var et=d,rt=$.return,nt=$,it=g;if(g=Z,nt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var at=it,st=nt,ot=st.tag;if(!(st.mode&1)&&(ot===0||ot===11||ot===15)){var lt=st.alternate;lt?(st.updateQueue=lt.updateQueue,st.memoizedState=lt.memoizedState,st.lanes=lt.lanes):(st.updateQueue=null,st.memoizedState=null)}var ut=Ui(rt);if(ut!==null){ut.flags&=-257,Vi(ut,rt,nt,et,g),ut.mode&1&&Si(et,at,g),g=ut,it=at;var ct=g.updateQueue;if(ct===null){var ft=new Set;ft.add(it),g.updateQueue=ft}else ct.add(it);break t}else{if(!(g&1)){Si(et,at,g),tj();break t}it=Error(p$1(426))}}else if(I&&nt.mode&1){var mt=Ui(rt);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Vi(mt,rt,nt,et,g),Jg(Ji(it,nt));break t}}et=it=Ji(it,nt),T$1!==4&&(T$1=2),sk===null?sk=[et]:sk.push(et),et=rt;do{switch(et.tag){case 3:et.flags|=65536,g&=-g,et.lanes|=g;var dt=Ni(et,it,g);ph(et,dt);break t;case 1:nt=it;var ht=et.type,pt=et.stateNode;if(!(et.flags&128)&&(typeof ht.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Ri===null||!Ri.has(pt)))){et.flags|=65536,g&=-g,et.lanes|=g;var gt=Qi(et,nt,g);ph(et,gt);break t}}et=et.return}while(et!==null)}Sk($)}catch(_t){g=_t,Y$2===$&&$!==null&&(Y$2=$=$.return);continue}break}while(1)}function Jk(){var d=mk.current;return mk.current=Rh,d===null?Rh:d}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(d,g){var $=K;K|=2;var j=Jk();(Q!==d||Z!==g)&&(uk=null,Kk(d,g));do try{Tk();break}catch(tt){Mk(d,tt)}while(1);if($g(),K=$,mk.current=j,Y$2!==null)throw Error(p$1(261));return Q=null,Z=0,T$1}function Tk(){for(;Y$2!==null;)Uk(Y$2)}function Lk(){for(;Y$2!==null&&!cc();)Uk(Y$2)}function Uk(d){var g=Vk(d.alternate,d,fj);d.memoizedProps=d.pendingProps,g===null?Sk(d):Y$2=g,nk.current=null}function Sk(d){var g=d;do{var $=g.alternate;if(d=g.return,g.flags&32768){if($=Ij($,g),$!==null){$.flags&=32767,Y$2=$;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{T$1=6,Y$2=null;return}}else if($=Ej($,g,fj),$!==null){Y$2=$;return}if(g=g.sibling,g!==null){Y$2=g;return}Y$2=g=d}while(g!==null);T$1===0&&(T$1=5)}function Pk(d,g,$){var j=C$1,tt=ok.transition;try{ok.transition=null,C$1=1,Wk(d,g,$,j)}finally{ok.transition=tt,C$1=j}return null}function Wk(d,g,$,j){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));$=d.finishedWork;var tt=d.finishedLanes;if($===null)return null;if(d.finishedWork=null,d.finishedLanes=0,$===d.current)throw Error(p$1(177));d.callbackNode=null,d.callbackPriority=0;var et=$.lanes|$.childLanes;if(Bc(d,et),d===Q&&(Y$2=Q=null,Z=0),!($.subtreeFlags&2064)&&!($.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),et=($.flags&15990)!==0,$.subtreeFlags&15990||et){et=ok.transition,ok.transition=null;var rt=C$1;C$1=1;var nt=K;K|=4,nk.current=null,Oj(d,$),dk($,d),Oe(Df),dd=!!Cf,Df=Cf=null,d.current=$,hk($),dc(),K=nt,C$1=rt,ok.transition=et}else d.current=$;if(vk&&(vk=!1,wk=d,xk=tt),et=d.pendingLanes,et===0&&(Ri=null),mc($.stateNode),Dk(d,B$1()),g!==null)for(j=d.onRecoverableError,$=0;$<g.length;$++)tt=g[$],j(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Oi)throw Oi=!1,d=Pi,Pi=null,d;return xk&1&&d.tag!==0&&Hk(),et=d.pendingLanes,et&1?d===zk?yk++:(yk=0,zk=d):yk=0,jg(),null}function Hk(){if(wk!==null){var d=Dc(xk),g=ok.transition,$=C$1;try{if(ok.transition=null,C$1=16>d?16:d,wk===null)var j=!1;else{if(d=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var tt=K;for(K|=4,V=d.current;V!==null;){var et=V,rt=et.child;if(V.flags&16){var nt=et.deletions;if(nt!==null){for(var it=0;it<nt.length;it++){var at=nt[it];for(V=at;V!==null;){var st=V;switch(st.tag){case 0:case 11:case 15:Pj(8,st,et)}var ot=st.child;if(ot!==null)ot.return=st,V=ot;else for(;V!==null;){st=V;var lt=st.sibling,ut=st.return;if(Sj(st),st===at){V=null;break}if(lt!==null){lt.return=ut,V=lt;break}V=ut}}}var ct=et.alternate;if(ct!==null){var ft=ct.child;if(ft!==null){ct.child=null;do{var mt=ft.sibling;ft.sibling=null,ft=mt}while(ft!==null)}}V=et}}if(et.subtreeFlags&2064&&rt!==null)rt.return=et,V=rt;else t:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Pj(9,et,et.return)}var dt=et.sibling;if(dt!==null){dt.return=et.return,V=dt;break t}V=et.return}}var ht=d.current;for(V=ht;V!==null;){rt=V;var pt=rt.child;if(rt.subtreeFlags&2064&&pt!==null)pt.return=rt,V=pt;else t:for(rt=ht;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(_t){W(nt,nt.return,_t)}if(nt===rt){V=null;break t}var gt=nt.sibling;if(gt!==null){gt.return=nt.return,V=gt;break t}V=nt.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,d)}catch{}j=!0}return j}finally{C$1=$,ok.transition=g}}return!1}function Xk(d,g,$){g=Ji($,g),g=Ni(d,g,1),d=nh(d,g,1),g=R$1(),d!==null&&(Ac(d,1,g),Dk(d,g))}function W(d,g,$){if(d.tag===3)Xk(d,d,$);else for(;g!==null;){if(g.tag===3){Xk(g,d,$);break}else if(g.tag===1){var j=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri===null||!Ri.has(j))){d=Ji($,d),d=Qi(g,d,1),g=nh(g,d,1),d=R$1(),g!==null&&(Ac(g,1,d),Dk(g,d));break}}g=g.return}}function Ti(d,g,$){var j=d.pingCache;j!==null&&j.delete(g),g=R$1(),d.pingedLanes|=d.suspendedLanes&$,Q===d&&(Z&$)===$&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(d,0):rk|=$),Dk(d,g)}function Yk(d,g){g===0&&(d.mode&1?(g=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):g=1);var $=R$1();d=ih(d,g),d!==null&&(Ac(d,g,$),Dk(d,$))}function uj(d){var g=d.memoizedState,$=0;g!==null&&($=g.retryLane),Yk(d,$)}function bk(d,g){var $=0;switch(d.tag){case 13:var j=d.stateNode,tt=d.memoizedState;tt!==null&&($=tt.retryLane);break;case 19:j=d.stateNode;break;default:throw Error(p$1(314))}j!==null&&j.delete(g),Yk(d,$)}var Vk;Vk=function(d,g,$){if(d!==null)if(d.memoizedProps!==g.pendingProps||Wf.current)dh=!0;else{if(!(d.lanes&$)&&!(g.flags&128))return dh=!1,yj(d,g,$);dh=!!(d.flags&131072)}else dh=!1,I&&g.flags&1048576&&ug(g,ng,g.index);switch(g.lanes=0,g.tag){case 2:var j=g.type;ij(d,g),d=g.pendingProps;var tt=Yf(g,H.current);ch(g,$),tt=Nh(null,g,j,d,tt,$);var et=Sh();return g.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Zf(j)?(et=!0,cg(g)):et=!1,g.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,kh(g),tt.updater=Ei,g.stateNode=tt,tt._reactInternals=g,Ii(g,j,d,$),g=jj(null,g,j,!0,et,$)):(g.tag=0,I&&et&&vg(g),Xi(null,g,tt,$),g=g.child),g;case 16:j=g.elementType;t:{switch(ij(d,g),d=g.pendingProps,tt=j._init,j=tt(j._payload),g.type=j,tt=g.tag=Zk(j),d=Ci(j,d),tt){case 0:g=cj(null,g,j,d,$);break t;case 1:g=hj(null,g,j,d,$);break t;case 11:g=Yi(null,g,j,d,$);break t;case 14:g=$i(null,g,j,Ci(j.type,d),$);break t}throw Error(p$1(306,j,""))}return g;case 0:return j=g.type,tt=g.pendingProps,tt=g.elementType===j?tt:Ci(j,tt),cj(d,g,j,tt,$);case 1:return j=g.type,tt=g.pendingProps,tt=g.elementType===j?tt:Ci(j,tt),hj(d,g,j,tt,$);case 3:t:{if(kj(g),d===null)throw Error(p$1(387));j=g.pendingProps,et=g.memoizedState,tt=et.element,lh(d,g),qh(g,j,null,$);var rt=g.memoizedState;if(j=rt.element,et.isDehydrated)if(et={element:j,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},g.updateQueue.baseState=et,g.memoizedState=et,g.flags&256){tt=Ji(Error(p$1(423)),g),g=lj(d,g,j,$,tt);break t}else if(j!==tt){tt=Ji(Error(p$1(424)),g),g=lj(d,g,j,$,tt);break t}else for(yg=Lf(g.stateNode.containerInfo.firstChild),xg=g,I=!0,zg=null,$=Vg(g,null,j,$),g.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Ig(),j===tt){g=Zi(d,g,$);break t}Xi(d,g,j,$)}g=g.child}return g;case 5:return Ah(g),d===null&&Eg(g),j=g.type,tt=g.pendingProps,et=d!==null?d.memoizedProps:null,rt=tt.children,Ef(j,tt)?rt=null:et!==null&&Ef(j,et)&&(g.flags|=32),gj(d,g),Xi(d,g,rt,$),g.child;case 6:return d===null&&Eg(g),null;case 13:return oj(d,g,$);case 4:return yh(g,g.stateNode.containerInfo),j=g.pendingProps,d===null?g.child=Ug(g,null,j,$):Xi(d,g,j,$),g.child;case 11:return j=g.type,tt=g.pendingProps,tt=g.elementType===j?tt:Ci(j,tt),Yi(d,g,j,tt,$);case 7:return Xi(d,g,g.pendingProps,$),g.child;case 8:return Xi(d,g,g.pendingProps.children,$),g.child;case 12:return Xi(d,g,g.pendingProps.children,$),g.child;case 10:t:{if(j=g.type._context,tt=g.pendingProps,et=g.memoizedProps,rt=tt.value,G(Wg,j._currentValue),j._currentValue=rt,et!==null)if(He(et.value,rt)){if(et.children===tt.children&&!Wf.current){g=Zi(d,g,$);break t}}else for(et=g.child,et!==null&&(et.return=g);et!==null;){var nt=et.dependencies;if(nt!==null){rt=et.child;for(var it=nt.firstContext;it!==null;){if(it.context===j){if(et.tag===1){it=mh(-1,$&-$),it.tag=2;var at=et.updateQueue;if(at!==null){at=at.shared;var st=at.pending;st===null?it.next=it:(it.next=st.next,st.next=it),at.pending=it}}et.lanes|=$,it=et.alternate,it!==null&&(it.lanes|=$),bh(et.return,$,g),nt.lanes|=$;break}it=it.next}}else if(et.tag===10)rt=et.type===g.type?null:et.child;else if(et.tag===18){if(rt=et.return,rt===null)throw Error(p$1(341));rt.lanes|=$,nt=rt.alternate,nt!==null&&(nt.lanes|=$),bh(rt,$,g),rt=et.sibling}else rt=et.child;if(rt!==null)rt.return=et;else for(rt=et;rt!==null;){if(rt===g){rt=null;break}if(et=rt.sibling,et!==null){et.return=rt.return,rt=et;break}rt=rt.return}et=rt}Xi(d,g,tt.children,$),g=g.child}return g;case 9:return tt=g.type,j=g.pendingProps.children,ch(g,$),tt=eh(tt),j=j(tt),g.flags|=1,Xi(d,g,j,$),g.child;case 14:return j=g.type,tt=Ci(j,g.pendingProps),tt=Ci(j.type,tt),$i(d,g,j,tt,$);case 15:return bj(d,g,g.type,g.pendingProps,$);case 17:return j=g.type,tt=g.pendingProps,tt=g.elementType===j?tt:Ci(j,tt),ij(d,g),g.tag=1,Zf(j)?(d=!0,cg(g)):d=!1,ch(g,$),Gi(g,j,tt),Ii(g,j,tt,$),jj(null,g,j,!0,d,$);case 19:return xj(d,g,$);case 22:return dj(d,g,$)}throw Error(p$1(156,g.tag))};function Fk(d,g){return ac(d,g)}function $k(d,g,$,j){this.tag=d,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(d,g,$,j){return new $k(d,g,$,j)}function aj(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Zk(d){if(typeof d=="function")return aj(d)?1:0;if(d!=null){if(d=d.$$typeof,d===Da)return 11;if(d===Ga)return 14}return 2}function Pg(d,g){var $=d.alternate;return $===null?($=Bg(d.tag,g,d.key,d.mode),$.elementType=d.elementType,$.type=d.type,$.stateNode=d.stateNode,$.alternate=d,d.alternate=$):($.pendingProps=g,$.type=d.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=d.flags&14680064,$.childLanes=d.childLanes,$.lanes=d.lanes,$.child=d.child,$.memoizedProps=d.memoizedProps,$.memoizedState=d.memoizedState,$.updateQueue=d.updateQueue,g=d.dependencies,$.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},$.sibling=d.sibling,$.index=d.index,$.ref=d.ref,$}function Rg(d,g,$,j,tt,et){var rt=2;if(j=d,typeof d=="function")aj(d)&&(rt=1);else if(typeof d=="string")rt=5;else t:switch(d){case ya:return Tg($.children,tt,et,g);case za:rt=8,tt|=8;break;case Aa:return d=Bg(12,$,g,tt|2),d.elementType=Aa,d.lanes=et,d;case Ea:return d=Bg(13,$,g,tt),d.elementType=Ea,d.lanes=et,d;case Fa:return d=Bg(19,$,g,tt),d.elementType=Fa,d.lanes=et,d;case Ia:return pj($,tt,et,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case Ba:rt=10;break t;case Ca:rt=9;break t;case Da:rt=11;break t;case Ga:rt=14;break t;case Ha:rt=16,j=null;break t}throw Error(p$1(130,d==null?d:typeof d,""))}return g=Bg(rt,$,g,tt),g.elementType=d,g.type=j,g.lanes=et,g}function Tg(d,g,$,j){return d=Bg(7,d,j,g),d.lanes=$,d}function pj(d,g,$,j){return d=Bg(22,d,j,g),d.elementType=Ia,d.lanes=$,d.stateNode={isHidden:!1},d}function Qg(d,g,$){return d=Bg(6,d,null,g),d.lanes=$,d}function Sg(d,g,$){return g=Bg(4,d.children!==null?d.children:[],d.key,g),g.lanes=$,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function al(d,g,$,j,tt){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function bl(d,g,$,j,tt,et,rt,nt,it){return d=new al(d,g,$,nt,it),g===1?(g=1,et===!0&&(g|=8)):g=0,et=Bg(3,null,null,g),d.current=et,et.stateNode=d,et.memoizedState={element:j,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(et),d}function cl(d,g,$){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:d,containerInfo:g,implementation:$}}function dl(d){if(!d)return Vf;d=d._reactInternals;t:{if(Vb(d)!==d||d.tag!==1)throw Error(p$1(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break t;case 1:if(Zf(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break t}}g=g.return}while(g!==null);throw Error(p$1(171))}if(d.tag===1){var $=d.type;if(Zf($))return bg(d,$,g)}return g}function el(d,g,$,j,tt,et,rt,nt,it){return d=bl($,j,!0,d,tt,et,rt,nt,it),d.context=dl(null),$=d.current,j=R$1(),tt=yi($),et=mh(j,tt),et.callback=g??null,nh($,et,tt),d.current.lanes=tt,Ac(d,tt,j),Dk(d,j),d}function fl(d,g,$,j){var tt=g.current,et=R$1(),rt=yi(tt);return $=dl($),g.context===null?g.context=$:g.pendingContext=$,g=mh(et,rt),g.payload={element:d},j=j===void 0?null:j,j!==null&&(g.callback=j),d=nh(tt,g,rt),d!==null&&(gi(d,tt,rt,et),oh(d,tt,rt)),rt}function gl(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function hl(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var $=d.retryLane;d.retryLane=$!==0&&$<g?$:g}}function il(d,g){hl(d,g),(d=d.alternate)&&hl(d,g)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(d){console.error(d)};function ll(d){this._internalRoot=d}ml.prototype.render=ll.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(p$1(409));fl(d,g,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;Rk(function(){fl(null,d,null,null)}),g[uf]=null}};function ml(d){this._internalRoot=d}ml.prototype.unstable_scheduleHydration=function(d){if(d){var g=Hc();d={blockedOn:null,target:d,priority:g};for(var $=0;$<Qc.length&&g!==0&&g<Qc[$].priority;$++);Qc.splice($,0,d),$===0&&Vc(d)}};function nl(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function ol(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(d,g,$,j,tt){if(tt){if(typeof j=="function"){var et=j;j=function(){var at=gl(rt);et.call(at)}}var rt=el(g,j,d,0,null,!1,!1,"",pl);return d._reactRootContainer=rt,d[uf]=rt.current,sf(d.nodeType===8?d.parentNode:d),Rk(),rt}for(;tt=d.lastChild;)d.removeChild(tt);if(typeof j=="function"){var nt=j;j=function(){var at=gl(it);nt.call(at)}}var it=bl(d,0,!1,null,null,!1,!1,"",pl);return d._reactRootContainer=it,d[uf]=it.current,sf(d.nodeType===8?d.parentNode:d),Rk(function(){fl(g,it,$,j)}),it}function rl(d,g,$,j,tt){var et=$._reactRootContainer;if(et){var rt=et;if(typeof tt=="function"){var nt=tt;tt=function(){var it=gl(rt);nt.call(it)}}fl(g,rt,d,tt)}else rt=ql($,g,d,tt,j);return gl(rt)}Ec=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var $=tc(g.pendingLanes);$!==0&&(Cc(g,$|1),Dk(g,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var j=ih(d,1);if(j!==null){var tt=R$1();gi(j,d,1,tt)}}),il(d,1)}};Fc=function(d){if(d.tag===13){var g=ih(d,134217728);if(g!==null){var $=R$1();gi(g,d,134217728,$)}il(d,134217728)}};Gc=function(d){if(d.tag===13){var g=yi(d),$=ih(d,g);if($!==null){var j=R$1();gi($,d,g,j)}il(d,g)}};Hc=function(){return C$1};Ic=function(d,g){var $=C$1;try{return C$1=d,g()}finally{C$1=$}};yb=function(d,g,$){switch(g){case"input":if(bb(d,$),g=$.name,$.type==="radio"&&g!=null){for($=d;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<$.length;g++){var j=$[g];if(j!==d&&j.form===d.form){var tt=Db(j);if(!tt)throw Error(p$1(90));Wa(j),bb(j,tt)}}}break;case"textarea":ib(d,$);break;case"select":g=$.value,g!=null&&fb(d,!!$.multiple,g,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Zb(d),d===null?null:d.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(d,g){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(g))throw Error(p$1(200));return cl(d,g,null,$)};reactDom_production_min.createRoot=function(d,g){if(!nl(d))throw Error(p$1(299));var $=!1,j="",tt=kl;return g!=null&&(g.unstable_strictMode===!0&&($=!0),g.identifierPrefix!==void 0&&(j=g.identifierPrefix),g.onRecoverableError!==void 0&&(tt=g.onRecoverableError)),g=bl(d,1,!1,null,null,$,!1,j,tt),d[uf]=g.current,sf(d.nodeType===8?d.parentNode:d),new ll(g)};reactDom_production_min.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(p$1(188)):(d=Object.keys(d).join(","),Error(p$1(268,d)));return d=Zb(g),d=d===null?null:d.stateNode,d};reactDom_production_min.flushSync=function(d){return Rk(d)};reactDom_production_min.hydrate=function(d,g,$){if(!ol(g))throw Error(p$1(200));return rl(null,d,g,!0,$)};reactDom_production_min.hydrateRoot=function(d,g,$){if(!nl(d))throw Error(p$1(405));var j=$!=null&&$.hydratedSources||null,tt=!1,et="",rt=kl;if($!=null&&($.unstable_strictMode===!0&&(tt=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(rt=$.onRecoverableError)),g=el(g,null,d,1,$??null,tt,!1,et,rt),d[uf]=g.current,sf(d),j)for(d=0;d<j.length;d++)$=j[d],tt=$._getVersion,tt=tt($._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[$,tt]:g.mutableSourceEagerHydrationData.push($,tt);return new ml(g)};reactDom_production_min.render=function(d,g,$){if(!ol(g))throw Error(p$1(200));return rl(null,d,g,!1,$)};reactDom_production_min.unmountComponentAtNode=function(d){if(!ol(d))throw Error(p$1(40));return d._reactRootContainer?(Rk(function(){rl(null,null,d,!1,function(){d._reactRootContainer=null,d[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(d,g,$,j){if(!ol($))throw Error(p$1(200));if(d==null||d._reactInternals===void 0)throw Error(p$1(38));return rl(d,g,$,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(d){console.error(d)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const styles="";function keys(d){return Object.keys(d)}function isObject(d){return d&&typeof d=="object"&&!Array.isArray(d)}function deepMerge(d,g){const $={...d},j=g;return isObject(d)&&isObject(g)&&Object.keys(g).forEach(tt=>{isObject(j[tt])&&tt in d?$[tt]=deepMerge($[tt],j[tt]):$[tt]=j[tt]}),$}function camelToKebabCase(d){return d.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}function getTransformedScaledValue(d){var g;return typeof d!="string"||!d.includes("var(--mantine-scale)")?d:(g=d.match(/^calc\((.*?)\)$/))==null?void 0:g[1].split("*")[0].trim()}function px(d){const g=getTransformedScaledValue(d);return typeof g=="number"?g:typeof g=="string"?g.includes("calc")||g.includes("var")?g:g.includes("px")?Number(g.replace("px","")):g.includes("rem")?Number(g.replace("rem",""))*16:g.includes("em")?Number(g.replace("em",""))*16:Number(g):NaN}function scaleRem(d){return d==="0rem"?"0rem":`calc(${d} * var(--mantine-scale))`}function createConverter(d,{shouldScale:g=!1}={}){function $(j){if(j===0||j==="0")return`0${d}`;if(typeof j=="number"){const tt=`${j/16}${d}`;return g?scaleRem(tt):tt}if(typeof j=="string"){if(j===""||j.startsWith("calc(")||j.startsWith("clamp(")||j.includes("rgba("))return j;if(j.includes(","))return j.split(",").map(et=>$(et)).join(",");if(j.includes(" "))return j.split(" ").map(et=>$(et)).join(" ");if(j.includes(d))return g?scaleRem(j):j;const tt=j.replace("px","");if(!Number.isNaN(Number(tt))){const et=`${Number(tt)/16}${d}`;return g?scaleRem(et):et}}return j}return $}const rem=createConverter("rem",{shouldScale:!0}),em=createConverter("em");function filterProps(d){return Object.keys(d).reduce((g,$)=>(d[$]!==void 0&&(g[$]=d[$]),g),{})}function isNumberLike(d){if(typeof d=="number")return!0;if(typeof d=="string"){if(d.startsWith("calc(")||d.startsWith("var(")||d.includes(" ")&&d.trim()!=="")return!0;const g=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return d.trim().split(/\s+/).every(j=>g.test(j))}return!1}function createSafeContext(d){const g=reactExports.createContext(null);return[({children:tt,value:et})=>jsxRuntimeExports.jsx(g.Provider,{value:et,children:tt}),()=>{const tt=reactExports.useContext(g);if(tt===null)throw new Error(d);return tt}]}const noop=()=>{};function getSize(d,g="size",$=!0){if(d!==void 0)return isNumberLike(d)?$?rem(d):d:`var(--${g}-${d})`}function getSpacing(d){return getSize(d,"mantine-spacing")}function useCallbackRef(d){const g=reactExports.useRef(d);return reactExports.useEffect(()=>{g.current=d}),reactExports.useMemo(()=>(...$)=>{var j;return(j=g.current)==null?void 0:j.call(g,...$)},[])}function useDebouncedCallback(d,g){const $=useCallbackRef(d),j=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(j.current),[]),reactExports.useCallback((...tt)=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>$(...tt),g)},[$,g])}const useIsomorphicEffect=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function assignRef(d,g){typeof d=="function"?d(g):typeof d=="object"&&d!==null&&"current"in d&&(d.current=g)}function mergeRefs(...d){return g=>{d.forEach($=>assignRef($,g))}}function useMergedRef(...d){return reactExports.useCallback(mergeRefs(...d),d)}function createVarsResolver(d){return d}function r$1(d){var g,$,j="";if(typeof d=="string"||typeof d=="number")j+=d;else if(typeof d=="object")if(Array.isArray(d)){var tt=d.length;for(g=0;g<tt;g++)d[g]&&($=r$1(d[g]))&&(j&&(j+=" "),j+=$)}else for($ in d)d[$]&&(j&&(j+=" "),j+=$);return j}function clsx(){for(var d,g,$=0,j="",tt=arguments.length;$<tt;$++)(d=arguments[$])&&(g=r$1(d))&&(j&&(j+=" "),j+=g);return j}const EMPTY_CLASS_NAMES={};function mergeClassNames(d){const g={};return d.forEach($=>{Object.entries($).forEach(([j,tt])=>{g[j]?g[j]=clsx(g[j],tt):g[j]=tt})}),g}function resolveClassNames({theme:d,classNames:g,props:$,stylesCtx:j}){const et=(Array.isArray(g)?g:[g]).map(rt=>typeof rt=="function"?rt(d,$,j):rt||EMPTY_CLASS_NAMES);return mergeClassNames(et)}function resolveStyles({theme:d,styles:g,props:$,stylesCtx:j}){return(Array.isArray(g)?g:[g]).reduce((et,rt)=>typeof rt=="function"?{...et,...rt(d,$,j)}:{...et,...rt},{})}const MantineContext=reactExports.createContext(null);function useMantineContext(){const d=reactExports.useContext(MantineContext);if(!d)throw new Error("[@mantine/core] MantineProvider was not found in tree");return d}function useMantineCssVariablesResolver(){return useMantineContext().cssVariablesResolver}function useMantineClassNamesPrefix(){return useMantineContext().classNamesPrefix}function useMantineStyleNonce(){return useMantineContext().getStyleNonce}function useMantineWithStaticClasses(){return useMantineContext().withStaticClasses}function useMantineIsHeadless(){return useMantineContext().headless}function useMantineSxTransform(){var d;return(d=useMantineContext().stylesTransform)==null?void 0:d.sx}function useMantineStylesTransform(){var d;return(d=useMantineContext().stylesTransform)==null?void 0:d.styles}function isHexColor(d){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(d)}function hexToRgba(d){let g=d.replace("#","");if(g.length===3){const rt=g.split("");g=[rt[0],rt[0],rt[1],rt[1],rt[2],rt[2]].join("")}if(g.length===8){const rt=parseInt(g.slice(6,8),16)/255;return{r:parseInt(g.slice(0,2),16),g:parseInt(g.slice(2,4),16),b:parseInt(g.slice(4,6),16),a:rt}}const $=parseInt(g,16),j=$>>16&255,tt=$>>8&255,et=$&255;return{r:j,g:tt,b:et,a:1}}function rgbStringToRgba(d){const[g,$,j,tt]=d.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:g,g:$,b:j,a:tt||1}}function hslStringToRgba(d){const g=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,$=d.match(g);if(!$)return{r:0,g:0,b:0,a:1};const j=parseInt($[1],10),tt=parseInt($[2],10)/100,et=parseInt($[3],10)/100,rt=$[5]?parseFloat($[5]):void 0,nt=(1-Math.abs(2*et-1))*tt,it=j/60,at=nt*(1-Math.abs(it%2-1)),st=et-nt/2;let ot,lt,ut;return it>=0&&it<1?(ot=nt,lt=at,ut=0):it>=1&&it<2?(ot=at,lt=nt,ut=0):it>=2&&it<3?(ot=0,lt=nt,ut=at):it>=3&&it<4?(ot=0,lt=at,ut=nt):it>=4&&it<5?(ot=at,lt=0,ut=nt):(ot=nt,lt=0,ut=at),{r:Math.round((ot+st)*255),g:Math.round((lt+st)*255),b:Math.round((ut+st)*255),a:rt||1}}function toRgba(d){return isHexColor(d)?hexToRgba(d):d.startsWith("rgb")?rgbStringToRgba(d):d.startsWith("hsl")?hslStringToRgba(d):{r:0,g:0,b:0,a:1}}function darken$1(d,g){if(d.startsWith("var("))return`color-mix(in srgb, ${d}, black ${g*100}%)`;const{r:$,g:j,b:tt,a:et}=toRgba(d),rt=1-g,nt=it=>Math.round(it*rt);return`rgba(${nt($)}, ${nt(j)}, ${nt(tt)}, ${et})`}function getPrimaryShade(d,g){return typeof d.primaryShade=="number"?d.primaryShade:g==="dark"?d.primaryShade.dark:d.primaryShade.light}function gammaCorrect(d){return d<=.03928?d/12.92:((d+.055)/1.055)**2.4}function getLightnessFromOklch(d){const g=d.match(/oklch\((.*?)%\s/);return g?parseFloat(g[1]):null}function luminance(d){if(d.startsWith("oklch("))return(getLightnessFromOklch(d)||0)/100;const{r:g,g:$,b:j}=toRgba(d),tt=g/255,et=$/255,rt=j/255,nt=gammaCorrect(tt),it=gammaCorrect(et),at=gammaCorrect(rt);return .2126*nt+.7152*it+.0722*at}function isLightColor(d,g=.179){return d.startsWith("var(")?!1:luminance(d)>g}function parseThemeColor({color:d,theme:g,colorScheme:$}){if(typeof d!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof d}`);if(d==="bright")return{color:d,value:$==="dark"?g.white:g.black,shade:void 0,isThemeColor:!1,isLight:isLightColor($==="dark"?g.white:g.black,g.luminanceThreshold),variable:"--mantine-color-bright"};if(d==="dimmed")return{color:d,value:$==="dark"?g.colors.dark[2]:g.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:isLightColor($==="dark"?g.colors.dark[2]:g.colors.gray[6],g.luminanceThreshold),variable:"--mantine-color-dimmed"};if(d==="white"||d==="black")return{color:d,value:d==="white"?g.white:g.black,shade:void 0,isThemeColor:!1,isLight:isLightColor(d==="white"?g.white:g.black,g.luminanceThreshold),variable:`--mantine-color-${d}`};const[j,tt]=d.split("."),et=tt?Number(tt):void 0,rt=j in g.colors;if(rt){const nt=et!==void 0?g.colors[j][et]:g.colors[j][getPrimaryShade(g,$||"light")];return{color:j,value:nt,shade:et,isThemeColor:rt,isLight:isLightColor(nt,g.luminanceThreshold),variable:tt?`--mantine-color-${j}-${et}`:`--mantine-color-${j}-filled`}}return{color:d,value:d,isThemeColor:rt,isLight:isLightColor(d,g.luminanceThreshold),shade:et,variable:void 0}}function getThemeColor(d,g){const $=parseThemeColor({color:d||g.primaryColor,theme:g});return $.variable?`var(${$.variable})`:d}function getGradient(d,g){const $={from:(d==null?void 0:d.from)||g.defaultGradient.from,to:(d==null?void 0:d.to)||g.defaultGradient.to,deg:(d==null?void 0:d.deg)||g.defaultGradient.deg||0},j=getThemeColor($.from,g),tt=getThemeColor($.to,g);return`linear-gradient(${$.deg}deg, ${j} 0%, ${tt} 100%)`}function rgba(d,g){if(typeof d!="string"||g>1||g<0)return"rgba(0, 0, 0, 1)";if(d.startsWith("var(")){const et=(1-g)*100;return`color-mix(in srgb, ${d}, transparent ${et}%)`}if(d.startsWith("oklch"))return d.includes("/")?d.replace(/\/\s*[\d.]+\s*\)/,`/ ${g})`):d.replace(")",` / ${g})`);const{r:$,g:j,b:tt}=toRgba(d);return`rgba(${$}, ${j}, ${tt}, ${g})`}const alpha=rgba,defaultVariantColorsResolver=({color:d,theme:g,variant:$,gradient:j,autoContrast:tt})=>{const et=parseThemeColor({color:d,theme:g}),rt=typeof tt=="boolean"?tt:g.autoContrast;if($==="filled"){const nt=rt&&et.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return et.isThemeColor?et.shade===void 0?{background:`var(--mantine-color-${d}-filled)`,hover:`var(--mantine-color-${d}-filled-hover)`,color:nt,border:`${rem(1)} solid transparent`}:{background:`var(--mantine-color-${et.color}-${et.shade})`,hover:`var(--mantine-color-${et.color}-${et.shade===9?8:et.shade+1})`,color:nt,border:`${rem(1)} solid transparent`}:{background:d,hover:darken$1(d,.1),color:nt,border:`${rem(1)} solid transparent`}}if($==="light"){if(et.isThemeColor){if(et.shade===void 0)return{background:`var(--mantine-color-${d}-light)`,hover:`var(--mantine-color-${d}-light-hover)`,color:`var(--mantine-color-${d}-light-color)`,border:`${rem(1)} solid transparent`};const nt=g.colors[et.color][et.shade];return{background:rgba(nt,.1),hover:rgba(nt,.12),color:`var(--mantine-color-${et.color}-${Math.min(et.shade,6)})`,border:`${rem(1)} solid transparent`}}return{background:rgba(d,.1),hover:rgba(d,.12),color:d,border:`${rem(1)} solid transparent`}}if($==="outline")return et.isThemeColor?et.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${d}-outline-hover)`,color:`var(--mantine-color-${d}-outline)`,border:`${rem(1)} solid var(--mantine-color-${d}-outline)`}:{background:"transparent",hover:rgba(g.colors[et.color][et.shade],.05),color:`var(--mantine-color-${et.color}-${et.shade})`,border:`${rem(1)} solid var(--mantine-color-${et.color}-${et.shade})`}:{background:"transparent",hover:rgba(d,.05),color:d,border:`${rem(1)} solid ${d}`};if($==="subtle"){if(et.isThemeColor){if(et.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${d}-light-hover)`,color:`var(--mantine-color-${d}-light-color)`,border:`${rem(1)} solid transparent`};const nt=g.colors[et.color][et.shade];return{background:"transparent",hover:rgba(nt,.12),color:`var(--mantine-color-${et.color}-${Math.min(et.shade,6)})`,border:`${rem(1)} solid transparent`}}return{background:"transparent",hover:rgba(d,.12),color:d,border:`${rem(1)} solid transparent`}}return $==="transparent"?et.isThemeColor?et.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${d}-light-color)`,border:`${rem(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${et.color}-${Math.min(et.shade,6)})`,border:`${rem(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:d,border:`${rem(1)} solid transparent`}:$==="white"?et.isThemeColor?et.shade===void 0?{background:"var(--mantine-color-white)",hover:darken$1(g.white,.01),color:`var(--mantine-color-${d}-filled)`,border:`${rem(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken$1(g.white,.01),color:`var(--mantine-color-${et.color}-${et.shade})`,border:`${rem(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken$1(g.white,.01),color:d,border:`${rem(1)} solid transparent`}:$==="gradient"?{background:getGradient(j,g),hover:getGradient(j,g),color:"var(--mantine-color-white)",border:"none"}:$==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${rem(1)} solid var(--mantine-color-default-border)`}:{}},DEFAULT_COLORS={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",DEFAULT_THEME={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:DEFAULT_COLORS,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:defaultVariantColorsResolver,autoContrast:!1,luminanceThreshold:.3,fontFamily:DEFAULT_FONT_FAMILY,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:DEFAULT_FONT_FAMILY,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:rem(34),lineHeight:"1.3"},h2:{fontSize:rem(26),lineHeight:"1.35"},h3:{fontSize:rem(22),lineHeight:"1.4"},h4:{fontSize:rem(18),lineHeight:"1.45"},h5:{fontSize:rem(16),lineHeight:"1.5"},h6:{fontSize:rem(14),lineHeight:"1.5"}}},fontSizes:{xs:rem(12),sm:rem(14),md:rem(16),lg:rem(18),xl:rem(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:rem(2),sm:rem(4),md:rem(8),lg:rem(16),xl:rem(32)},spacing:{xs:rem(10),sm:rem(12),md:rem(16),lg:rem(20),xl:rem(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), 0 ${rem(1)} ${rem(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(10)} ${rem(15)} ${rem(-5)}, rgba(0, 0, 0, 0.04) 0 ${rem(7)} ${rem(7)} ${rem(-5)}`,md:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(20)} ${rem(25)} ${rem(-5)}, rgba(0, 0, 0, 0.04) 0 ${rem(10)} ${rem(10)} ${rem(-5)}`,lg:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(28)} ${rem(23)} ${rem(-7)}, rgba(0, 0, 0, 0.04) 0 ${rem(12)} ${rem(12)} ${rem(-7)}`,xl:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(36)} ${rem(28)} ${rem(-7)}, rgba(0, 0, 0, 0.04) 0 ${rem(17)} ${rem(17)} ${rem(-7)}`},other:{},components:{}};function isMantineColorScheme(d){return d==="auto"||d==="dark"||d==="light"}function localStorageColorSchemeManager({key:d="mantine-color-scheme-value"}={}){let g;return{get:$=>{if(typeof window>"u")return $;try{const j=window.localStorage.getItem(d);return isMantineColorScheme(j)?j:$}catch{return $}},set:$=>{try{window.localStorage.setItem(d,$)}catch(j){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",j)}},subscribe:$=>{g=j=>{j.storageArea===window.localStorage&&j.key===d&&isMantineColorScheme(j.newValue)&&$(j.newValue)},window.addEventListener("storage",g)},unsubscribe:()=>{window.removeEventListener("storage",g)},clear:()=>{window.localStorage.removeItem(d)}}}const INVALID_PRIMARY_COLOR_ERROR="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",INVALID_PRIMARY_SHADE_ERROR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function isValidPrimaryShade(d){return d<0||d>9?!1:parseInt(d.toString(),10)===d}function validateMantineTheme(d){if(!(d.primaryColor in d.colors))throw new Error(INVALID_PRIMARY_COLOR_ERROR);if(typeof d.primaryShade=="object"&&(!isValidPrimaryShade(d.primaryShade.dark)||!isValidPrimaryShade(d.primaryShade.light)))throw new Error(INVALID_PRIMARY_SHADE_ERROR);if(typeof d.primaryShade=="number"&&!isValidPrimaryShade(d.primaryShade))throw new Error(INVALID_PRIMARY_SHADE_ERROR)}function mergeMantineTheme(d,g){var j;if(!g)return validateMantineTheme(d),d;const $=deepMerge(d,g);return g.fontFamily&&!((j=g.headings)!=null&&j.fontFamily)&&($.headings.fontFamily=g.fontFamily),validateMantineTheme($),$}const MantineThemeContext=reactExports.createContext(null),useSafeMantineTheme=()=>reactExports.useContext(MantineThemeContext)||DEFAULT_THEME;function useMantineTheme(){const d=reactExports.useContext(MantineThemeContext);if(!d)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return d}function MantineThemeProvider({theme:d,children:g,inherit:$=!0}){const j=useSafeMantineTheme(),tt=reactExports.useMemo(()=>mergeMantineTheme($?j:DEFAULT_THEME,d),[d,j,$]);return jsxRuntimeExports.jsx(MantineThemeContext.Provider,{value:tt,children:g})}MantineThemeProvider.displayName="@mantine/core/MantineThemeProvider";function MantineClasses(){const d=useMantineTheme(),g=useMantineStyleNonce(),$=keys(d.breakpoints).reduce((j,tt)=>{const et=d.breakpoints[tt].includes("px"),rt=px(d.breakpoints[tt]),nt=et?`${rt-.1}px`:em(rt-.1),it=et?`${rt}px`:em(rt);return`${j}@media (max-width: ${nt}) {.mantine-visible-from-${tt} {display: none !important;}}@media (min-width: ${it}) {.mantine-hidden-from-${tt} {display: none !important;}}`},"");return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"classes",nonce:g==null?void 0:g(),dangerouslySetInnerHTML:{__html:$}})}function cssVariablesObjectToString(d){return Object.entries(d).map(([g,$])=>`${g}: ${$};`).join("")}function wrapWithSelector(d,g){return(Array.isArray(d)?d:[d]).reduce((j,tt)=>`${tt}{${j}}`,g)}function convertCssVariables(d,g){const $=cssVariablesObjectToString(d.variables),j=$?wrapWithSelector(g,$):"",tt=cssVariablesObjectToString(d.dark),et=cssVariablesObjectToString(d.light),rt=tt?wrapWithSelector(g===":host"?`${g}([data-mantine-color-scheme="dark"])`:`${g}[data-mantine-color-scheme="dark"]`,tt):"",nt=et?wrapWithSelector(g===":host"?`${g}([data-mantine-color-scheme="light"])`:`${g}[data-mantine-color-scheme="light"]`,et):"";return`${j}${rt}${nt}`}function getContrastColor({color:d,theme:g,autoContrast:$}){return(typeof $=="boolean"?$:g.autoContrast)&&parseThemeColor({color:d||g.primaryColor,theme:g}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function getPrimaryContrastColor(d,g){return getContrastColor({color:d.colors[d.primaryColor][getPrimaryShade(d,g)],theme:d,autoContrast:null})}function getCSSColorVariables({theme:d,color:g,colorScheme:$,name:j=g,withColorValues:tt=!0}){if(!d.colors[g])return{};if($==="light"){const nt=getPrimaryShade(d,"light"),it={[`--mantine-color-${j}-text`]:`var(--mantine-color-${j}-filled)`,[`--mantine-color-${j}-filled`]:`var(--mantine-color-${j}-${nt})`,[`--mantine-color-${j}-filled-hover`]:`var(--mantine-color-${j}-${nt===9?8:nt+1})`,[`--mantine-color-${j}-light`]:alpha(d.colors[g][nt],.1),[`--mantine-color-${j}-light-hover`]:alpha(d.colors[g][nt],.12),[`--mantine-color-${j}-light-color`]:`var(--mantine-color-${j}-${nt})`,[`--mantine-color-${j}-outline`]:`var(--mantine-color-${j}-${nt})`,[`--mantine-color-${j}-outline-hover`]:alpha(d.colors[g][nt],.05)};return tt?{[`--mantine-color-${j}-0`]:d.colors[g][0],[`--mantine-color-${j}-1`]:d.colors[g][1],[`--mantine-color-${j}-2`]:d.colors[g][2],[`--mantine-color-${j}-3`]:d.colors[g][3],[`--mantine-color-${j}-4`]:d.colors[g][4],[`--mantine-color-${j}-5`]:d.colors[g][5],[`--mantine-color-${j}-6`]:d.colors[g][6],[`--mantine-color-${j}-7`]:d.colors[g][7],[`--mantine-color-${j}-8`]:d.colors[g][8],[`--mantine-color-${j}-9`]:d.colors[g][9],...it}:it}const et=getPrimaryShade(d,"dark"),rt={[`--mantine-color-${j}-text`]:`var(--mantine-color-${j}-4)`,[`--mantine-color-${j}-filled`]:`var(--mantine-color-${j}-${et})`,[`--mantine-color-${j}-filled-hover`]:`var(--mantine-color-${j}-${et===9?8:et+1})`,[`--mantine-color-${j}-light`]:alpha(d.colors[g][Math.max(0,et-2)],.15),[`--mantine-color-${j}-light-hover`]:alpha(d.colors[g][Math.max(0,et-2)],.2),[`--mantine-color-${j}-light-color`]:`var(--mantine-color-${j}-${Math.max(et-5,0)})`,[`--mantine-color-${j}-outline`]:`var(--mantine-color-${j}-${Math.max(et-4,0)})`,[`--mantine-color-${j}-outline-hover`]:alpha(d.colors[g][Math.max(et-4,0)],.05)};return tt?{[`--mantine-color-${j}-0`]:d.colors[g][0],[`--mantine-color-${j}-1`]:d.colors[g][1],[`--mantine-color-${j}-2`]:d.colors[g][2],[`--mantine-color-${j}-3`]:d.colors[g][3],[`--mantine-color-${j}-4`]:d.colors[g][4],[`--mantine-color-${j}-5`]:d.colors[g][5],[`--mantine-color-${j}-6`]:d.colors[g][6],[`--mantine-color-${j}-7`]:d.colors[g][7],[`--mantine-color-${j}-8`]:d.colors[g][8],[`--mantine-color-${j}-9`]:d.colors[g][9],...rt}:rt}function isVirtualColor(d){return!!d&&typeof d=="object"&&"mantine-virtual-color"in d}function assignSizeVariables(d,g,$){keys(g).forEach(j=>Object.assign(d,{[`--mantine-${$}-${j}`]:g[j]}))}const defaultCssVariablesResolver=d=>{const g=getPrimaryShade(d,"light"),$=d.defaultRadius in d.radius?d.radius[d.defaultRadius]:rem(d.defaultRadius),j={variables:{"--mantine-scale":d.scale.toString(),"--mantine-cursor-type":d.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":d.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":d.fontSmoothing?"grayscale":"unset","--mantine-color-white":d.white,"--mantine-color-black":d.black,"--mantine-line-height":d.lineHeights.md,"--mantine-font-family":d.fontFamily,"--mantine-font-family-monospace":d.fontFamilyMonospace,"--mantine-font-family-headings":d.headings.fontFamily,"--mantine-heading-font-weight":d.headings.fontWeight,"--mantine-heading-text-wrap":d.headings.textWrap,"--mantine-radius-default":$,"--mantine-primary-color-filled":`var(--mantine-color-${d.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${d.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${d.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${d.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${d.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":getPrimaryContrastColor(d,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":d.black,"--mantine-color-body":d.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${d.primaryColor}-${g})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":getPrimaryContrastColor(d,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${d.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};assignSizeVariables(j.variables,d.breakpoints,"breakpoint"),assignSizeVariables(j.variables,d.spacing,"spacing"),assignSizeVariables(j.variables,d.fontSizes,"font-size"),assignSizeVariables(j.variables,d.lineHeights,"line-height"),assignSizeVariables(j.variables,d.shadows,"shadow"),assignSizeVariables(j.variables,d.radius,"radius"),d.colors[d.primaryColor].forEach((et,rt)=>{j.variables[`--mantine-primary-color-${rt}`]=`var(--mantine-color-${d.primaryColor}-${rt})`}),keys(d.colors).forEach(et=>{const rt=d.colors[et];if(isVirtualColor(rt)){Object.assign(j.light,getCSSColorVariables({theme:d,name:rt.name,color:rt.light,colorScheme:"light",withColorValues:!0})),Object.assign(j.dark,getCSSColorVariables({theme:d,name:rt.name,color:rt.dark,colorScheme:"dark",withColorValues:!0}));return}rt.forEach((nt,it)=>{j.variables[`--mantine-color-${et}-${it}`]=nt}),Object.assign(j.light,getCSSColorVariables({theme:d,color:et,colorScheme:"light",withColorValues:!1})),Object.assign(j.dark,getCSSColorVariables({theme:d,color:et,colorScheme:"dark",withColorValues:!1}))});const tt=d.headings.sizes;return keys(tt).forEach(et=>{j.variables[`--mantine-${et}-font-size`]=tt[et].fontSize,j.variables[`--mantine-${et}-line-height`]=tt[et].lineHeight,j.variables[`--mantine-${et}-font-weight`]=tt[et].fontWeight||d.headings.fontWeight}),j};function getMergedVariables({theme:d,generator:g}){const $=defaultCssVariablesResolver(d),j=g==null?void 0:g(d);return j?deepMerge($,j):$}const defaultCssVariables=defaultCssVariablesResolver(DEFAULT_THEME);function removeDefaultVariables(d){const g={variables:{},light:{},dark:{}};return keys(d.variables).forEach($=>{defaultCssVariables.variables[$]!==d.variables[$]&&(g.variables[$]=d.variables[$])}),keys(d.light).forEach($=>{defaultCssVariables.light[$]!==d.light[$]&&(g.light[$]=d.light[$])}),keys(d.dark).forEach($=>{defaultCssVariables.dark[$]!==d.dark[$]&&(g.dark[$]=d.dark[$])}),g}function getColorSchemeCssVariables(d){return`
  ${d}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${d}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function MantineCssVariables({cssVariablesSelector:d,deduplicateCssVariables:g}){const $=useMantineTheme(),j=useMantineStyleNonce(),tt=useMantineCssVariablesResolver(),et=getMergedVariables({theme:$,generator:tt}),rt=d===":root"&&g,nt=rt?removeDefaultVariables(et):et,it=convertCssVariables(nt,d);return it?jsxRuntimeExports.jsx("style",{"data-mantine-styles":!0,nonce:j==null?void 0:j(),dangerouslySetInnerHTML:{__html:`${it}${rt?"":getColorSchemeCssVariables(d)}`}}):null}MantineCssVariables.displayName="@mantine/CssVariables";function suppressNextjsWarning(){const d=console.error;console.error=(...g)=>{g.length>1&&typeof g[0]=="string"&&g[0].toLowerCase().includes("extra attributes from the server")&&typeof g[1]=="string"&&g[1].toLowerCase().includes("data-mantine-color-scheme")||d(...g)}}function setColorSchemeAttribute(d,g){var tt;const $=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)").matches,j=d!=="auto"?d:$?"dark":"light";(tt=g())==null||tt.setAttribute("data-mantine-color-scheme",j)}function useProviderColorScheme({manager:d,defaultColorScheme:g,getRootElement:$,forceColorScheme:j}){const tt=reactExports.useRef(null),[et,rt]=reactExports.useState(()=>d.get(g)),nt=j||et,it=reactExports.useCallback(st=>{j||(setColorSchemeAttribute(st,$),rt(st),d.set(st))},[d.set,nt,j]),at=reactExports.useCallback(()=>{rt(g),setColorSchemeAttribute(g,$),d.clear()},[d.clear,g]);return reactExports.useEffect(()=>(d.subscribe(it),d.unsubscribe),[d.subscribe,d.unsubscribe]),useIsomorphicEffect(()=>{setColorSchemeAttribute(d.get(g),$)},[]),reactExports.useEffect(()=>{var ot;if(j)return setColorSchemeAttribute(j,$),()=>{};j===void 0&&setColorSchemeAttribute(et,$),typeof window<"u"&&"matchMedia"in window&&(tt.current=window.matchMedia("(prefers-color-scheme: dark)"));const st=lt=>{et==="auto"&&setColorSchemeAttribute(lt.matches?"dark":"light",$)};return(ot=tt.current)==null||ot.addEventListener("change",st),()=>{var lt;return(lt=tt.current)==null?void 0:lt.removeEventListener("change",st)}},[et,j]),{colorScheme:nt,setColorScheme:it,clearColorScheme:at}}function useRespectReduceMotion({respectReducedMotion:d,getRootElement:g}){useIsomorphicEffect(()=>{var $;d&&(($=g())==null||$.setAttribute("data-respect-reduced-motion","true"))},[d])}suppressNextjsWarning();function MantineProvider({theme:d,children:g,getStyleNonce:$,withStaticClasses:j=!0,withGlobalClasses:tt=!0,deduplicateCssVariables:et=!0,withCssVariables:rt=!0,cssVariablesSelector:nt=":root",classNamesPrefix:it="mantine",colorSchemeManager:at=localStorageColorSchemeManager(),defaultColorScheme:st="light",getRootElement:ot=()=>document.documentElement,cssVariablesResolver:lt,forceColorScheme:ut,stylesTransform:ct}){const{colorScheme:ft,setColorScheme:mt,clearColorScheme:dt}=useProviderColorScheme({defaultColorScheme:st,forceColorScheme:ut,manager:at,getRootElement:ot});return useRespectReduceMotion({respectReducedMotion:(d==null?void 0:d.respectReducedMotion)||!1,getRootElement:ot}),jsxRuntimeExports.jsx(MantineContext.Provider,{value:{colorScheme:ft,setColorScheme:mt,clearColorScheme:dt,getRootElement:ot,classNamesPrefix:it,getStyleNonce:$,cssVariablesResolver:lt,cssVariablesSelector:nt,withStaticClasses:j,stylesTransform:ct},children:jsxRuntimeExports.jsxs(MantineThemeProvider,{theme:d,children:[rt&&jsxRuntimeExports.jsx(MantineCssVariables,{cssVariablesSelector:nt,deduplicateCssVariables:et}),tt&&jsxRuntimeExports.jsx(MantineClasses,{}),g]})})}MantineProvider.displayName="@mantine/core/MantineProvider";const FOCUS_CLASS_NAMES={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function getGlobalClassNames({theme:d,options:g,unstyled:$}){return clsx((g==null?void 0:g.focusable)&&!$&&(d.focusClassName||FOCUS_CLASS_NAMES[d.focusRing]),(g==null?void 0:g.active)&&!$&&d.activeClassName)}function getOptionsClassNames({selector:d,stylesCtx:g,options:$,props:j,theme:tt}){return resolveClassNames({theme:tt,classNames:$==null?void 0:$.classNames,props:($==null?void 0:$.props)||j,stylesCtx:g})[d]}function getResolvedClassNames({selector:d,stylesCtx:g,theme:$,classNames:j,props:tt}){return resolveClassNames({theme:$,classNames:j,props:tt,stylesCtx:g})[d]}function getRootClassName({rootSelector:d,selector:g,className:$}){return d===g?$:void 0}function getSelectorClassName({selector:d,classes:g,unstyled:$}){return $?void 0:g[d]}function getStaticClassNames({themeName:d,classNamesPrefix:g,selector:$,withStaticClass:j}){return j===!1?[]:d.map(tt=>`${g}-${tt}-${$}`)}function getThemeClassNames({themeName:d,theme:g,selector:$,props:j,stylesCtx:tt}){return d.map(et=>{var rt,nt;return(nt=resolveClassNames({theme:g,classNames:(rt=g.components[et])==null?void 0:rt.classNames,props:j,stylesCtx:tt}))==null?void 0:nt[$]})}function getVariantClassName({options:d,classes:g,selector:$,unstyled:j}){return d!=null&&d.variant&&!j?g[`${$}--${d.variant}`]:void 0}function getClassName({theme:d,options:g,themeName:$,selector:j,classNamesPrefix:tt,classNames:et,classes:rt,unstyled:nt,className:it,rootSelector:at,props:st,stylesCtx:ot,withStaticClasses:lt,headless:ut,transformedStyles:ct}){return clsx(getGlobalClassNames({theme:d,options:g,unstyled:nt||ut}),getThemeClassNames({theme:d,themeName:$,selector:j,props:st,stylesCtx:ot}),getVariantClassName({options:g,classes:rt,selector:j,unstyled:nt}),getResolvedClassNames({selector:j,stylesCtx:ot,theme:d,classNames:et,props:st}),getResolvedClassNames({selector:j,stylesCtx:ot,theme:d,classNames:ct,props:st}),getOptionsClassNames({selector:j,stylesCtx:ot,options:g,props:st,theme:d}),getRootClassName({rootSelector:at,selector:j,className:it}),getSelectorClassName({selector:j,classes:rt,unstyled:nt||ut}),lt&&!ut&&getStaticClassNames({themeName:$,classNamesPrefix:tt,selector:j,withStaticClass:g==null?void 0:g.withStaticClass}),g==null?void 0:g.className)}function getThemeStyles({theme:d,themeName:g,props:$,stylesCtx:j,selector:tt}){return g.map(et=>{var rt;return resolveStyles({theme:d,styles:(rt=d.components[et])==null?void 0:rt.styles,props:$,stylesCtx:j})[tt]}).reduce((et,rt)=>({...et,...rt}),{})}function resolveStyle({style:d,theme:g}){return Array.isArray(d)?[...d].reduce(($,j)=>({...$,...resolveStyle({style:j,theme:g})}),{}):typeof d=="function"?d(g):d??{}}function mergeVars(d){return d.reduce((g,$)=>($&&Object.keys($).forEach(j=>{g[j]={...g[j],...filterProps($[j])}}),g),{})}function resolveVars({vars:d,varsResolver:g,theme:$,props:j,stylesCtx:tt,selector:et,themeName:rt,headless:nt}){var it;return(it=mergeVars([nt?{}:g==null?void 0:g($,j,tt),...rt.map(at=>{var st,ot,lt;return(lt=(ot=(st=$.components)==null?void 0:st[at])==null?void 0:ot.vars)==null?void 0:lt.call(ot,$,j,tt)}),d==null?void 0:d($,j,tt)]))==null?void 0:it[et]}function getStyle({theme:d,themeName:g,selector:$,options:j,props:tt,stylesCtx:et,rootSelector:rt,styles:nt,style:it,vars:at,varsResolver:st,headless:ot,withStylesTransform:lt}){return{...!lt&&getThemeStyles({theme:d,themeName:g,props:tt,stylesCtx:et,selector:$}),...!lt&&resolveStyles({theme:d,styles:nt,props:tt,stylesCtx:et})[$],...!lt&&resolveStyles({theme:d,styles:j==null?void 0:j.styles,props:(j==null?void 0:j.props)||tt,stylesCtx:et})[$],...resolveVars({theme:d,props:tt,stylesCtx:et,vars:at,varsResolver:st,selector:$,themeName:g,headless:ot}),...rt===$?resolveStyle({style:it,theme:d}):null,...resolveStyle({style:j==null?void 0:j.style,theme:d})}}function useStylesTransform({props:d,stylesCtx:g,themeName:$}){var rt;const j=useMantineTheme(),tt=(rt=useMantineStylesTransform())==null?void 0:rt();return{getTransformedStyles:nt=>tt?[...nt.map(at=>tt(at,{props:d,theme:j,ctx:g})),...$.map(at=>{var st;return tt((st=j.components[at])==null?void 0:st.styles,{props:d,theme:j,ctx:g})})].filter(Boolean):[],withStylesTransform:!!tt}}function useStyles({name:d,classes:g,props:$,stylesCtx:j,className:tt,style:et,rootSelector:rt="root",unstyled:nt,classNames:it,styles:at,vars:st,varsResolver:ot}){const lt=useMantineTheme(),ut=useMantineClassNamesPrefix(),ct=useMantineWithStaticClasses(),ft=useMantineIsHeadless(),mt=(Array.isArray(d)?d:[d]).filter(pt=>pt),{withStylesTransform:dt,getTransformedStyles:ht}=useStylesTransform({props:$,stylesCtx:j,themeName:mt});return(pt,gt)=>({className:getClassName({theme:lt,options:gt,themeName:mt,selector:pt,classNamesPrefix:ut,classNames:it,classes:g,unstyled:nt,className:tt,rootSelector:rt,props:$,stylesCtx:j,withStaticClasses:ct,headless:ft,transformedStyles:ht([gt==null?void 0:gt.styles,at])}),style:getStyle({theme:lt,themeName:mt,selector:pt,options:gt,props:$,stylesCtx:j,rootSelector:rt,styles:at,style:et,vars:st,varsResolver:ot,headless:ft,withStylesTransform:dt})})}function useProps(d,g,$){var rt;const j=useMantineTheme(),tt=(rt=j.components[d])==null?void 0:rt.defaultProps,et=typeof tt=="function"?tt(j):tt;return{...g,...et,...filterProps($)}}function cssObjectToString(d){return keys(d).reduce((g,$)=>d[$]!==void 0?`${g}${camelToKebabCase($)}:${d[$]};`:g,"").trim()}function stylesToString({selector:d,styles:g,media:$,container:j}){const tt=g?cssObjectToString(g):"",et=Array.isArray($)?$.map(nt=>`@media${nt.query}{${d}{${cssObjectToString(nt.styles)}}}`):[],rt=Array.isArray(j)?j.map(nt=>`@container ${nt.query}{${d}{${cssObjectToString(nt.styles)}}}`):[];return`${tt?`${d}{${tt}}`:""}${et.join("")}${rt.join("")}`.trim()}function InlineStyles(d){const g=useMantineStyleNonce();return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"inline",nonce:g==null?void 0:g(),dangerouslySetInnerHTML:{__html:stylesToString(d)}})}function extractStyleProps(d){const{m:g,mx:$,my:j,mt:tt,mb:et,ml:rt,mr:nt,me:it,ms:at,p:st,px:ot,py:lt,pt:ut,pb:ct,pl:ft,pr:mt,pe:dt,ps:ht,bd:pt,bg:gt,c:_t,opacity:Et,ff:yt,fz:St,fw:wt,lts:kt,ta:bt,lh:Tt,fs:Dt,tt:$t,td:At,w:Pt,miw:Kt,maw:Ut,h:It,mih:jt,mah:zt,bgsz:Ht,bgp:Vt,bgr:Wt,bga:Zt,pos:Qt,top:Xt,left:er,bottom:ir,right:Yt,inset:xt,display:qt,flex:Rt,hiddenFrom:Nt,visibleFrom:Bt,lightHidden:Lt,darkHidden:Jt,sx:vt,...Mt}=d;return{styleProps:filterProps({m:g,mx:$,my:j,mt:tt,mb:et,ml:rt,mr:nt,me:it,ms:at,p:st,px:ot,py:lt,pt:ut,pb:ct,pl:ft,pr:mt,pe:dt,ps:ht,bd:pt,bg:gt,c:_t,opacity:Et,ff:yt,fz:St,fw:wt,lts:kt,ta:bt,lh:Tt,fs:Dt,tt:$t,td:At,w:Pt,miw:Kt,maw:Ut,h:It,mih:jt,mah:zt,bgsz:Ht,bgp:Vt,bgr:Wt,bga:Zt,pos:Qt,top:Xt,left:er,bottom:ir,right:Yt,inset:xt,display:qt,flex:Rt,hiddenFrom:Nt,visibleFrom:Bt,lightHidden:Lt,darkHidden:Jt,sx:vt}),rest:Mt}}const STYlE_PROPS_DATA={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function colorResolver(d,g){const $=parseThemeColor({color:d,theme:g});return $.color==="dimmed"?"var(--mantine-color-dimmed)":$.color==="bright"?"var(--mantine-color-bright)":$.variable?`var(${$.variable})`:$.color}function textColorResolver(d,g){const $=parseThemeColor({color:d,theme:g});return $.isThemeColor&&$.shade===void 0?`var(--mantine-color-${$.color}-text)`:colorResolver(d,g)}function borderResolver(d,g){if(typeof d=="number")return rem(d);if(typeof d=="string"){const[$,j,...tt]=d.split(" ").filter(rt=>rt.trim()!=="");let et=`${rem($)}`;return j&&(et+=` ${j}`),tt.length>0&&(et+=` ${colorResolver(tt.join(" "),g)}`),et.trim()}return d}const values={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function fontFamilyResolver(d){return typeof d=="string"&&d in values?values[d]:d}const headings$1=["h1","h2","h3","h4","h5","h6"];function fontSizeResolver(d,g){return typeof d=="string"&&d in g.fontSizes?`var(--mantine-font-size-${d})`:typeof d=="string"&&headings$1.includes(d)?`var(--mantine-${d}-font-size)`:typeof d=="number"||typeof d=="string"?rem(d):d}function identityResolver(d){return d}const headings=["h1","h2","h3","h4","h5","h6"];function lineHeightResolver(d,g){return typeof d=="string"&&d in g.lineHeights?`var(--mantine-line-height-${d})`:typeof d=="string"&&headings.includes(d)?`var(--mantine-${d}-line-height)`:d}function sizeResolver(d){return typeof d=="number"?rem(d):d}function spacingResolver(d,g){if(typeof d=="number")return rem(d);if(typeof d=="string"){const $=d.replace("-","");if(!($ in g.spacing))return rem(d);const j=`--mantine-spacing-${$}`;return d.startsWith("-")?`calc(var(${j}) * -1)`:`var(${j})`}return d}const resolvers={color:colorResolver,textColor:textColorResolver,fontSize:fontSizeResolver,spacing:spacingResolver,identity:identityResolver,size:sizeResolver,lineHeight:lineHeightResolver,fontFamily:fontFamilyResolver,border:borderResolver};function replaceMediaQuery(d){return d.replace("(min-width: ","").replace("em)","")}function sortMediaQueries({media:d,...g}){const j=Object.keys(d).sort((tt,et)=>Number(replaceMediaQuery(tt))-Number(replaceMediaQuery(et))).map(tt=>({query:tt,styles:d[tt]}));return{...g,media:j}}function hasResponsiveStyles(d){if(typeof d!="object"||d===null)return!1;const g=Object.keys(d);return!(g.length===1&&g[0]==="base")}function getBaseValue(d){return typeof d=="object"&&d!==null?"base"in d?d.base:void 0:d}function getBreakpointKeys(d){return typeof d=="object"&&d!==null?keys(d).filter(g=>g!=="base"):[]}function getBreakpointValue(d,g){return typeof d=="object"&&d!==null&&g in d?d[g]:d}function parseStyleProps({styleProps:d,data:g,theme:$}){return sortMediaQueries(keys(d).reduce((j,tt)=>{if(tt==="hiddenFrom"||tt==="visibleFrom"||tt==="sx")return j;const et=g[tt],rt=Array.isArray(et.property)?et.property:[et.property],nt=getBaseValue(d[tt]);if(!hasResponsiveStyles(d[tt]))return rt.forEach(at=>{j.inlineStyles[at]=resolvers[et.type](nt,$)}),j;j.hasResponsiveStyles=!0;const it=getBreakpointKeys(d[tt]);return rt.forEach(at=>{nt&&(j.styles[at]=resolvers[et.type](nt,$)),it.forEach(st=>{const ot=`(min-width: ${$.breakpoints[st]})`;j.media[ot]={...j.media[ot],[at]:resolvers[et.type](getBreakpointValue(d[tt],st),$)}})}),j},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function useRandomClassName(){return`__m__-${reactExports.useId().replace(/:/g,"")}`}function createPolymorphicComponent(d){return d}function transformModKey(d){return d.startsWith("data-")?d:`data-${d}`}function getMod(d){return Object.keys(d).reduce((g,$)=>{const j=d[$];return j===void 0||j===""||j===!1||j===null||(g[transformModKey($)]=d[$]),g},{})}function getBoxMod(d){return d?typeof d=="string"?{[transformModKey(d)]:!0}:Array.isArray(d)?[...d].reduce((g,$)=>({...g,...getBoxMod($)}),{}):getMod(d):null}function mergeStyles(d,g){return Array.isArray(d)?[...d].reduce(($,j)=>({...$,...mergeStyles(j,g)}),{}):typeof d=="function"?d(g):d??{}}function getBoxStyle({theme:d,style:g,vars:$,styleProps:j}){const tt=mergeStyles(g,d),et=mergeStyles($,d);return{...tt,...et,...j}}const _Box=reactExports.forwardRef(({component:d,style:g,__vars:$,className:j,variant:tt,mod:et,size:rt,hiddenFrom:nt,visibleFrom:it,lightHidden:at,darkHidden:st,renderRoot:ot,__size:lt,...ut},ct)=>{var St;const ft=useMantineTheme(),mt=d||"div",{styleProps:dt,rest:ht}=extractStyleProps(ut),pt=useMantineSxTransform(),gt=(St=pt==null?void 0:pt())==null?void 0:St(dt.sx),_t=useRandomClassName(),Et=parseStyleProps({styleProps:dt,theme:ft,data:STYlE_PROPS_DATA}),yt={ref:ct,style:getBoxStyle({theme:ft,style:g,vars:$,styleProps:Et.inlineStyles}),className:clsx(j,gt,{[_t]:Et.hasResponsiveStyles,"mantine-light-hidden":at,"mantine-dark-hidden":st,[`mantine-hidden-from-${nt}`]:nt,[`mantine-visible-from-${it}`]:it}),"data-variant":tt,"data-size":isNumberLike(rt)?void 0:rt||void 0,size:lt,...getBoxMod(et),...ht};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Et.hasResponsiveStyles&&jsxRuntimeExports.jsx(InlineStyles,{selector:`.${_t}`,styles:Et.styles,media:Et.media}),typeof ot=="function"?ot(yt):jsxRuntimeExports.jsx(mt,{...yt})]})});_Box.displayName="@mantine/core/Box";const Box=_Box;function identity(d){return d}function factory(d){const g=reactExports.forwardRef(d);return g.extend=identity,g.withProps=$=>{const j=reactExports.forwardRef((tt,et)=>jsxRuntimeExports.jsx(g,{...$,...tt,ref:et}));return j.extend=g.extend,j.displayName=`WithProps(${g.displayName})`,j},g}const DirectionContext=reactExports.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function useDirection(){return reactExports.useContext(DirectionContext)}const[ScrollAreaProvider,useScrollAreaContext]=createSafeContext("ScrollArea.Root component was not found in tree");function useResizeObserver(d,g){const $=useCallbackRef(g);useIsomorphicEffect(()=>{let j=0;if(d){const tt=new ResizeObserver(()=>{cancelAnimationFrame(j),j=window.requestAnimationFrame($)});return tt.observe(d),()=>{window.cancelAnimationFrame(j),tt.unobserve(d)}}},[d,$])}const Corner=reactExports.forwardRef((d,g)=>{const{style:$,...j}=d,tt=useScrollAreaContext(),[et,rt]=reactExports.useState(0),[nt,it]=reactExports.useState(0),at=!!(et&&nt);return useResizeObserver(tt.scrollbarX,()=>{var ot;const st=((ot=tt.scrollbarX)==null?void 0:ot.offsetHeight)||0;tt.onCornerHeightChange(st),it(st)}),useResizeObserver(tt.scrollbarY,()=>{var ot;const st=((ot=tt.scrollbarY)==null?void 0:ot.offsetWidth)||0;tt.onCornerWidthChange(st),rt(st)}),at?jsxRuntimeExports.jsx("div",{...j,ref:g,style:{...$,width:et,height:nt}}):null}),ScrollAreaCorner=reactExports.forwardRef((d,g)=>{const $=useScrollAreaContext(),j=!!($.scrollbarX&&$.scrollbarY);return $.type!=="scroll"&&j?jsxRuntimeExports.jsx(Corner,{...d,ref:g}):null}),defaultProps$3={scrollHideDelay:1e3,type:"hover"},ScrollAreaRoot=reactExports.forwardRef((d,g)=>{const $=useProps("ScrollAreaRoot",defaultProps$3,d),{type:j,scrollHideDelay:tt,scrollbars:et,...rt}=$,[nt,it]=reactExports.useState(null),[at,st]=reactExports.useState(null),[ot,lt]=reactExports.useState(null),[ut,ct]=reactExports.useState(null),[ft,mt]=reactExports.useState(null),[dt,ht]=reactExports.useState(0),[pt,gt]=reactExports.useState(0),[_t,Et]=reactExports.useState(!1),[yt,St]=reactExports.useState(!1),wt=useMergedRef(g,kt=>it(kt));return jsxRuntimeExports.jsx(ScrollAreaProvider,{value:{type:j,scrollHideDelay:tt,scrollArea:nt,viewport:at,onViewportChange:st,content:ot,onContentChange:lt,scrollbarX:ut,onScrollbarXChange:ct,scrollbarXEnabled:_t,onScrollbarXEnabledChange:Et,scrollbarY:ft,onScrollbarYChange:mt,scrollbarYEnabled:yt,onScrollbarYEnabledChange:St,onCornerWidthChange:ht,onCornerHeightChange:gt},children:jsxRuntimeExports.jsx(Box,{...rt,ref:wt,__vars:{"--sa-corner-width":et!=="xy"?"0px":`${dt}px`,"--sa-corner-height":et!=="xy"?"0px":`${pt}px`}})})});ScrollAreaRoot.displayName="@mantine/core/ScrollAreaRoot";function getThumbRatio(d,g){const $=d/g;return Number.isNaN($)?0:$}function getThumbSize(d){const g=getThumbRatio(d.viewport,d.content),$=d.scrollbar.paddingStart+d.scrollbar.paddingEnd,j=(d.scrollbar.size-$)*g;return Math.max(j,18)}function linearScale(d,g){return $=>{if(d[0]===d[1]||g[0]===g[1])return g[0];const j=(g[1]-g[0])/(d[1]-d[0]);return g[0]+j*($-d[0])}}function clamp(d,[g,$]){return Math.min($,Math.max(g,d))}function getThumbOffsetFromScroll(d,g,$="ltr"){const j=getThumbSize(g),tt=g.scrollbar.paddingStart+g.scrollbar.paddingEnd,et=g.scrollbar.size-tt,rt=g.content-g.viewport,nt=et-j,it=$==="ltr"?[0,rt]:[rt*-1,0],at=clamp(d,it);return linearScale([0,rt],[0,nt])(at)}function getScrollPositionFromPointer(d,g,$,j="ltr"){const tt=getThumbSize($),et=tt/2,rt=g||et,nt=tt-rt,it=$.scrollbar.paddingStart+rt,at=$.scrollbar.size-$.scrollbar.paddingEnd-nt,st=$.content-$.viewport,ot=j==="ltr"?[0,st]:[st*-1,0];return linearScale([it,at],ot)(d)}function isScrollingWithinScrollbarBounds(d,g){return d>0&&d<g}function toInt(d){return d?parseInt(d,10):0}function composeEventHandlers(d,g,{checkForDefaultPrevented:$=!0}={}){return j=>{d==null||d(j),($===!1||!j.defaultPrevented)&&(g==null||g(j))}}const[ScrollbarProvider,useScrollbarContext]=createSafeContext("ScrollAreaScrollbar was not found in tree"),Scrollbar=reactExports.forwardRef((d,g)=>{const{sizes:$,hasThumb:j,onThumbChange:tt,onThumbPointerUp:et,onThumbPointerDown:rt,onThumbPositionChange:nt,onDragScroll:it,onWheelScroll:at,onResize:st,...ot}=d,lt=useScrollAreaContext(),[ut,ct]=reactExports.useState(null),ft=useMergedRef(g,St=>ct(St)),mt=reactExports.useRef(null),dt=reactExports.useRef(""),{viewport:ht}=lt,pt=$.content-$.viewport,gt=useCallbackRef(at),_t=useCallbackRef(nt),Et=useDebouncedCallback(st,10),yt=St=>{if(mt.current){const wt=St.clientX-mt.current.left,kt=St.clientY-mt.current.top;it({x:wt,y:kt})}};return reactExports.useEffect(()=>{const St=wt=>{const kt=wt.target;(ut==null?void 0:ut.contains(kt))&&gt(wt,pt)};return document.addEventListener("wheel",St,{passive:!1}),()=>document.removeEventListener("wheel",St,{passive:!1})},[ht,ut,pt,gt]),reactExports.useEffect(_t,[$,_t]),useResizeObserver(ut,Et),useResizeObserver(lt.content,Et),jsxRuntimeExports.jsx(ScrollbarProvider,{value:{scrollbar:ut,hasThumb:j,onThumbChange:useCallbackRef(tt),onThumbPointerUp:useCallbackRef(et),onThumbPositionChange:_t,onThumbPointerDown:useCallbackRef(rt)},children:jsxRuntimeExports.jsx("div",{...ot,ref:ft,"data-mantine-scrollbar":!0,style:{position:"absolute",...ot.style},onPointerDown:composeEventHandlers(d.onPointerDown,St=>{St.preventDefault();const wt=0;St.button===wt&&(St.target.setPointerCapture(St.pointerId),mt.current=ut.getBoundingClientRect(),dt.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",yt(St))}),onPointerMove:composeEventHandlers(d.onPointerMove,yt),onPointerUp:composeEventHandlers(d.onPointerUp,St=>{St.preventDefault();const wt=St.target;wt.hasPointerCapture(St.pointerId)&&wt.releasePointerCapture(St.pointerId),document.body.style.webkitUserSelect=dt.current,mt.current=null})})})}),ScrollAreaScrollbarX=reactExports.forwardRef((d,g)=>{const{sizes:$,onSizesChange:j,style:tt,...et}=d,rt=useScrollAreaContext(),[nt,it]=reactExports.useState(),at=reactExports.useRef(null),st=useMergedRef(g,at,rt.onScrollbarXChange);return reactExports.useEffect(()=>{at.current&&it(getComputedStyle(at.current))},[at]),jsxRuntimeExports.jsx(Scrollbar,{"data-orientation":"horizontal",...et,ref:st,sizes:$,style:{...tt,"--sa-thumb-width":`${getThumbSize($)}px`},onThumbPointerDown:ot=>d.onThumbPointerDown(ot.x),onDragScroll:ot=>d.onDragScroll(ot.x),onWheelScroll:(ot,lt)=>{if(rt.viewport){const ut=rt.viewport.scrollLeft+ot.deltaX;d.onWheelScroll(ut),isScrollingWithinScrollbarBounds(ut,lt)&&ot.preventDefault()}},onResize:()=>{at.current&&rt.viewport&&nt&&j({content:rt.viewport.scrollWidth,viewport:rt.viewport.offsetWidth,scrollbar:{size:at.current.clientWidth,paddingStart:toInt(nt.paddingLeft),paddingEnd:toInt(nt.paddingRight)}})}})});ScrollAreaScrollbarX.displayName="@mantine/core/ScrollAreaScrollbarX";const ScrollAreaScrollbarY=reactExports.forwardRef((d,g)=>{const{sizes:$,onSizesChange:j,style:tt,...et}=d,rt=useScrollAreaContext(),[nt,it]=reactExports.useState(),at=reactExports.useRef(null),st=useMergedRef(g,at,rt.onScrollbarYChange);return reactExports.useEffect(()=>{at.current&&it(window.getComputedStyle(at.current))},[]),jsxRuntimeExports.jsx(Scrollbar,{...et,"data-orientation":"vertical",ref:st,sizes:$,style:{"--sa-thumb-height":`${getThumbSize($)}px`,...tt},onThumbPointerDown:ot=>d.onThumbPointerDown(ot.y),onDragScroll:ot=>d.onDragScroll(ot.y),onWheelScroll:(ot,lt)=>{if(rt.viewport){const ut=rt.viewport.scrollTop+ot.deltaY;d.onWheelScroll(ut),isScrollingWithinScrollbarBounds(ut,lt)&&ot.preventDefault()}},onResize:()=>{at.current&&rt.viewport&&nt&&j({content:rt.viewport.scrollHeight,viewport:rt.viewport.offsetHeight,scrollbar:{size:at.current.clientHeight,paddingStart:toInt(nt.paddingTop),paddingEnd:toInt(nt.paddingBottom)}})}})});ScrollAreaScrollbarY.displayName="@mantine/core/ScrollAreaScrollbarY";const ScrollAreaScrollbarVisible=reactExports.forwardRef((d,g)=>{const{orientation:$="vertical",...j}=d,{dir:tt}=useDirection(),et=useScrollAreaContext(),rt=reactExports.useRef(null),nt=reactExports.useRef(0),[it,at]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),st=getThumbRatio(it.viewport,it.content),ot={...j,sizes:it,onSizesChange:at,hasThumb:st>0&&st<1,onThumbChange:ut=>{rt.current=ut},onThumbPointerUp:()=>{nt.current=0},onThumbPointerDown:ut=>{nt.current=ut}},lt=(ut,ct)=>getScrollPositionFromPointer(ut,nt.current,it,ct);return $==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...ot,ref:g,onThumbPositionChange:()=>{if(et.viewport&&rt.current){const ut=et.viewport.scrollLeft,ct=getThumbOffsetFromScroll(ut,it,tt);rt.current.style.transform=`translate3d(${ct}px, 0, 0)`}},onWheelScroll:ut=>{et.viewport&&(et.viewport.scrollLeft=ut)},onDragScroll:ut=>{et.viewport&&(et.viewport.scrollLeft=lt(ut,tt))}}):$==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...ot,ref:g,onThumbPositionChange:()=>{if(et.viewport&&rt.current){const ut=et.viewport.scrollTop,ct=getThumbOffsetFromScroll(ut,it);it.scrollbar.size===0?rt.current.style.setProperty("--thumb-opacity","0"):rt.current.style.setProperty("--thumb-opacity","1"),rt.current.style.transform=`translate3d(0, ${ct}px, 0)`}},onWheelScroll:ut=>{et.viewport&&(et.viewport.scrollTop=ut)},onDragScroll:ut=>{et.viewport&&(et.viewport.scrollTop=lt(ut))}}):null});ScrollAreaScrollbarVisible.displayName="@mantine/core/ScrollAreaScrollbarVisible";const ScrollAreaScrollbarAuto=reactExports.forwardRef((d,g)=>{const $=useScrollAreaContext(),{forceMount:j,...tt}=d,[et,rt]=reactExports.useState(!1),nt=d.orientation==="horizontal",it=useDebouncedCallback(()=>{if($.viewport){const at=$.viewport.offsetWidth<$.viewport.scrollWidth,st=$.viewport.offsetHeight<$.viewport.scrollHeight;rt(nt?at:st)}},10);return useResizeObserver($.viewport,it),useResizeObserver($.content,it),j||et?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":et?"visible":"hidden",...tt,ref:g}):null});ScrollAreaScrollbarAuto.displayName="@mantine/core/ScrollAreaScrollbarAuto";const ScrollAreaScrollbarHover=reactExports.forwardRef((d,g)=>{const{forceMount:$,...j}=d,tt=useScrollAreaContext(),[et,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{const{scrollArea:nt}=tt;let it=0;if(nt){const at=()=>{window.clearTimeout(it),rt(!0)},st=()=>{it=window.setTimeout(()=>rt(!1),tt.scrollHideDelay)};return nt.addEventListener("pointerenter",at),nt.addEventListener("pointerleave",st),()=>{window.clearTimeout(it),nt.removeEventListener("pointerenter",at),nt.removeEventListener("pointerleave",st)}}},[tt.scrollArea,tt.scrollHideDelay]),$||et?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":et?"visible":"hidden",...j,ref:g}):null});ScrollAreaScrollbarHover.displayName="@mantine/core/ScrollAreaScrollbarHover";const ScrollAreaScrollbarScroll=reactExports.forwardRef((d,g)=>{const{forceMount:$,...j}=d,tt=useScrollAreaContext(),et=d.orientation==="horizontal",[rt,nt]=reactExports.useState("hidden"),it=useDebouncedCallback(()=>nt("idle"),100);return reactExports.useEffect(()=>{if(rt==="idle"){const at=window.setTimeout(()=>nt("hidden"),tt.scrollHideDelay);return()=>window.clearTimeout(at)}},[rt,tt.scrollHideDelay]),reactExports.useEffect(()=>{const{viewport:at}=tt,st=et?"scrollLeft":"scrollTop";if(at){let ot=at[st];const lt=()=>{const ut=at[st];ot!==ut&&(nt("scrolling"),it()),ot=ut};return at.addEventListener("scroll",lt),()=>at.removeEventListener("scroll",lt)}},[tt.viewport,et,it]),$||rt!=="hidden"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":rt==="hidden"?"hidden":"visible",...j,ref:g,onPointerEnter:composeEventHandlers(d.onPointerEnter,()=>nt("interacting")),onPointerLeave:composeEventHandlers(d.onPointerLeave,()=>nt("idle"))}):null}),ScrollAreaScrollbar=reactExports.forwardRef((d,g)=>{const{forceMount:$,...j}=d,tt=useScrollAreaContext(),{onScrollbarXEnabledChange:et,onScrollbarYEnabledChange:rt}=tt,nt=d.orientation==="horizontal";return reactExports.useEffect(()=>(nt?et(!0):rt(!0),()=>{nt?et(!1):rt(!1)}),[nt,et,rt]),tt.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...j,ref:g,forceMount:$}):tt.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...j,ref:g,forceMount:$}):tt.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...j,ref:g,forceMount:$}):tt.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...j,ref:g}):null});ScrollAreaScrollbar.displayName="@mantine/core/ScrollAreaScrollbar";function addUnlinkedScrollListener(d,g=()=>{}){let $={left:d.scrollLeft,top:d.scrollTop},j=0;return function tt(){const et={left:d.scrollLeft,top:d.scrollTop},rt=$.left!==et.left,nt=$.top!==et.top;(rt||nt)&&g(),$=et,j=window.requestAnimationFrame(tt)}(),()=>window.cancelAnimationFrame(j)}const Thumb=reactExports.forwardRef((d,g)=>{const{style:$,...j}=d,tt=useScrollAreaContext(),et=useScrollbarContext(),{onThumbPositionChange:rt}=et,nt=useMergedRef(g,st=>et.onThumbChange(st)),it=reactExports.useRef(noop),at=useDebouncedCallback(()=>{it.current&&(it.current(),it.current=void 0)},100);return reactExports.useEffect(()=>{const{viewport:st}=tt;if(st){const ot=()=>{if(at(),!it.current){const lt=addUnlinkedScrollListener(st,rt);it.current=lt,rt()}};return rt(),st.addEventListener("scroll",ot),()=>st.removeEventListener("scroll",ot)}},[tt.viewport,at,rt]),jsxRuntimeExports.jsx("div",{"data-state":et.hasThumb?"visible":"hidden",...j,ref:nt,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...$},onPointerDownCapture:composeEventHandlers(d.onPointerDownCapture,st=>{const lt=st.target.getBoundingClientRect(),ut=st.clientX-lt.left,ct=st.clientY-lt.top;et.onThumbPointerDown({x:ut,y:ct})}),onPointerUp:composeEventHandlers(d.onPointerUp,et.onThumbPointerUp)})});Thumb.displayName="@mantine/core/ScrollAreaThumb";const ScrollAreaThumb=reactExports.forwardRef((d,g)=>{const{forceMount:$,...j}=d,tt=useScrollbarContext();return $||tt.hasThumb?jsxRuntimeExports.jsx(Thumb,{ref:g,...j}):null});ScrollAreaThumb.displayName="@mantine/core/ScrollAreaThumb";const ScrollAreaViewport=reactExports.forwardRef(({children:d,style:g,...$},j)=>{const tt=useScrollAreaContext(),et=useMergedRef(j,tt.onViewportChange);return jsxRuntimeExports.jsx(Box,{...$,ref:et,style:{overflowX:tt.scrollbarXEnabled?"scroll":"hidden",overflowY:tt.scrollbarYEnabled?"scroll":"hidden",...g},children:jsxRuntimeExports.jsx("div",{style:{minWidth:"100%",display:"table"},ref:tt.onContentChange,children:d})})});ScrollAreaViewport.displayName="@mantine/core/ScrollAreaViewport";var classes$1={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const defaultProps$2={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},varsResolver$2=(d,{scrollbarSize:g})=>({root:{"--scrollarea-scrollbar-size":rem(g)}}),ScrollArea=factory((d,g)=>{const $=useProps("ScrollArea",defaultProps$2,d),{classNames:j,className:tt,style:et,styles:rt,unstyled:nt,scrollbarSize:it,vars:at,type:st,scrollHideDelay:ot,viewportProps:lt,viewportRef:ut,onScrollPositionChange:ct,children:ft,offsetScrollbars:mt,scrollbars:dt,onBottomReached:ht,onTopReached:pt,...gt}=$,[_t,Et]=reactExports.useState(!1),yt=useStyles({name:"ScrollArea",props:$,classes:classes$1,className:tt,style:et,classNames:j,styles:rt,unstyled:nt,vars:at,varsResolver:varsResolver$2});return jsxRuntimeExports.jsxs(ScrollAreaRoot,{type:st==="never"?"always":st,scrollHideDelay:ot,ref:g,scrollbars:dt,...yt("root"),...gt,children:[jsxRuntimeExports.jsx(ScrollAreaViewport,{...lt,...yt("viewport",{style:lt==null?void 0:lt.style}),ref:ut,"data-offset-scrollbars":mt===!0?"xy":mt||void 0,"data-scrollbars":dt||void 0,onScroll:St=>{var Tt;(Tt=lt==null?void 0:lt.onScroll)==null||Tt.call(lt,St),ct==null||ct({x:St.currentTarget.scrollLeft,y:St.currentTarget.scrollTop});const{scrollTop:wt,scrollHeight:kt,clientHeight:bt}=St.currentTarget;wt-(kt-bt)>=0&&(ht==null||ht()),wt===0&&(pt==null||pt())},children:ft}),(dt==="xy"||dt==="x")&&jsxRuntimeExports.jsx(ScrollAreaScrollbar,{...yt("scrollbar"),orientation:"horizontal","data-hidden":st==="never"||void 0,forceMount:!0,onMouseEnter:()=>Et(!0),onMouseLeave:()=>Et(!1),children:jsxRuntimeExports.jsx(ScrollAreaThumb,{...yt("thumb")})}),(dt==="xy"||dt==="y")&&jsxRuntimeExports.jsx(ScrollAreaScrollbar,{...yt("scrollbar"),orientation:"vertical","data-hidden":st==="never"||void 0,forceMount:!0,onMouseEnter:()=>Et(!0),onMouseLeave:()=>Et(!1),children:jsxRuntimeExports.jsx(ScrollAreaThumb,{...yt("thumb")})}),jsxRuntimeExports.jsx(ScrollAreaCorner,{...yt("corner"),"data-hovered":_t||void 0,"data-hidden":st==="never"||void 0})]})});ScrollArea.displayName="@mantine/core/ScrollArea";const ScrollAreaAutosize=factory((d,g)=>{const{children:$,classNames:j,styles:tt,scrollbarSize:et,scrollHideDelay:rt,type:nt,dir:it,offsetScrollbars:at,viewportRef:st,onScrollPositionChange:ot,unstyled:lt,variant:ut,viewportProps:ct,scrollbars:ft,style:mt,vars:dt,onBottomReached:ht,onTopReached:pt,...gt}=useProps("ScrollAreaAutosize",defaultProps$2,d);return jsxRuntimeExports.jsx(Box,{...gt,ref:g,style:[{display:"flex",overflow:"auto"},mt],children:jsxRuntimeExports.jsx(Box,{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(ScrollArea,{classNames:j,styles:tt,scrollHideDelay:rt,scrollbarSize:et,type:nt,dir:it,offsetScrollbars:at,viewportRef:st,onScrollPositionChange:ot,unstyled:lt,variant:ut,viewportProps:ct,vars:dt,scrollbars:ft,onBottomReached:ht,onTopReached:pt,children:$})})})});ScrollArea.classes=classes$1;ScrollAreaAutosize.displayName="@mantine/core/ScrollAreaAutosize";ScrollAreaAutosize.classes=classes$1;ScrollArea.Autosize=ScrollAreaAutosize;const[TableProvider,useTableContext]=createSafeContext("Table component was not found in the tree");var classes={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function getDataAttributes(d,g){if(!g)return;const $={};return g.columnBorder&&d.withColumnBorders&&($["data-with-column-border"]=!0),g.rowBorder&&d.withRowBorders&&($["data-with-row-border"]=!0),g.striped&&d.striped&&($["data-striped"]=d.striped),g.highlightOnHover&&d.highlightOnHover&&($["data-hover"]=!0),g.captionSide&&d.captionSide&&($["data-side"]=d.captionSide),g.stickyHeader&&d.stickyHeader&&($["data-sticky"]=!0),$}function tableElement(d,g){const $=`Table${d.charAt(0).toUpperCase()}${d.slice(1)}`,j=factory((tt,et)=>{const rt=useProps($,{},tt),{classNames:nt,className:it,style:at,styles:st,...ot}=rt,lt=useTableContext();return jsxRuntimeExports.jsx(Box,{component:d,ref:et,...getDataAttributes(lt,g),...lt.getStyles(d,{className:it,classNames:nt,style:at,styles:st,props:rt}),...ot})});return j.displayName=`@mantine/core/${$}`,j.classes=classes,j}const TableTh=tableElement("th",{columnBorder:!0}),TableTd=tableElement("td",{columnBorder:!0}),TableTr=tableElement("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),TableThead=tableElement("thead",{stickyHeader:!0}),TableTbody=tableElement("tbody"),TableTfoot=tableElement("tfoot"),TableCaption=tableElement("caption",{captionSide:!0});function TableDataRenderer({data:d}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[d.caption&&jsxRuntimeExports.jsx(TableCaption,{children:d.caption}),d.head&&jsxRuntimeExports.jsx(TableThead,{children:jsxRuntimeExports.jsx(TableTr,{children:d.head.map((g,$)=>jsxRuntimeExports.jsx(TableTh,{children:g},$))})}),d.body&&jsxRuntimeExports.jsx(TableTbody,{children:d.body.map((g,$)=>jsxRuntimeExports.jsx(TableTr,{children:g.map((j,tt)=>jsxRuntimeExports.jsx(TableTd,{children:j},tt))},$))}),d.foot&&jsxRuntimeExports.jsx(TableTfoot,{children:jsxRuntimeExports.jsx(TableTr,{children:d.foot.map((g,$)=>jsxRuntimeExports.jsx(TableTh,{children:g},$))})})]})}TableDataRenderer.displayName="@mantine/core/TableDataRenderer";const defaultProps$1={type:"scrollarea"},varsResolver$1=(d,{minWidth:g,type:$})=>({scrollContainer:{"--table-min-width":rem(g),"--table-overflow":$==="native"?"auto":void 0}}),TableScrollContainer=factory((d,g)=>{const $=useProps("TableScrollContainer",defaultProps$1,d),{classNames:j,className:tt,style:et,styles:rt,unstyled:nt,vars:it,children:at,minWidth:st,type:ot,...lt}=$,ut=useStyles({name:"TableScrollContainer",classes,props:$,className:tt,style:et,classNames:j,styles:rt,unstyled:nt,vars:it,varsResolver:varsResolver$1,rootSelector:"scrollContainer"});return jsxRuntimeExports.jsx(Box,{component:ot==="scrollarea"?ScrollArea:"div",...ot==="scrollarea"?{offsetScrollbars:"x"}:{},ref:g,...ut("scrollContainer"),...lt,children:jsxRuntimeExports.jsx("div",{...ut("scrollContainerInner"),children:at})})});TableScrollContainer.classes=classes;TableScrollContainer.displayName="@mantine/core/TableScrollContainer";const defaultProps={withRowBorders:!0,verticalSpacing:7},varsResolver=(d,{layout:g,captionSide:$,horizontalSpacing:j,verticalSpacing:tt,borderColor:et,stripedColor:rt,highlightOnHoverColor:nt,striped:it,highlightOnHover:at,stickyHeaderOffset:st,stickyHeader:ot})=>({table:{"--table-layout":g,"--table-caption-side":$,"--table-horizontal-spacing":getSpacing(j),"--table-vertical-spacing":getSpacing(tt),"--table-border-color":et?getThemeColor(et,d):void 0,"--table-striped-color":it&&rt?getThemeColor(rt,d):void 0,"--table-highlight-on-hover-color":at&&nt?getThemeColor(nt,d):void 0,"--table-sticky-header-offset":ot?rem(st):void 0}}),Table=factory((d,g)=>{const $=useProps("Table",defaultProps,d),{classNames:j,className:tt,style:et,styles:rt,unstyled:nt,vars:it,horizontalSpacing:at,verticalSpacing:st,captionSide:ot,stripedColor:lt,highlightOnHoverColor:ut,striped:ct,highlightOnHover:ft,withColumnBorders:mt,withRowBorders:dt,withTableBorder:ht,borderColor:pt,layout:gt,variant:_t,data:Et,children:yt,stickyHeader:St,stickyHeaderOffset:wt,mod:kt,tabularNums:bt,...Tt}=$,Dt=useStyles({name:"Table",props:$,className:tt,style:et,classes,classNames:j,styles:rt,unstyled:nt,rootSelector:"table",vars:it,varsResolver});return jsxRuntimeExports.jsx(TableProvider,{value:{getStyles:Dt,stickyHeader:St,striped:ct===!0?"odd":ct||void 0,highlightOnHover:ft,withColumnBorders:mt,withRowBorders:dt,captionSide:ot||"bottom"},children:jsxRuntimeExports.jsx(Box,{component:"table",variant:_t,ref:g,mod:[{"data-with-table-border":ht,"data-tabular-nums":bt},kt],...Dt("table"),...Tt,children:yt||!!Et&&jsxRuntimeExports.jsx(TableDataRenderer,{data:Et})})})});Table.classes=classes;Table.displayName="@mantine/core/Table";Table.Td=TableTd;Table.Th=TableTh;Table.Tr=TableTr;Table.Thead=TableThead;Table.Tbody=TableTbody;Table.Tfoot=TableTfoot;Table.Caption=TableCaption;Table.ScrollContainer=TableScrollContainer;Table.DataRenderer=TableDataRenderer;const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],format=d=>`${d.getDate()} ${months[d.getMonth()]} ${d.getFullYear()}`,dateService={format},ItemsTable=({foodItems:d})=>{const g=jsxRuntimeExports.jsx("div",{children:"No items"}),$=d.map(j=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:j.name}),jsxRuntimeExports.jsx(Table.Td,{children:dateService.format(j.expiryDate)})]},j.id));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:d.length==0?g:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Item"}),jsxRuntimeExports.jsx(Table.Th,{children:"Expiry Date"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:$})]})})},App$1="";var reactWebcam={exports:{}};(function(d,g){(function(j,tt){d.exports=tt(reactExports)})(commonjsGlobal$1,function($){return function(j){var tt={};function et(rt){if(tt[rt])return tt[rt].exports;var nt=tt[rt]={i:rt,l:!1,exports:{}};return j[rt].call(nt.exports,nt,nt.exports,et),nt.l=!0,nt.exports}return et.m=j,et.c=tt,et.d=function(rt,nt,it){et.o(rt,nt)||Object.defineProperty(rt,nt,{enumerable:!0,get:it})},et.r=function(rt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(rt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(rt,"__esModule",{value:!0})},et.t=function(rt,nt){if(nt&1&&(rt=et(rt)),nt&8||nt&4&&typeof rt=="object"&&rt&&rt.__esModule)return rt;var it=Object.create(null);if(et.r(it),Object.defineProperty(it,"default",{enumerable:!0,value:rt}),nt&2&&typeof rt!="string")for(var at in rt)et.d(it,at,(function(st){return rt[st]}).bind(null,at));return it},et.n=function(rt){var nt=rt&&rt.__esModule?function(){return rt.default}:function(){return rt};return et.d(nt,"a",nt),nt},et.o=function(rt,nt){return Object.prototype.hasOwnProperty.call(rt,nt)},et.p="",et(et.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(j,tt,et){et.r(tt);var rt=et("react"),nt=function(){var lt=function(ut,ct){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ft,mt){ft.__proto__=mt}||function(ft,mt){for(var dt in mt)mt.hasOwnProperty(dt)&&(ft[dt]=mt[dt])},lt(ut,ct)};return function(ut,ct){lt(ut,ct);function ft(){this.constructor=ut}ut.prototype=ct===null?Object.create(ct):(ft.prototype=ct.prototype,new ft)}}(),it=function(){return it=Object.assign||function(lt){for(var ut,ct=1,ft=arguments.length;ct<ft;ct++){ut=arguments[ct];for(var mt in ut)Object.prototype.hasOwnProperty.call(ut,mt)&&(lt[mt]=ut[mt])}return lt},it.apply(this,arguments)},at=function(lt,ut){var ct={};for(var ft in lt)Object.prototype.hasOwnProperty.call(lt,ft)&&ut.indexOf(ft)<0&&(ct[ft]=lt[ft]);if(lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,ft=Object.getOwnPropertySymbols(lt);mt<ft.length;mt++)ut.indexOf(ft[mt])<0&&Object.prototype.propertyIsEnumerable.call(lt,ft[mt])&&(ct[ft[mt]]=lt[ft[mt]]);return ct};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(ut){var ct=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return ct?new Promise(function(ft,mt){ct.call(navigator,ut,ft,mt)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function st(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var ot=function(lt){nt(ut,lt);function ut(ct){var ft=lt.call(this,ct)||this;return ft.canvas=null,ft.ctx=null,ft.requestUserMediaId=0,ft.unmounted=!1,ft.state={hasUserMedia:!1},ft}return ut.prototype.componentDidMount=function(){var ct=this,ft=ct.state,mt=ct.props;if(this.unmounted=!1,!st()){mt.onUserMediaError("getUserMedia not supported");return}ft.hasUserMedia||this.requestUserMedia(),mt.children&&typeof mt.children!="function"&&console.warn("children must be a function")},ut.prototype.componentDidUpdate=function(ct){var ft=this.props;if(!st()){ft.onUserMediaError("getUserMedia not supported");return}var mt=JSON.stringify(ct.audioConstraints)!==JSON.stringify(ft.audioConstraints),dt=JSON.stringify(ct.videoConstraints)!==JSON.stringify(ft.videoConstraints),ht=ct.minScreenshotWidth!==ft.minScreenshotWidth,pt=ct.minScreenshotHeight!==ft.minScreenshotHeight;(dt||ht||pt)&&(this.canvas=null,this.ctx=null),(mt||dt)&&(this.stopAndCleanup(),this.requestUserMedia())},ut.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},ut.stopMediaStream=function(ct){ct&&(ct.getVideoTracks&&ct.getAudioTracks?(ct.getVideoTracks().map(function(ft){ct.removeTrack(ft),ft.stop()}),ct.getAudioTracks().map(function(ft){ct.removeTrack(ft),ft.stop()})):ct.stop())},ut.prototype.stopAndCleanup=function(){var ct=this.state;ct.hasUserMedia&&(ut.stopMediaStream(this.stream),ct.src&&window.URL.revokeObjectURL(ct.src))},ut.prototype.getScreenshot=function(ct){var ft=this,mt=ft.state,dt=ft.props;if(!mt.hasUserMedia)return null;var ht=this.getCanvas(ct);return ht&&ht.toDataURL(dt.screenshotFormat,dt.screenshotQuality)},ut.prototype.getCanvas=function(ct){var ft=this,mt=ft.state,dt=ft.props;if(!this.video||!mt.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var ht=this.video.videoWidth,pt=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var gt=ht/pt;ht=dt.minScreenshotWidth||this.video.clientWidth,pt=ht/gt,dt.minScreenshotHeight&&pt<dt.minScreenshotHeight&&(pt=dt.minScreenshotHeight,ht=pt*gt)}this.canvas=document.createElement("canvas"),this.canvas.width=(ct==null?void 0:ct.width)||ht,this.canvas.height=(ct==null?void 0:ct.height)||pt,this.ctx=this.canvas.getContext("2d")}var _t=this,Et=_t.ctx,yt=_t.canvas;return Et&&yt&&(yt.width=(ct==null?void 0:ct.width)||yt.width,yt.height=(ct==null?void 0:ct.height)||yt.height,dt.mirrored&&(Et.translate(yt.width,0),Et.scale(-1,1)),Et.imageSmoothingEnabled=dt.imageSmoothing,Et.drawImage(this.video,0,0,(ct==null?void 0:ct.width)||yt.width,(ct==null?void 0:ct.height)||yt.height),dt.mirrored&&(Et.scale(-1,1),Et.translate(-yt.width,0))),yt},ut.prototype.requestUserMedia=function(){var ct=this,ft=this.props,mt=function(pt,gt){var _t={video:typeof gt<"u"?gt:!0};ft.audio&&(_t.audio=typeof pt<"u"?pt:!0),ct.requestUserMediaId++;var Et=ct.requestUserMediaId;navigator.mediaDevices.getUserMedia(_t).then(function(yt){ct.unmounted||Et!==ct.requestUserMediaId?ut.stopMediaStream(yt):ct.handleUserMedia(null,yt)}).catch(function(yt){ct.handleUserMedia(yt)})};if("mediaDevices"in navigator)mt(ft.audioConstraints,ft.videoConstraints);else{var dt=function(pt){return{optional:[{sourceId:pt}]}},ht=function(pt){var gt=pt.deviceId;return typeof gt=="string"?gt:Array.isArray(gt)&&gt.length>0?gt[0]:typeof gt=="object"&&gt.ideal?gt.ideal:null};MediaStreamTrack.getSources(function(pt){var gt=null,_t=null;pt.forEach(function(St){St.kind==="audio"?gt=St.id:St.kind==="video"&&(_t=St.id)});var Et=ht(ft.audioConstraints);Et&&(gt=Et);var yt=ht(ft.videoConstraints);yt&&(_t=yt),mt(dt(gt),dt(_t))})}},ut.prototype.handleUserMedia=function(ct,ft){var mt=this.props;if(ct||!ft){this.setState({hasUserMedia:!1}),mt.onUserMediaError(ct);return}this.stream=ft;try{this.video&&(this.video.srcObject=ft),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(ft)})}mt.onUserMedia(ft)},ut.prototype.render=function(){var ct=this,ft=this,mt=ft.state,dt=ft.props,ht=dt.audio;dt.forceScreenshotSourceSize;var pt=dt.disablePictureInPicture;dt.onUserMedia,dt.onUserMediaError,dt.screenshotFormat,dt.screenshotQuality,dt.minScreenshotWidth,dt.minScreenshotHeight,dt.audioConstraints,dt.videoConstraints,dt.imageSmoothing;var gt=dt.mirrored,_t=dt.style,Et=_t===void 0?{}:_t,yt=dt.children,St=at(dt,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),wt=gt?it(it({},Et),{transform:(Et.transform||"")+" scaleX(-1)"}):Et,kt={getScreenshot:this.getScreenshot.bind(this)};return rt.createElement(rt.Fragment,null,rt.createElement("video",it({autoPlay:!0,disablePictureInPicture:pt,src:mt.src,muted:!ht,playsInline:!0,ref:function(bt){ct.video=bt},style:wt},St)),yt&&yt(kt))},ut.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},ut}(rt.Component);tt.default=ot},react:function(j,tt){j.exports=$}}).default})})(reactWebcam);var reactWebcamExports=reactWebcam.exports;const Webcam=getDefaultExportFromCjs$1(reactWebcamExports),ReceiptScanner$1="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var g=d.default;if(typeof g=="function"){var $=function j(){return this instanceof j?Reflect.construct(g,arguments,this.constructor):g.apply(this,arguments)};$.prototype=g.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(d).forEach(function(j){var tt=Object.getOwnPropertyDescriptor(d,j);Object.defineProperty($,j,tt.get?tt:{enumerable:!0,get:function(){return d[j]}})}),$}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0;g<64;++g)lookup[g]=d[g],revLookup[d.charCodeAt(g)]=g;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(d){var g,$,j,tt,et,rt;inited||init();var nt=d.length;if(nt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");et=d[nt-2]==="="?2:d[nt-1]==="="?1:0,rt=new Arr(3*nt/4-et),j=et>0?nt-4:nt;var it=0;for(g=0,$=0;g<j;g+=4,$+=3)tt=revLookup[d.charCodeAt(g)]<<18|revLookup[d.charCodeAt(g+1)]<<12|revLookup[d.charCodeAt(g+2)]<<6|revLookup[d.charCodeAt(g+3)],rt[it++]=tt>>16&255,rt[it++]=tt>>8&255,rt[it++]=255&tt;return et===2?(tt=revLookup[d.charCodeAt(g)]<<2|revLookup[d.charCodeAt(g+1)]>>4,rt[it++]=255&tt):et===1&&(tt=revLookup[d.charCodeAt(g)]<<10|revLookup[d.charCodeAt(g+1)]<<4|revLookup[d.charCodeAt(g+2)]>>2,rt[it++]=tt>>8&255,rt[it++]=255&tt),rt}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,g,$){for(var j,tt=[],et=g;et<$;et+=3)j=(d[et]<<16)+(d[et+1]<<8)+d[et+2],tt.push(tripletToBase64(j));return tt.join("")}function fromByteArray(d){var g;inited||init();for(var $=d.length,j=$%3,tt="",et=[],rt=16383,nt=0,it=$-j;nt<it;nt+=rt)et.push(encodeChunk(d,nt,nt+rt>it?it:nt+rt));return j===1?(g=d[$-1],tt+=lookup[g>>2],tt+=lookup[g<<4&63],tt+="=="):j===2&&(g=(d[$-2]<<8)+d[$-1],tt+=lookup[g>>10],tt+=lookup[g>>4&63],tt+=lookup[g<<2&63],tt+="="),et.push(tt),et.join("")}function read(d,g,$,j,tt){var et,rt,nt=8*tt-j-1,it=(1<<nt)-1,at=it>>1,st=-7,ot=$?tt-1:0,lt=$?-1:1,ut=d[g+ot];for(ot+=lt,et=ut&(1<<-st)-1,ut>>=-st,st+=nt;st>0;et=256*et+d[g+ot],ot+=lt,st-=8);for(rt=et&(1<<-st)-1,et>>=-st,st+=j;st>0;rt=256*rt+d[g+ot],ot+=lt,st-=8);if(et===0)et=1-at;else{if(et===it)return rt?NaN:1/0*(ut?-1:1);rt+=Math.pow(2,j),et-=at}return(ut?-1:1)*rt*Math.pow(2,et-j)}function write(d,g,$,j,tt,et){var rt,nt,it,at=8*et-tt-1,st=(1<<at)-1,ot=st>>1,lt=tt===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=j?0:et-1,ct=j?1:-1,ft=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(nt=isNaN(g)?1:0,rt=st):(rt=Math.floor(Math.log(g)/Math.LN2),g*(it=Math.pow(2,-rt))<1&&(rt--,it*=2),(g+=rt+ot>=1?lt/it:lt*Math.pow(2,1-ot))*it>=2&&(rt++,it/=2),rt+ot>=st?(nt=0,rt=st):rt+ot>=1?(nt=(g*it-1)*Math.pow(2,tt),rt+=ot):(nt=g*Math.pow(2,ot-1)*Math.pow(2,tt),rt=0));tt>=8;d[$+ut]=255&nt,ut+=ct,nt/=256,tt-=8);for(rt=rt<<tt|nt,at+=tt;at>0;d[$+ut]=255&rt,ut+=ct,rt/=256,at-=8);d[$+ut-ct]|=128*ft}var toString={}.toString,isArray=Array.isArray||function(d){return toString.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,g){if(kMaxLength()<g)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(g)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(g)),d.length=g),d}function Buffer(d,g,$){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,g,$);if(typeof d=="number"){if(typeof g=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,g,$)}function from(d,g,$,j){if(typeof g=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer?fromArrayBuffer(d,g,$,j):typeof g=="string"?fromString(d,g,$):fromObject(d,g)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,g,$,j){return assertSize(g),g<=0?createBuffer(d,g):$!==void 0?typeof j=="string"?createBuffer(d,g).fill($,j):createBuffer(d,g).fill($):createBuffer(d,g)}function allocUnsafe(d,g){if(assertSize(g),d=createBuffer(d,g<0?0:0|checked(g)),!Buffer.TYPED_ARRAY_SUPPORT)for(var $=0;$<g;++$)d[$]=0;return d}function fromString(d,g,$){if(typeof $=="string"&&$!==""||($="utf8"),!Buffer.isEncoding($))throw new TypeError('"encoding" must be a valid string encoding');var j=0|byteLength(g,$),tt=(d=createBuffer(d,j)).write(g,$);return tt!==j&&(d=d.slice(0,tt)),d}function fromArrayLike(d,g){var $=g.length<0?0:0|checked(g.length);d=createBuffer(d,$);for(var j=0;j<$;j+=1)d[j]=255&g[j];return d}function fromArrayBuffer(d,g,$,j){if(g.byteLength,$<0||g.byteLength<$)throw new RangeError("'offset' is out of bounds");if(g.byteLength<$+(j||0))throw new RangeError("'length' is out of bounds");return g=$===void 0&&j===void 0?new Uint8Array(g):j===void 0?new Uint8Array(g,$):new Uint8Array(g,$,j),Buffer.TYPED_ARRAY_SUPPORT?(d=g).__proto__=Buffer.prototype:d=fromArrayLike(d,g),d}function fromObject(d,g){if(internalIsBuffer(g)){var $=0|checked(g.length);return(d=createBuffer(d,$)).length===0||g.copy(d,0,0,$),d}if(g){if(typeof ArrayBuffer<"u"&&g.buffer instanceof ArrayBuffer||"length"in g)return typeof g.length!="number"||isnan(g.length)?createBuffer(d,0):fromArrayLike(d,g);if(g.type==="Buffer"&&isArray(g.data))return fromArrayLike(d,g.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,g){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var $=d.length;if($===0)return 0;for(var j=!1;;)switch(g){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return base64ToBytes(d).length;default:if(j)return utf8ToBytes(d).length;g=(""+g).toLowerCase(),j=!0}}function slowToString(d,g,$){var j=!1;if((g===void 0||g<0)&&(g=0),g>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(g>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,g,$);case"utf8":case"utf-8":return utf8Slice(this,g,$);case"ascii":return asciiSlice(this,g,$);case"latin1":case"binary":return latin1Slice(this,g,$);case"base64":return base64Slice(this,g,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,g,$);default:if(j)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),j=!0}}function swap(d,g,$){var j=d[g];d[g]=d[$],d[$]=j}function bidirectionalIndexOf(d,g,$,j,tt){if(d.length===0)return-1;if(typeof $=="string"?(j=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=tt?0:d.length-1),$<0&&($=d.length+$),$>=d.length){if(tt)return-1;$=d.length-1}else if($<0){if(!tt)return-1;$=0}if(typeof g=="string"&&(g=Buffer.from(g,j)),internalIsBuffer(g))return g.length===0?-1:arrayIndexOf(d,g,$,j,tt);if(typeof g=="number")return g&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?tt?Uint8Array.prototype.indexOf.call(d,g,$):Uint8Array.prototype.lastIndexOf.call(d,g,$):arrayIndexOf(d,[g],$,j,tt);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,g,$,j,tt){var et,rt=1,nt=d.length,it=g.length;if(j!==void 0&&((j=String(j).toLowerCase())==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(d.length<2||g.length<2)return-1;rt=2,nt/=2,it/=2,$/=2}function at(ut,ct){return rt===1?ut[ct]:ut.readUInt16BE(ct*rt)}if(tt){var st=-1;for(et=$;et<nt;et++)if(at(d,et)===at(g,st===-1?0:et-st)){if(st===-1&&(st=et),et-st+1===it)return st*rt}else st!==-1&&(et-=et-st),st=-1}else for($+it>nt&&($=nt-it),et=$;et>=0;et--){for(var ot=!0,lt=0;lt<it;lt++)if(at(d,et+lt)!==at(g,lt)){ot=!1;break}if(ot)return et}return-1}function hexWrite(d,g,$,j){$=Number($)||0;var tt=d.length-$;j?(j=Number(j))>tt&&(j=tt):j=tt;var et=g.length;if(et%2!=0)throw new TypeError("Invalid hex string");j>et/2&&(j=et/2);for(var rt=0;rt<j;++rt){var nt=parseInt(g.substr(2*rt,2),16);if(isNaN(nt))return rt;d[$+rt]=nt}return rt}function utf8Write(d,g,$,j){return blitBuffer(utf8ToBytes(g,d.length-$),d,$,j)}function asciiWrite(d,g,$,j){return blitBuffer(asciiToBytes(g),d,$,j)}function latin1Write(d,g,$,j){return asciiWrite(d,g,$,j)}function base64Write(d,g,$,j){return blitBuffer(base64ToBytes(g),d,$,j)}function ucs2Write(d,g,$,j){return blitBuffer(utf16leToBytes(g,d.length-$),d,$,j)}function base64Slice(d,g,$){return g===0&&$===d.length?fromByteArray(d):fromByteArray(d.slice(g,$))}function utf8Slice(d,g,$){$=Math.min(d.length,$);for(var j=[],tt=g;tt<$;){var et,rt,nt,it,at=d[tt],st=null,ot=at>239?4:at>223?3:at>191?2:1;if(tt+ot<=$)switch(ot){case 1:at<128&&(st=at);break;case 2:(192&(et=d[tt+1]))==128&&(it=(31&at)<<6|63&et)>127&&(st=it);break;case 3:et=d[tt+1],rt=d[tt+2],(192&et)==128&&(192&rt)==128&&(it=(15&at)<<12|(63&et)<<6|63&rt)>2047&&(it<55296||it>57343)&&(st=it);break;case 4:et=d[tt+1],rt=d[tt+2],nt=d[tt+3],(192&et)==128&&(192&rt)==128&&(192&nt)==128&&(it=(15&at)<<18|(63&et)<<12|(63&rt)<<6|63&nt)>65535&&it<1114112&&(st=it)}st===null?(st=65533,ot=1):st>65535&&(st-=65536,j.push(st>>>10&1023|55296),st=56320|1023&st),j.push(st),tt+=ot}return decodeCodePointsArray(j)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,g,$){return from(null,d,g,$)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,g,$){return alloc(null,d,g,$)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,g){if(!internalIsBuffer(d)||!internalIsBuffer(g))throw new TypeError("Arguments must be Buffers");if(d===g)return 0;for(var $=d.length,j=g.length,tt=0,et=Math.min($,j);tt<et;++tt)if(d[tt]!==g[tt]){$=d[tt],j=g[tt];break}return $<j?-1:j<$?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,g){if(!isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var $;if(g===void 0)for(g=0,$=0;$<d.length;++$)g+=d[$].length;var j=Buffer.allocUnsafe(g),tt=0;for($=0;$<d.length;++$){var et=d[$];if(!internalIsBuffer(et))throw new TypeError('"list" argument must be an Array of Buffers');et.copy(j,tt),tt+=et.length}return j},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<d;g+=2)swap(this,g,g+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<d;g+=4)swap(this,g,g+3),swap(this,g+1,g+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<d;g+=8)swap(this,g,g+7),swap(this,g+1,g+6),swap(this,g+2,g+5),swap(this,g+3,g+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",g=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,g,$,j,tt){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),$===void 0&&($=d?d.length:0),j===void 0&&(j=0),tt===void 0&&(tt=this.length),g<0||$>d.length||j<0||tt>this.length)throw new RangeError("out of range index");if(j>=tt&&g>=$)return 0;if(j>=tt)return-1;if(g>=$)return 1;if(this===d)return 0;for(var et=(tt>>>=0)-(j>>>=0),rt=($>>>=0)-(g>>>=0),nt=Math.min(et,rt),it=this.slice(j,tt),at=d.slice(g,$),st=0;st<nt;++st)if(it[st]!==at[st]){et=it[st],rt=at[st];break}return et<rt?-1:rt<et?1:0},Buffer.prototype.includes=function(d,g,$){return this.indexOf(d,g,$)!==-1},Buffer.prototype.indexOf=function(d,g,$){return bidirectionalIndexOf(this,d,g,$,!0)},Buffer.prototype.lastIndexOf=function(d,g,$){return bidirectionalIndexOf(this,d,g,$,!1)},Buffer.prototype.write=function(d,g,$,j){if(g===void 0)j="utf8",$=this.length,g=0;else if($===void 0&&typeof g=="string")j=g,$=this.length,g=0;else{if(!isFinite(g))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");g|=0,isFinite($)?($|=0,j===void 0&&(j="utf8")):(j=$,$=void 0)}var tt=this.length-g;if(($===void 0||$>tt)&&($=tt),d.length>0&&($<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var et=!1;;)switch(j){case"hex":return hexWrite(this,d,g,$);case"utf8":case"utf-8":return utf8Write(this,d,g,$);case"ascii":return asciiWrite(this,d,g,$);case"latin1":case"binary":return latin1Write(this,d,g,$);case"base64":return base64Write(this,d,g,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,g,$);default:if(et)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),et=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var g=d.length;if(g<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var $="",j=0;j<g;)$+=String.fromCharCode.apply(String,d.slice(j,j+=MAX_ARGUMENTS_LENGTH));return $}function asciiSlice(d,g,$){var j="";$=Math.min(d.length,$);for(var tt=g;tt<$;++tt)j+=String.fromCharCode(127&d[tt]);return j}function latin1Slice(d,g,$){var j="";$=Math.min(d.length,$);for(var tt=g;tt<$;++tt)j+=String.fromCharCode(d[tt]);return j}function hexSlice(d,g,$){var j=d.length;(!g||g<0)&&(g=0),(!$||$<0||$>j)&&($=j);for(var tt="",et=g;et<$;++et)tt+=toHex(d[et]);return tt}function utf16leSlice(d,g,$){for(var j=d.slice(g,$),tt="",et=0;et<j.length;et+=2)tt+=String.fromCharCode(j[et]+256*j[et+1]);return tt}function checkOffset(d,g,$){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+g>$)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,g,$,j,tt,et){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>tt||g<et)throw new RangeError('"value" argument is out of bounds');if($+j>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,g,$,j){g<0&&(g=65535+g+1);for(var tt=0,et=Math.min(d.length-$,2);tt<et;++tt)d[$+tt]=(g&255<<8*(j?tt:1-tt))>>>8*(j?tt:1-tt)}function objectWriteUInt32(d,g,$,j){g<0&&(g=4294967295+g+1);for(var tt=0,et=Math.min(d.length-$,4);tt<et;++tt)d[$+tt]=g>>>8*(j?tt:3-tt)&255}function checkIEEE754(d,g,$,j,tt,et){if($+j>d.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function writeFloat(d,g,$,j,tt){return tt||checkIEEE754(d,g,$,4),write(d,g,$,j,23,4),$+4}function writeDouble(d,g,$,j,tt){return tt||checkIEEE754(d,g,$,8),write(d,g,$,j,52,8),$+8}Buffer.prototype.slice=function(d,g){var $,j=this.length;if((d=~~d)<0?(d+=j)<0&&(d=0):d>j&&(d=j),(g=g===void 0?j:~~g)<0?(g+=j)<0&&(g=0):g>j&&(g=j),g<d&&(g=d),Buffer.TYPED_ARRAY_SUPPORT)($=this.subarray(d,g)).__proto__=Buffer.prototype;else{var tt=g-d;$=new Buffer(tt,void 0);for(var et=0;et<tt;++et)$[et]=this[et+d]}return $},Buffer.prototype.readUIntLE=function(d,g,$){d|=0,g|=0,$||checkOffset(d,g,this.length);for(var j=this[d],tt=1,et=0;++et<g&&(tt*=256);)j+=this[d+et]*tt;return j},Buffer.prototype.readUIntBE=function(d,g,$){d|=0,g|=0,$||checkOffset(d,g,this.length);for(var j=this[d+--g],tt=1;g>0&&(tt*=256);)j+=this[d+--g]*tt;return j},Buffer.prototype.readUInt8=function(d,g){return g||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,g){return g||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,g){return g||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,g){return g||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,g){return g||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,g,$){d|=0,g|=0,$||checkOffset(d,g,this.length);for(var j=this[d],tt=1,et=0;++et<g&&(tt*=256);)j+=this[d+et]*tt;return j>=(tt*=128)&&(j-=Math.pow(2,8*g)),j},Buffer.prototype.readIntBE=function(d,g,$){d|=0,g|=0,$||checkOffset(d,g,this.length);for(var j=g,tt=1,et=this[d+--j];j>0&&(tt*=256);)et+=this[d+--j]*tt;return et>=(tt*=128)&&(et-=Math.pow(2,8*g)),et},Buffer.prototype.readInt8=function(d,g){return g||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,g){g||checkOffset(d,2,this.length);var $=this[d]|this[d+1]<<8;return 32768&$?4294901760|$:$},Buffer.prototype.readInt16BE=function(d,g){g||checkOffset(d,2,this.length);var $=this[d+1]|this[d]<<8;return 32768&$?4294901760|$:$},Buffer.prototype.readInt32LE=function(d,g){return g||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,g){return g||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,g){return g||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,g){return g||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,g){return g||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,g){return g||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,g,$,j){d=+d,g|=0,$|=0,j||checkInt(this,d,g,$,Math.pow(2,8*$)-1,0);var tt=1,et=0;for(this[g]=255&d;++et<$&&(tt*=256);)this[g+et]=d/tt&255;return g+$},Buffer.prototype.writeUIntBE=function(d,g,$,j){d=+d,g|=0,$|=0,j||checkInt(this,d,g,$,Math.pow(2,8*$)-1,0);var tt=$-1,et=1;for(this[g+tt]=255&d;--tt>=0&&(et*=256);)this[g+tt]=d/et&255;return g+$},Buffer.prototype.writeUInt8=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[g]=255&d,g+1},Buffer.prototype.writeUInt16LE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=255&d,this[g+1]=d>>>8):objectWriteUInt16(this,d,g,!0),g+2},Buffer.prototype.writeUInt16BE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=d>>>8,this[g+1]=255&d):objectWriteUInt16(this,d,g,!1),g+2},Buffer.prototype.writeUInt32LE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[g+3]=d>>>24,this[g+2]=d>>>16,this[g+1]=d>>>8,this[g]=255&d):objectWriteUInt32(this,d,g,!0),g+4},Buffer.prototype.writeUInt32BE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=255&d):objectWriteUInt32(this,d,g,!1),g+4},Buffer.prototype.writeIntLE=function(d,g,$,j){if(d=+d,g|=0,!j){var tt=Math.pow(2,8*$-1);checkInt(this,d,g,$,tt-1,-tt)}var et=0,rt=1,nt=0;for(this[g]=255&d;++et<$&&(rt*=256);)d<0&&nt===0&&this[g+et-1]!==0&&(nt=1),this[g+et]=(d/rt|0)-nt&255;return g+$},Buffer.prototype.writeIntBE=function(d,g,$,j){if(d=+d,g|=0,!j){var tt=Math.pow(2,8*$-1);checkInt(this,d,g,$,tt-1,-tt)}var et=$-1,rt=1,nt=0;for(this[g+et]=255&d;--et>=0&&(rt*=256);)d<0&&nt===0&&this[g+et+1]!==0&&(nt=1),this[g+et]=(d/rt|0)-nt&255;return g+$},Buffer.prototype.writeInt8=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[g]=255&d,g+1},Buffer.prototype.writeInt16LE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=255&d,this[g+1]=d>>>8):objectWriteUInt16(this,d,g,!0),g+2},Buffer.prototype.writeInt16BE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=d>>>8,this[g+1]=255&d):objectWriteUInt16(this,d,g,!1),g+2},Buffer.prototype.writeInt32LE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=255&d,this[g+1]=d>>>8,this[g+2]=d>>>16,this[g+3]=d>>>24):objectWriteUInt32(this,d,g,!0),g+4},Buffer.prototype.writeInt32BE=function(d,g,$){return d=+d,g|=0,$||checkInt(this,d,g,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=255&d):objectWriteUInt32(this,d,g,!1),g+4},Buffer.prototype.writeFloatLE=function(d,g,$){return writeFloat(this,d,g,!0,$)},Buffer.prototype.writeFloatBE=function(d,g,$){return writeFloat(this,d,g,!1,$)},Buffer.prototype.writeDoubleLE=function(d,g,$){return writeDouble(this,d,g,!0,$)},Buffer.prototype.writeDoubleBE=function(d,g,$){return writeDouble(this,d,g,!1,$)},Buffer.prototype.copy=function(d,g,$,j){if($||($=0),j||j===0||(j=this.length),g>=d.length&&(g=d.length),g||(g=0),j>0&&j<$&&(j=$),j===$||d.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),d.length-g<j-$&&(j=d.length-g+$);var tt,et=j-$;if(this===d&&$<g&&g<j)for(tt=et-1;tt>=0;--tt)d[tt+g]=this[tt+$];else if(et<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(tt=0;tt<et;++tt)d[tt+g]=this[tt+$];else Uint8Array.prototype.set.call(d,this.subarray($,$+et),g);return et},Buffer.prototype.fill=function(d,g,$,j){if(typeof d=="string"){if(typeof g=="string"?(j=g,g=0,$=this.length):typeof $=="string"&&(j=$,$=this.length),d.length===1){var tt=d.charCodeAt(0);tt<256&&(d=tt)}if(j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!Buffer.isEncoding(j))throw new TypeError("Unknown encoding: "+j)}else typeof d=="number"&&(d&=255);if(g<0||this.length<g||this.length<$)throw new RangeError("Out of range index");if($<=g)return this;var et;if(g>>>=0,$=$===void 0?this.length:$>>>0,d||(d=0),typeof d=="number")for(et=g;et<$;++et)this[et]=d;else{var rt=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,j).toString()),nt=rt.length;for(et=0;et<$-g;++et)this[et+g]=rt[et%nt]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,g){var $;g=g||1/0;for(var j=d.length,tt=null,et=[],rt=0;rt<j;++rt){if(($=d.charCodeAt(rt))>55295&&$<57344){if(!tt){if($>56319){(g-=3)>-1&&et.push(239,191,189);continue}if(rt+1===j){(g-=3)>-1&&et.push(239,191,189);continue}tt=$;continue}if($<56320){(g-=3)>-1&&et.push(239,191,189),tt=$;continue}$=65536+(tt-55296<<10|$-56320)}else tt&&(g-=3)>-1&&et.push(239,191,189);if(tt=null,$<128){if((g-=1)<0)break;et.push($)}else if($<2048){if((g-=2)<0)break;et.push($>>6|192,63&$|128)}else if($<65536){if((g-=3)<0)break;et.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((g-=4)<0)break;et.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return et}function asciiToBytes(d){for(var g=[],$=0;$<d.length;++$)g.push(255&d.charCodeAt($));return g}function utf16leToBytes(d,g){for(var $,j,tt,et=[],rt=0;rt<d.length&&!((g-=2)<0);++rt)j=($=d.charCodeAt(rt))>>8,tt=$%256,et.push(tt),et.push(j);return et}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,g,$,j){for(var tt=0;tt<j&&!(tt+$>=g.length||tt>=d.length);++tt)g[tt+$]=d[tt];return tt}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,g,$,j){const tt=1+~d&d,et=1+~g&g,rt=1+~$&$,nt=1+~j&j,it=d/tt+1,at=g/et+1,st=$/rt+1,ot=j/nt+1;return{shiftRed:lt=>(lt&d)/tt*256/it,shiftGreen:lt=>(lt&g)/et*256/at,shiftBlue:lt=>(lt&$)/rt*256/st,shiftAlpha:j!==0?lt=>(lt&j)/nt*256/ot:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{constructor(g,{toRGBA:$}={toRGBA:!1}){Tr(this,"flag");Tr(this,"fileSize");Tr(this,"reserved1");Tr(this,"reserved2");Tr(this,"offset");Tr(this,"headerSize");Tr(this,"width");Tr(this,"height");Tr(this,"planes");Tr(this,"bitPP");Tr(this,"compression");Tr(this,"rawSize");Tr(this,"hr");Tr(this,"vr");Tr(this,"colors");Tr(this,"importantColors");Tr(this,"palette");Tr(this,"data");Tr(this,"maskRed");Tr(this,"maskGreen");Tr(this,"maskBlue");Tr(this,"maskAlpha");Tr(this,"toRGBA");Tr(this,"pos");Tr(this,"bottomUp");Tr(this,"buffer");Tr(this,"locRed");Tr(this,"locGreen");Tr(this,"locBlue");Tr(this,"locAlpha");Tr(this,"shiftRed");Tr(this,"shiftGreen");Tr(this,"shiftBlue");Tr(this,"shiftAlpha");if(this.buffer=g,this.toRGBA=!!$,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const $=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array($);for(let j=0;j<$;j++){const tt=this.buffer.readUInt8(this.pos++),et=this.buffer.readUInt8(this.pos++),rt=this.buffer.readUInt8(this.pos++),nt=this.buffer.readUInt8(this.pos++);this.palette[j]={red:rt,green:et,blue:tt,quad:nt}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const g=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=g.shiftRed,this.shiftGreen=g.shiftGreen,this.shiftBlue=g.shiftBlue,this.shiftAlpha=g.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const g=Math.ceil(this.width/8),$=g%4,j=$!==0?4-$:0;this.scanImage(j,g,(tt,et)=>{const rt=this.buffer.readUInt8(this.pos++),nt=et*this.width*4+8*tt*4;for(let it=0;it<8&&8*tt+it<this.width;it++){const at=this.palette[rt>>7-it&1];this.data[nt+it*this.locAlpha]=0,this.data[nt+4*it+this.locBlue]=at.blue,this.data[nt+4*it+this.locGreen]=at.green,this.data[nt+4*it+this.locRed]=at.red}})}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let g=!1,$=this.bottomUp?this.height-1:0,j=0;for(;j<this.data.length;){const tt=this.buffer.readUInt8(this.pos++),et=this.buffer.readUInt8(this.pos++);if(tt===0){if(et===0){$+=this.bottomUp?-1:1,j=$*this.width*4,g=!1;continue}if(et===1)break;if(et===2){const rt=this.buffer.readUInt8(this.pos++),nt=this.buffer.readUInt8(this.pos++);$+=this.bottomUp?-nt:nt,j+=nt*this.width*4+4*rt}else{let rt=this.buffer.readUInt8(this.pos++);for(let nt=0;nt<et;nt++)j=this.setPixelData(j,g?15&rt:(240&rt)>>4),1&nt&&nt+1<et&&(rt=this.buffer.readUInt8(this.pos++)),g=!g;(et+1>>1&1)==1&&this.pos++}}else for(let rt=0;rt<tt;rt++)j=this.setPixelData(j,g?15&et:(240&et)>>4),g=!g}}else{const g=Math.ceil(this.width/2),$=g%4,j=$!==0?4-$:0;this.scanImage(j,g,(tt,et)=>{const rt=this.buffer.readUInt8(this.pos++),nt=et*this.width*4+2*tt*4,it=rt>>4;let at=this.palette[it];if(this.data[nt]=0,this.data[nt+1]=at.blue,this.data[nt+2]=at.green,this.data[nt+3]=at.red,2*tt+1>=this.width)return!1;const st=15&rt;at=this.palette[st],this.data[nt+4]=0,this.data[nt+4+1]=at.blue,this.data[nt+4+2]=at.green,this.data[nt+4+3]=at.red})}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let g=this.bottomUp?this.height-1:0,$=0;for(;$<this.data.length;){const j=this.buffer.readUInt8(this.pos++),tt=this.buffer.readUInt8(this.pos++);if(j===0){if(tt===0){g+=this.bottomUp?-1:1,$=g*this.width*4;continue}if(tt===1)break;if(tt===2){const et=this.buffer.readUInt8(this.pos++),rt=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-rt:rt,$+=rt*this.width*4+4*et}else{for(let et=0;et<tt;et++){const rt=this.buffer.readUInt8(this.pos++);$=this.setPixelData($,rt)}!0&tt&&this.pos++}}else for(let et=0;et<j;et++)$=this.setPixelData($,tt)}}else{const g=this.width%4,$=g!==0?4-g:0;this.scanImage($,this.width,(j,tt)=>{const et=this.buffer.readUInt8(this.pos++),rt=tt*this.width*4+4*j;if(et<this.palette.length){const nt=this.palette[et];this.data[rt]=0,this.data[rt+1]=nt.blue,this.data[rt+2]=nt.green,this.data[rt+3]=nt.red}else this.data[rt]=0,this.data[rt+1]=255,this.data[rt+2]=255,this.data[rt+3]=255})}}bit16(){const g=this.width%2*2;this.scanImage(g,this.width,($,j)=>{const tt=j*this.width*4+4*$,et=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[tt+this.locRed]=this.shiftRed(et),this.data[tt+this.locGreen]=this.shiftGreen(et),this.data[tt+this.locBlue]=this.shiftBlue(et),this.data[tt+this.locAlpha]=this.shiftAlpha(et)})}bit24(){const g=this.width%4;this.scanImage(g,this.width,($,j)=>{const tt=j*this.width*4+4*$,et=this.buffer.readUInt8(this.pos++),rt=this.buffer.readUInt8(this.pos++),nt=this.buffer.readUInt8(this.pos++);this.data[tt+this.locRed]=nt,this.data[tt+this.locGreen]=rt,this.data[tt+this.locBlue]=et,this.data[tt+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(g,$)=>{const j=$*this.width*4+4*g,tt=this.readUInt32LE();this.data[j+this.locRed]=this.shiftRed(tt),this.data[j+this.locGreen]=this.shiftGreen(tt),this.data[j+this.locBlue]=this.shiftBlue(tt),this.data[j+this.locAlpha]=this.shiftAlpha(tt)})}scanImage(g=0,$=this.width,j){for(let tt=this.height-1;tt>=0;tt--){const et=this.bottomUp?tt:this.height-1-tt;for(let rt=0;rt<$;rt++)if(j.call(this,rt,et)===!1)return;this.pos+=g}}readUInt32LE(){const g=this.buffer.readUInt32LE(this.pos);return this.pos+=4,g}setPixelData(g,$){const{blue:j,green:tt,red:et}=this.palette[$];return this.data[g+this.locAlpha]=0,this.data[g+1+this.locBlue]=j,this.data[g+2+this.locGreen]=tt,this.data[g+3+this.locRed]=et,g+4}}function createInteger(d){return d.reduce((g,$)=>g<<1|$,0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{constructor(g){Tr(this,"fileSize");Tr(this,"reserved1");Tr(this,"reserved2");Tr(this,"offset");Tr(this,"width");Tr(this,"flag");Tr(this,"height");Tr(this,"planes");Tr(this,"bitPP");Tr(this,"compress");Tr(this,"hr");Tr(this,"vr");Tr(this,"colors");Tr(this,"importantColors");Tr(this,"rawSize");Tr(this,"headerSize");Tr(this,"data");Tr(this,"palette");Tr(this,"extraBytes");Tr(this,"buffer");Tr(this,"bytesInColor");Tr(this,"pos");switch(this.buffer=g.data,this.width=g.width,this.height=g.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=g.bitPP||24,this.offset=54,this.reserved1=g.reserved1||0,this.reserved2=g.reserved2||0,this.planes=1,this.compress=0,this.hr=g.hr||0,this.vr=g.vr||0,this.importantColors=g.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),g.colors||1/0),this.palette=g.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const $=this.width*this.bitPP/32,j=Math.ceil($);this.extraBytes=4*(j-$),this.rawSize=this.height*j*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let g=[];this.writeImage(($,j,tt)=>{let et=j;et++;const rt=this.buffer[et++],nt=this.buffer[et++],it=.2126*this.buffer[et++]+.7152*nt+.0722*rt;return g.push(it>127?0:1),(tt+1)%8==0?(this.data[$-1]=createInteger(g),g=[]):tt===this.width-1&&g.length>0&&(this.data[$-1]=createInteger(g)<<4,g=[]),et})}bit4(){const g=this.initColors(4);let $=[];this.writeImage((j,tt,et)=>{let rt=tt;const nt=createColor({quad:this.buffer[rt++],blue:this.buffer[rt++],green:this.buffer[rt++],red:this.buffer[rt++]}),it=g.findIndex(at=>at===nt);return it!==-1?$.push(it):$.push(0),(et+1)%2==0&&(this.data[j]=$[0]<<4|$[1],$=[]),rt})}bit8(){const g=this.initColors(8);this.writeImage(($,j)=>{let tt=j;const et=createColor({quad:this.buffer[tt++],blue:this.buffer[tt++],green:this.buffer[tt++],red:this.buffer[tt++]}),rt=g.findIndex(nt=>nt===et);return this.data[$]=rt!==-1?rt:0,tt})}bit16(){this.writeImage((g,$)=>{let j=$+1;const tt=this.buffer[j++]/8,et=this.buffer[j++]/8,rt=this.buffer[j++]/8<<10|et<<5|tt;return this.data[g]=255&rt,this.data[g+1]=(65280&rt)>>8,j})}bit24(){this.writeImage((g,$)=>{let j=$+1;return this.data[g]=this.buffer[j++],this.data[g+1]=this.buffer[j++],this.data[g+2]=this.buffer[j++],j})}bit32(){this.writeImage((g,$)=>{let j=$;return this.data[g+3]=this.buffer[j++],this.data[g]=this.buffer[j++],this.data[g+1]=this.buffer[j++],this.data[g+2]=this.buffer[j++],j})}writeImage(g){const $=this.extraBytes+this.width*this.bytesInColor;let j=0;for(let tt=0;tt<this.height;tt++)for(let et=0;et<this.width;et++){const rt=Math.floor(this.pos+(this.height-1-tt)*$+et*this.bytesInColor);j=g.call(this,rt,j,et,tt)}}initColors(g){const $=[];if(!this.palette.length)throw new Error(`To encode ${g}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let j=0;j<this.colors;j++){const tt=createColor(this.palette[j]);this.writeUInt32LE(tt),$.push(tt)}return $}writeUInt32LE(g){this.data.writeUInt32LE(g,this.pos),this.pos+=4}}function decode$2(d,g){return new BmpDecoder(d,g)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,g){if(g=g||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,g);var $=inputToRGB(d);this._originalInput=d,this._r=$.r,this._g=$.g,this._b=$.b,this._a=$.a,this._roundA=Math.round(100*this._a)/100,this._format=g.format||$.format,this._gradientType=g.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=$.ok}function inputToRGB(d){var g={r:0,g:0,b:0},$=1,j=null,tt=null,et=null,rt=!1,nt=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(g=rgbToRgb(d.r,d.g,d.b),rt=!0,nt=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(j=convertToPercentage(d.s),tt=convertToPercentage(d.v),g=hsvToRgb(d.h,j,tt),rt=!0,nt="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(j=convertToPercentage(d.s),et=convertToPercentage(d.l),g=hslToRgb(d.h,j,et),rt=!0,nt="hsl"),d.hasOwnProperty("a")&&($=d.a)),$=boundAlpha($),{ok:rt,format:d.format||nt,r:Math.min(255,Math.max(g.r,0)),g:Math.min(255,Math.max(g.g,0)),b:Math.min(255,Math.max(g.b,0)),a:$}}function rgbToRgb(d,g,$){return{r:255*bound01(d,255),g:255*bound01(g,255),b:255*bound01($,255)}}function rgbToHsl(d,g,$){d=bound01(d,255),g=bound01(g,255),$=bound01($,255);var j,tt,et=Math.max(d,g,$),rt=Math.min(d,g,$),nt=(et+rt)/2;if(et==rt)j=tt=0;else{var it=et-rt;switch(tt=nt>.5?it/(2-et-rt):it/(et+rt),et){case d:j=(g-$)/it+(g<$?6:0);break;case g:j=($-d)/it+2;break;case $:j=(d-g)/it+4}j/=6}return{h:j,s:tt,l:nt}}function hslToRgb(d,g,$){var j,tt,et;function rt(at,st,ot){return ot<0&&(ot+=1),ot>1&&(ot-=1),ot<1/6?at+6*(st-at)*ot:ot<.5?st:ot<2/3?at+(st-at)*(2/3-ot)*6:at}if(d=bound01(d,360),g=bound01(g,100),$=bound01($,100),g===0)j=tt=et=$;else{var nt=$<.5?$*(1+g):$+g-$*g,it=2*$-nt;j=rt(it,nt,d+1/3),tt=rt(it,nt,d),et=rt(it,nt,d-1/3)}return{r:255*j,g:255*tt,b:255*et}}function rgbToHsv(d,g,$){d=bound01(d,255),g=bound01(g,255),$=bound01($,255);var j,tt,et=Math.max(d,g,$),rt=Math.min(d,g,$),nt=et,it=et-rt;if(tt=et===0?0:it/et,et==rt)j=0;else{switch(et){case d:j=(g-$)/it+(g<$?6:0);break;case g:j=($-d)/it+2;break;case $:j=(d-g)/it+4}j/=6}return{h:j,s:tt,v:nt}}function hsvToRgb(d,g,$){d=6*bound01(d,360),g=bound01(g,100),$=bound01($,100);var j=Math.floor(d),tt=d-j,et=$*(1-g),rt=$*(1-tt*g),nt=$*(1-(1-tt)*g),it=j%6;return{r:255*[$,rt,et,et,nt,$][it],g:255*[nt,$,$,rt,et,et][it],b:255*[et,et,nt,$,$,rt][it]}}function rgbToHex(d,g,$,j){var tt=[pad2(Math.round(d).toString(16)),pad2(Math.round(g).toString(16)),pad2(Math.round($).toString(16))];return j&&tt[0].charAt(0)==tt[0].charAt(1)&&tt[1].charAt(0)==tt[1].charAt(1)&&tt[2].charAt(0)==tt[2].charAt(1)?tt[0].charAt(0)+tt[1].charAt(0)+tt[2].charAt(0):tt.join("")}function rgbaToHex(d,g,$,j,tt){var et=[pad2(Math.round(d).toString(16)),pad2(Math.round(g).toString(16)),pad2(Math.round($).toString(16)),pad2(convertDecimalToHex(j))];return tt&&et[0].charAt(0)==et[0].charAt(1)&&et[1].charAt(0)==et[1].charAt(1)&&et[2].charAt(0)==et[2].charAt(1)&&et[3].charAt(0)==et[3].charAt(1)?et[0].charAt(0)+et[1].charAt(0)+et[2].charAt(0)+et[3].charAt(0):et.join("")}function rgbaToArgbHex(d,g,$,j){return[pad2(convertDecimalToHex(j)),pad2(Math.round(d).toString(16)),pad2(Math.round(g).toString(16)),pad2(Math.round($).toString(16))].join("")}function _desaturate(d,g){g=g===0?0:g||10;var $=tinycolor(d).toHsl();return $.s-=g/100,$.s=clamp01($.s),tinycolor($)}function _saturate(d,g){g=g===0?0:g||10;var $=tinycolor(d).toHsl();return $.s+=g/100,$.s=clamp01($.s),tinycolor($)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,g){g=g===0?0:g||10;var $=tinycolor(d).toHsl();return $.l+=g/100,$.l=clamp01($.l),tinycolor($)}function _brighten(d,g){g=g===0?0:g||10;var $=tinycolor(d).toRgb();return $.r=Math.max(0,Math.min(255,$.r-Math.round(-g/100*255))),$.g=Math.max(0,Math.min(255,$.g-Math.round(-g/100*255))),$.b=Math.max(0,Math.min(255,$.b-Math.round(-g/100*255))),tinycolor($)}function _darken(d,g){g=g===0?0:g||10;var $=tinycolor(d).toHsl();return $.l-=g/100,$.l=clamp01($.l),tinycolor($)}function _spin(d,g){var $=tinycolor(d).toHsl(),j=($.h+g)%360;return $.h=j<0?360+j:j,tinycolor($)}function _complement(d){var g=tinycolor(d).toHsl();return g.h=(g.h+180)%360,tinycolor(g)}function polyad(d,g){if(isNaN(g)||g<=0)throw new Error("Argument to polyad must be a positive number");for(var $=tinycolor(d).toHsl(),j=[tinycolor(d)],tt=360/g,et=1;et<g;et++)j.push(tinycolor({h:($.h+et*tt)%360,s:$.s,l:$.l}));return j}function _splitcomplement(d){var g=tinycolor(d).toHsl(),$=g.h;return[tinycolor(d),tinycolor({h:($+72)%360,s:g.s,l:g.l}),tinycolor({h:($+216)%360,s:g.s,l:g.l})]}function _analogous(d,g,$){g=g||6,$=$||30;var j=tinycolor(d).toHsl(),tt=360/$,et=[tinycolor(d)];for(j.h=(j.h-(tt*g>>1)+720)%360;--g;)j.h=(j.h+tt)%360,et.push(tinycolor(j));return et}function _monochromatic(d,g){g=g||6;for(var $=tinycolor(d).toHsv(),j=$.h,tt=$.s,et=$.v,rt=[],nt=1/g;g--;)rt.push(tinycolor({h:j,s:tt,v:et})),et=(et+nt)%1;return rt}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,g,$,j=this.toRgb();return d=j.r/255,g=j.g/255,$=j.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),g=Math.round(360*d.h),$=Math.round(100*d.s),j=Math.round(100*d.v);return this._a==1?"hsv("+g+", "+$+"%, "+j+"%)":"hsva("+g+", "+$+"%, "+j+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),g=Math.round(360*d.h),$=Math.round(100*d.s),j=Math.round(100*d.l);return this._a==1?"hsl("+g+", "+$+"%, "+j+"%)":"hsla("+g+", "+$+"%, "+j+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var g="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),$=g,j=this._gradientType?"GradientType = 1, ":"";if(d){var tt=tinycolor(d);$="#"+rgbaToArgbHex(tt._r,tt._g,tt._b,tt._a)}return"progid:DXImageTransform.Microsoft.gradient("+j+"startColorstr="+g+",endColorstr="+$+")"},toString:function(d){var g=!!d;d=d||this._format;var $=!1,j=this._a<1&&this._a>=0;return g||!j||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&($=this.toRgbString()),d==="prgb"&&($=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||($=this.toHexString()),d==="hex3"&&($=this.toHexString(!0)),d==="hex4"&&($=this.toHex8String(!0)),d==="hex8"&&($=this.toHex8String()),d==="name"&&($=this.toName()),d==="hsl"&&($=this.toHslString()),d==="hsv"&&($=this.toHsvString()),$||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,g){var $=d.apply(null,[this].concat([].slice.call(g)));return this._r=$._r,this._g=$._g,this._b=$._b,this.setAlpha($._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,g){return d.apply(null,[this].concat([].slice.call(g)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,g){if(_typeof(d)=="object"){var $={};for(var j in d)d.hasOwnProperty(j)&&($[j]=j==="a"?d[j]:convertToPercentage(d[j]));d=$}return tinycolor(d,g)},tinycolor.equals=function(d,g){return!(!d||!g)&&tinycolor(d).toRgbString()==tinycolor(g).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,g,$){$=$===0?0:$||50;var j=tinycolor(d).toRgb(),tt=tinycolor(g).toRgb(),et=$/100;return tinycolor({r:(tt.r-j.r)*et+j.r,g:(tt.g-j.g)*et+j.g,b:(tt.b-j.b)*et+j.b,a:(tt.a-j.a)*et+j.a})},tinycolor.readability=function(d,g){var $=tinycolor(d),j=tinycolor(g);return(Math.max($.getLuminance(),j.getLuminance())+.05)/(Math.min($.getLuminance(),j.getLuminance())+.05)},tinycolor.isReadable=function(d,g,$){var j,tt,et=tinycolor.readability(d,g);switch(tt=!1,(j=validateWCAG2Parms($)).level+j.size){case"AAsmall":case"AAAlarge":tt=et>=4.5;break;case"AAlarge":tt=et>=3;break;case"AAAsmall":tt=et>=7}return tt},tinycolor.mostReadable=function(d,g,$){var j,tt,et,rt,nt=null,it=0;tt=($=$||{}).includeFallbackColors,et=$.level,rt=$.size;for(var at=0;at<g.length;at++)(j=tinycolor.readability(d,g[at]))>it&&(it=j,nt=tinycolor(g[at]));return tinycolor.isReadable(d,nt,{level:et,size:rt})||!tt?nt:($.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],$))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var g={};for(var $ in d)d.hasOwnProperty($)&&(g[d[$]]=$);return g}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,g){isOnePointZero(d)&&(d="100%");var $=isPercentage(d);return d=Math.min(g,Math.max(0,parseFloat(d))),$&&(d=parseInt(d*g,10)/100),Math.abs(d-g)<1e-6?1:d%g/parseFloat(g)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var g,$=!1;if(names$1[d])d=names$1[d],$=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(g=matchers.rgb.exec(d))?{r:g[1],g:g[2],b:g[3]}:(g=matchers.rgba.exec(d))?{r:g[1],g:g[2],b:g[3],a:g[4]}:(g=matchers.hsl.exec(d))?{h:g[1],s:g[2],l:g[3]}:(g=matchers.hsla.exec(d))?{h:g[1],s:g[2],l:g[3],a:g[4]}:(g=matchers.hsv.exec(d))?{h:g[1],s:g[2],v:g[3]}:(g=matchers.hsva.exec(d))?{h:g[1],s:g[2],v:g[3],a:g[4]}:(g=matchers.hex8.exec(d))?{r:parseIntFromHex(g[1]),g:parseIntFromHex(g[2]),b:parseIntFromHex(g[3]),a:convertHexToDecimal(g[4]),format:$?"name":"hex8"}:(g=matchers.hex6.exec(d))?{r:parseIntFromHex(g[1]),g:parseIntFromHex(g[2]),b:parseIntFromHex(g[3]),format:$?"name":"hex"}:(g=matchers.hex4.exec(d))?{r:parseIntFromHex(g[1]+""+g[1]),g:parseIntFromHex(g[2]+""+g[2]),b:parseIntFromHex(g[3]+""+g[3]),a:convertHexToDecimal(g[4]+""+g[4]),format:$?"name":"hex8"}:!!(g=matchers.hex3.exec(d))&&{r:parseIntFromHex(g[1]+""+g[1]),g:parseIntFromHex(g[2]+""+g[2]),b:parseIntFromHex(g[3]+""+g[3]),format:$?"name":"hex"}}function validateWCAG2Parms(d){var g,$;return(g=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&g!=="AAA"&&(g="AA"),($=(d.size||"small").toLowerCase())!=="small"&&$!=="large"&&($="small"),{level:g,size:$}}function clone(d){const g={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(g)}function scan(d,g,$,j,tt,et){let rt,nt,it,at,st;if(typeof g=="function")st=g,rt=0,nt=0,it=d.bitmap.width,at=d.bitmap.height;else{if(rt=g,typeof $!="number")throw new Error("y must be a number");if(nt=$,typeof j!="number")throw new Error("w must be a number");if(it=j,typeof tt!="number")throw new Error("h must be a number");if(at=tt,typeof et!="function")throw new Error("cb must be a function");st=et}rt=Math.round(rt),nt=Math.round(nt),it=Math.round(it),at=Math.round(at);const ot=st.bind(d);for(let lt=nt;lt<nt+at;lt++)for(let ut=rt;ut<rt+it;ut++)ot(ut,lt,d.bitmap.width*lt+ut<<2);return d}function*scanIterator(d,g,$,j,tt){g=Math.round(g),$=Math.round($),j=Math.round(j),tt=Math.round(tt);for(let et=$;et<$+tt;et++)for(let rt=g;rt<g+j;rt++){const nt=d.bitmap.width*et+rt<<2;yield{x:rt,y:et,idx:nt,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const g={r:0,g:0,b:0,a:0};return g.r=Math.floor(d/Math.pow(256,3)),g.g=Math.floor((d-g.r*Math.pow(256,3))/Math.pow(256,2)),g.b=Math.floor((d-g.r*Math.pow(256,3)-g.g*Math.pow(256,2))/Math.pow(256,1)),g.a=Math.floor((d-g.r*Math.pow(256,3)-g.g*Math.pow(256,2)-g.b*Math.pow(256,1))/Math.pow(256,0)),g}function colorDiff(d,g){const $=rt=>Math.pow(rt,2),{max:j}=Math,tt="a"in d?d.a:255,et="a"in g?g.a:255;return(j($(d.r-g.r),$(d.r-g.r-tt+et))+j($(d.g-g.g),$(d.g-g.g-tt+et))+j($(d.b-g.b),$(d.b-g.b-tt+et)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,g={}){return scan({bitmap:d},0,0,d.width,d.height,function($,j,tt){const et=d.data[tt+0],rt=d.data[tt+1],nt=d.data[tt+2],it=d.data[tt+3];d.data[tt+0]=it,d.data[tt+1]=nt,d.data[tt+2]=rt,d.data[tt+3]=et}),encode$2({...d,...g}).data}function decode$1(d,g){const $=decode$2(d,g);return scan({bitmap:$},0,0,$.width,$.height,function(j,tt,et){const rt=$.data[et+1],nt=$.data[et+2],it=$.data[et+3];$.data[et+0]=it,$.data[et+1]=nt,$.data[et+2]=rt,$.data[et+3]=255}),$}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,g,$,j){var tt=0,et=(j=j===void 0?{}:j).loop===void 0?null:j.loop,rt=j.palette===void 0?null:j.palette;if(g<=0||$<=0||g>65535||$>65535)throw new Error("Width/Height invalid.");function nt(ft){var mt=ft.length;if(mt<2||mt>256||mt&mt-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return mt}d[tt++]=71,d[tt++]=73,d[tt++]=70,d[tt++]=56,d[tt++]=57,d[tt++]=97;var it=0,at=0;if(rt!==null){for(var st=nt(rt);st>>=1;)++it;if(st=1<<it,--it,j.background!==void 0){if((at=j.background)>=st)throw new Error("Background index out of range.");if(at===0)throw new Error("Background index explicitly passed as 0.")}}if(d[tt++]=255&g,d[tt++]=g>>8&255,d[tt++]=255&$,d[tt++]=$>>8&255,d[tt++]=(rt!==null?128:0)|it,d[tt++]=at,d[tt++]=0,rt!==null)for(var ot=0,lt=rt.length;ot<lt;++ot){var ut=rt[ot];d[tt++]=ut>>16&255,d[tt++]=ut>>8&255,d[tt++]=255&ut}if(et!==null){if(et<0||et>65535)throw new Error("Loop count invalid.");d[tt++]=33,d[tt++]=255,d[tt++]=11,d[tt++]=78,d[tt++]=69,d[tt++]=84,d[tt++]=83,d[tt++]=67,d[tt++]=65,d[tt++]=80,d[tt++]=69,d[tt++]=50,d[tt++]=46,d[tt++]=48,d[tt++]=3,d[tt++]=1,d[tt++]=255&et,d[tt++]=et>>8&255,d[tt++]=0}var ct=!1;this.addFrame=function(ft,mt,dt,ht,pt,gt){if(ct===!0&&(--tt,ct=!1),gt=gt===void 0?{}:gt,ft<0||mt<0||ft>65535||mt>65535)throw new Error("x/y invalid.");if(dt<=0||ht<=0||dt>65535||ht>65535)throw new Error("Width/Height invalid.");if(pt.length<dt*ht)throw new Error("Not enough pixels for the frame size.");var _t=!0,Et=gt.palette;if(Et==null&&(_t=!1,Et=rt),Et==null)throw new Error("Must supply either a local or global palette.");for(var yt=nt(Et),St=0;yt>>=1;)++St;yt=1<<St;var wt=gt.delay===void 0?0:gt.delay,kt=gt.disposal===void 0?0:gt.disposal;if(kt<0||kt>3)throw new Error("Disposal out of range.");var bt=!1,Tt=0;if(gt.transparent!==void 0&&gt.transparent!==null&&(bt=!0,(Tt=gt.transparent)<0||Tt>=yt))throw new Error("Transparent color index.");if((kt!==0||bt||wt!==0)&&(d[tt++]=33,d[tt++]=249,d[tt++]=4,d[tt++]=kt<<2|(bt===!0?1:0),d[tt++]=255&wt,d[tt++]=wt>>8&255,d[tt++]=Tt,d[tt++]=0),d[tt++]=44,d[tt++]=255&ft,d[tt++]=ft>>8&255,d[tt++]=255&mt,d[tt++]=mt>>8&255,d[tt++]=255&dt,d[tt++]=dt>>8&255,d[tt++]=255&ht,d[tt++]=ht>>8&255,d[tt++]=_t===!0?128|St-1:0,_t===!0)for(var Dt=0,$t=Et.length;Dt<$t;++Dt){var At=Et[Dt];d[tt++]=At>>16&255,d[tt++]=At>>8&255,d[tt++]=255&At}return tt=GifWriterOutputLZWCodeStream(d,tt,St<2?2:St,pt)},this.end=function(){return ct===!1&&(d[tt++]=59,ct=!0),tt},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(ft){d=ft},this.getOutputBufferPosition=function(){return tt},this.setOutputBufferPosition=function(ft){tt=ft}}function GifWriterOutputLZWCodeStream(d,g,$,j){d[g++]=$;var tt=g++,et=1<<$,rt=et-1,nt=et+1,it=nt+1,at=$+1,st=0,ot=0;function lt(_t){for(;st>=_t;)d[g++]=255&ot,ot>>=8,st-=8,g===tt+256&&(d[tt]=255,tt=g++)}function ut(_t){ot|=_t<<st,st+=at,lt(8)}var ct=j[0]&rt,ft={};ut(et);for(var mt=1,dt=j.length;mt<dt;++mt){var ht=j[mt]&rt,pt=ct<<8|ht,gt=ft[pt];if(gt===void 0){for(ot|=ct<<st,st+=at;st>=8;)d[g++]=255&ot,ot>>=8,st-=8,g===tt+256&&(d[tt]=255,tt=g++);it===4096?(ut(et),it=nt+1,at=$+1,ft={}):(it>=1<<at&&++at,ft[pt]=it++),ct=ht}else ct=gt}return ut(ct),ut(nt),lt(1),tt+1===g?d[tt]=0:(d[tt]=g-tt-1,d[g++]=0),g}function GifReader(d){var g=0;if(d[g++]!==71||d[g++]!==73||d[g++]!==70||d[g++]!==56||(d[g++]+1&253)!=56||d[g++]!==97)throw new Error("Invalid GIF 87a/89a header.");var $=d[g++]|d[g++]<<8,j=d[g++]|d[g++]<<8,tt=d[g++],et=tt>>7,rt=1<<(7&tt)+1;d[g++],d[g++];var nt=null,it=null;et&&(nt=g,it=rt,g+=3*rt);var at=!0,st=[],ot=0,lt=null,ut=0,ct=null;for(this.width=$,this.height=j;at&&g<d.length;)switch(d[g++]){case 33:switch(d[g++]){case 255:if(d[g]!==11||d[g+1]==78&&d[g+2]==69&&d[g+3]==84&&d[g+4]==83&&d[g+5]==67&&d[g+6]==65&&d[g+7]==80&&d[g+8]==69&&d[g+9]==50&&d[g+10]==46&&d[g+11]==48&&d[g+12]==3&&d[g+13]==1&&d[g+16]==0)g+=14,ct=d[g++]|d[g++]<<8,g++;else for(g+=12;;){if(!((bt=d[g++])>=0))throw Error("Invalid block size");if(bt===0)break;g+=bt}break;case 249:if(d[g++]!==4||d[g+4]!==0)throw new Error("Invalid graphics extension block.");var ft=d[g++];ot=d[g++]|d[g++]<<8,lt=d[g++],1&ft||(lt=null),ut=ft>>2&7,g++;break;case 254:for(;;){if(!((bt=d[g++])>=0))throw Error("Invalid block size");if(bt===0)break;g+=bt}break;default:throw new Error("Unknown graphic control label: 0x"+d[g-1].toString(16))}break;case 44:var mt=d[g++]|d[g++]<<8,dt=d[g++]|d[g++]<<8,ht=d[g++]|d[g++]<<8,pt=d[g++]|d[g++]<<8,gt=d[g++],_t=gt>>6&1,Et=1<<(7&gt)+1,yt=nt,St=it,wt=!1;gt>>7&&(wt=!0,yt=g,St=Et,g+=3*Et);var kt=g;for(g++;;){var bt;if(!((bt=d[g++])>=0))throw Error("Invalid block size");if(bt===0)break;g+=bt}st.push({x:mt,y:dt,width:ht,height:pt,has_local_palette:wt,palette_offset:yt,palette_size:St,data_offset:kt,data_length:g-kt,transparent_index:lt,interlaced:!!_t,delay:ot,disposal:ut});break;case 59:at=!1;break;default:throw new Error("Unknown gif block: 0x"+d[g-1].toString(16))}this.numFrames=function(){return st.length},this.loopCount=function(){return ct},this.frameInfo=function(Tt){if(Tt<0||Tt>=st.length)throw new Error("Frame index out of range.");return st[Tt]},this.decodeAndBlitFrameBGRA=function(Tt,Dt){var $t=this.frameInfo(Tt),At=$t.width*$t.height,Pt=new Uint8Array(At);GifReaderLZWOutputIndexStream(d,$t.data_offset,Pt,At);var Kt=$t.palette_offset,Ut=$t.transparent_index;Ut===null&&(Ut=256);var It=$t.width,jt=$-It,zt=It,Ht=4*($t.y*$+$t.x),Vt=4*(($t.y+$t.height)*$+$t.x),Wt=Ht,Zt=4*jt;$t.interlaced===!0&&(Zt+=4*$*7);for(var Qt=8,Xt=0,er=Pt.length;Xt<er;++Xt){var ir=Pt[Xt];if(zt===0&&(zt=It,(Wt+=Zt)>=Vt&&(Zt=4*jt+4*$*(Qt-1),Wt=Ht+(It+jt)*(Qt<<1),Qt>>=1)),ir===Ut)Wt+=4;else{var Yt=d[Kt+3*ir],xt=d[Kt+3*ir+1],qt=d[Kt+3*ir+2];Dt[Wt++]=qt,Dt[Wt++]=xt,Dt[Wt++]=Yt,Dt[Wt++]=255}--zt}},this.decodeAndBlitFrameRGBA=function(Tt,Dt){var $t=this.frameInfo(Tt),At=$t.width*$t.height,Pt=new Uint8Array(At);GifReaderLZWOutputIndexStream(d,$t.data_offset,Pt,At);var Kt=$t.palette_offset,Ut=$t.transparent_index;Ut===null&&(Ut=256);var It=$t.width,jt=$-It,zt=It,Ht=4*($t.y*$+$t.x),Vt=4*(($t.y+$t.height)*$+$t.x),Wt=Ht,Zt=4*jt;$t.interlaced===!0&&(Zt+=4*$*7);for(var Qt=8,Xt=0,er=Pt.length;Xt<er;++Xt){var ir=Pt[Xt];if(zt===0&&(zt=It,(Wt+=Zt)>=Vt&&(Zt=4*jt+4*$*(Qt-1),Wt=Ht+(It+jt)*(Qt<<1),Qt>>=1)),ir===Ut)Wt+=4;else{var Yt=d[Kt+3*ir],xt=d[Kt+3*ir+1],qt=d[Kt+3*ir+2];Dt[Wt++]=Yt,Dt[Wt++]=xt,Dt[Wt++]=qt,Dt[Wt++]=255}--zt}}}function GifReaderLZWOutputIndexStream(d,g,$,j){for(var tt=d[g++],et=1<<tt,rt=et+1,nt=rt+1,it=tt+1,at=(1<<it)-1,st=0,ot=0,lt=0,ut=d[g++],ct=new Int32Array(4096),ft=null;;){for(;st<16&&ut!==0;)ot|=d[g++]<<st,st+=8,ut===1?ut=d[g++]:--ut;if(st<it)break;var mt=ot&at;if(ot>>=it,st-=it,mt!==et){if(mt===rt)break;for(var dt=mt<nt?mt:ft,ht=0,pt=dt;pt>et;)pt=ct[pt]>>8,++ht;var gt=pt;if(lt+ht+(dt!==mt?1:0)>j)return void console.log("Warning, gif stream longer than expected.");$[lt++]=gt;var _t=lt+=ht;for(dt!==mt&&($[lt++]=gt),pt=dt;ht--;)pt=ct[pt],$[--_t]=255&pt,pt>>=8;ft!==null&&nt<4096&&(ct[nt++]=ft<<8|gt,nt>=at+1&&it<12&&(++it,at=at<<1|1)),ft=mt}else nt=rt+1,at=(1<<(it=tt+1))-1,ft=null}return lt!==j&&console.log("Warning, gif stream shorter than expected."),$}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Zr{constructor(...g){if(g.length===0)throw new Error("constructor requires parameters");const $=g[0];if($!==null&&typeof $=="object")if($ instanceof Zr){const j=$.bitmap;this.bitmap={width:j.width,height:j.height,data:new Buffer(j.width*j.height*4)},j.data.copy(this.bitmap.data)}else{if(!($.width&&$.height&&$.data))throw new Error("unrecognized constructor parameters");this.bitmap=$}else{if(typeof $!="number"||typeof g[1]!="number")throw new Error("unrecognized constructor parameters");{const j=$,tt=g[1],et=g[2];this.bitmap={width:j,height:tt},Buffer.isBuffer(et)?this.bitmap.data=et:(this.bitmap.data=new Buffer(j*tt*4),typeof et=="number"&&this.fillRGBA(et))}}}blit(g,$,j,tt,et,rt,nt){if(tt+rt>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if($+rt>g.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(et+nt>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(j+nt>g.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const it=this.bitmap.data,at=g.bitmap.data,st=4*this.bitmap.width,ot=4*g.bitmap.width,lt=4*rt;let ut=et*st+4*tt,ct=j*ot+4*$;for(;--nt>=0;)it.copy(at,ct,ut,ut+lt),ut+=st,ct+=ot;return this}fillRGBA(g){const $=this.bitmap.data,j=4*this.bitmap.height;let tt=0;for(;tt<j;)$.writeUInt32BE(g,tt),tt+=4;for(;tt<$.length;)$.copy($,tt,0,j),tt+=j;return this}getRGBA(g,$){const j=4*($*this.bitmap.width+g);return this.bitmap.data.readUInt32BE(j)}getRGBASet(){const g=new Set,$=this.bitmap.data;for(let j=0;j<$.length;j+=4)g.add($.readUInt32BE(j,!0));return g}greyscale(){const g=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,($,j,tt)=>{const et=Math.round(.299*g[tt]+.587*g[tt+1]+.114*g[tt+2]);g[tt]=et,g[tt+1]=et,g[tt+2]=et}),this}reframe(g,$,j,tt,et){const rt=g<0?0:g,nt=$<0?0:$,it=j+rt>this.bitmap.width?this.bitmap.width-rt:j,at=tt+nt>this.bitmap.height?this.bitmap.height-nt:tt,st=g<0?-g:0,ot=$<0?-$:0;let lt;if(et===void 0){if(rt!==g||nt!=$||it!==j||at!==tt)throw new GifError("fillRGBA required for this reframing");lt=new Zr(j,tt)}else lt=new Zr(j,tt,et);return this.blit(lt,st,ot,rt,nt,it,at),this.bitmap=lt.bitmap,this}scale(g){if(g===1)return;if(!Number.isInteger(g)||g<1)throw new Error("the scale must be an integer >= 1");const $=this.bitmap.width,j=this.bitmap.height,tt=$*g*4,et=this.bitmap.data,rt=new Buffer(j*tt*g);let nt,it=0,at=0;for(let st=0;st<j;++st){nt=at;for(let ot=0;ot<$;++ot){const lt=et.readUInt32BE(it,!0);for(let ut=0;ut<g;++ut)rt.writeUInt32BE(lt,at),at+=4;it+=4}for(let ot=1;ot<g;++ot)rt.copy(rt,at,nt,at),at+=tt,nt+=tt}return this.bitmap={width:$*g,height:j*g,data:rt},this}scanAllCoords(g){const $=this.bitmap.width,j=this.bitmap.data.length;let tt=0,et=0;for(let rt=0;rt<j;rt+=4)g(tt,et,rt),++tt===$&&(tt=0,++et)}scanAllIndexes(g){const $=this.bitmap.data.length;for(let j=0;j<$;j+=4)g(j)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,g,$){this.width=$.width,this.height=$.height,this.loops=$.loops,this.usesTransparency=$.usesTransparency,this.colorScope=$.colorScope,this.frames=g,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0$1=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,g,$)=>g in d?__defProp$3(d,g,{enumerable:!0,configurable:!0,writable:!0,value:$}):d[g]=$,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,g)=>{for(var $ in g)__defProp$3(d,$,{get:g[$],enumerable:!0})},__reExport=(d,g,$,j)=>{if(g&&typeof g=="object"||typeof g=="function")for(let tt of __getOwnPropNames(g))!__hasOwnProp.call(d,tt)&&$&&__defProp$3(d,tt,{get:()=>g[tt],enumerable:!(j=__getOwnPropDesc(g,tt))||j.enumerable});return d},__toCommonJS=(d=>(g,$)=>d&&d.get(g)||($=__reExport(__markAsModule({}),g,1),d&&d.set(g,$),$))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,g,$)=>(__defNormalProp$3(d,typeof g!="symbol"?g+"":g,$),$),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,g,$){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(g=correctGamma$1(g/255))+.1805*($=correctGamma$1($/255)),y:.2126*d+.7152*g+.0722*$,z:.0193*d+.1192*g+.9505*$}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,g,$){let j=d;return j<g&&(j=g),j<$&&(j=$),j}function min3$1(d,g,$){let j=d;return j>g&&(j=g),j>$&&(j=$),j}function intInRange$1(d,g,$){return d>$&&(d=$),d<g&&(d=g),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,g){const $=typeof d[0];let j;if($==="number"||$==="string"){const tt=Object.create(null);for(let et=0,rt=d.length;et<rt;et++){const nt=d[et];tt[nt]||tt[nt]===0||(tt[nt]=et)}j=d.sort((et,rt)=>g(et,rt)||tt[et]-tt[rt])}else{const tt=d.slice(0);j=d.sort((et,rt)=>g(et,rt)||tt.indexOf(et)-tt.indexOf(rt))}return j}function rgb2hsl$1(d,g,$){const j=min3$1(d,g,$),tt=max3$1(d,g,$),et=tt-j,rt=(j+tt)/510;let nt=0;rt>0&&rt<1&&(nt=et/(rt<.5?tt+j:510-tt-j));let it=0;return et>0&&(it=tt===d?(g-$)/et:tt===g?2+($-d)/et:4+(d-g)/et,it*=60,it<0&&(it+=360)),{h:it,s:nt,l:rt}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,g,$){if(d=pivot$1(d/refX$1),g=pivot$1(g/refY$1),$=pivot$1($/refZ$1),116*g-16<0)throw new Error("xxx");return{L:Math.max(0,116*g-16),a:500*(d-g),b:200*(g-$)}}function rgb2lab$1(d,g,$){const j=rgb2xyz$1(d,g,$);return xyz2lab$1(j.x,j.y,j.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,g,$){const j=(d+16)/116,tt=j-$/200;return{x:refX2$1*pivot2$1(g/500+j),y:refY2$1*pivot2$1(j),z:refZ2$1*pivot2$1(tt)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,g,$){const j=correctGamma2$1(3.2406*d+-1.5372*g+-.4986*$),tt=correctGamma2$1(-.9689*d+1.8758*g+.0415*$),et=correctGamma2$1(.0557*d+-.204*g+1.057*$);return{r:inRange0to255Rounded$1(255*j),g:inRange0to255Rounded$1(255*tt),b:inRange0to255Rounded$1(255*et)}}function lab2rgb$1(d,g,$){const j=lab2xyz$1(d,g,$);return xyz2rgb$1(j.x,j.y,j.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,g,$,j){this._whitePoint={r:d>0?255/d:0,g:g>0?255/g:0,b:$>0?255/$:0,a:j>0?255/j:0},this._maxDistance=this.calculateRaw(d,g,$,j,0,0,0,0)}calculateNormalized(d,g){return this.calculateRaw(d.r,d.g,d.b,d.a,g.r,g.g,g.b,g.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(g*this._whitePoint.g),inRange0to255$1($*this._whitePoint.b)),at=rgb2lab$1(inRange0to255$1(tt*this._whitePoint.r),inRange0to255$1(et*this._whitePoint.g),inRange0to255$1(rt*this._whitePoint.b)),st=it.L-at.L,ot=it.a-at.a,lt=it.b-at.b,ut=Math.sqrt(it.a*it.a+it.b*it.b),ct=ut-Math.sqrt(at.a*at.a+at.b*at.b);let ft=ot*ot+lt*lt-ct*ct;ft=ft<0?0:Math.sqrt(ft);const mt=(nt-j)*this._whitePoint.a*this._kA;return Math.sqrt((st/this._Kl)**2+(ct/(1+this._K1*ut))**2+(ft/(1+this._K2*ut))**2+mt**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,g){const $=Math.atan2(d,g);return $>=0?$:$+_CIEDE2000$1._deg360InRad}static _calculateRT(d,g){const $=g**7,j=2*Math.sqrt($/($+_CIEDE2000$1._pow25to7)),tt=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*tt)*j}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,g,$,j){const tt=$+j;return d===0?tt:g<=_CIEDE2000$1._deg180InRad?tt/2:tt<_CIEDE2000$1._deg360InRad?(tt+_CIEDE2000$1._deg360InRad)/2:(tt-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,g,$,j){let tt;return tt=d===0?0:g<=_CIEDE2000$1._deg180InRad?$-j:$<=j?$-j+_CIEDE2000$1._deg360InRad:$-j-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(tt/2)}calculateRaw(d,g,$,j,tt,et,rt,nt){const it=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(g*this._whitePoint.g),inRange0to255$1($*this._whitePoint.b)),at=rgb2lab$1(inRange0to255$1(tt*this._whitePoint.r),inRange0to255$1(et*this._whitePoint.g),inRange0to255$1(rt*this._whitePoint.b)),st=(nt-j)*this._whitePoint.a*_CIEDE2000$1._kA,ot=this.calculateRawInLab(it,at);return Math.sqrt(ot+st*st)}calculateRawInLab(d,g){const $=d.L,j=d.a,tt=d.b,et=g.L,rt=g.a,nt=g.b,it=((Math.sqrt(j*j+tt*tt)+Math.sqrt(rt*rt+nt*nt))/2)**7,at=.5*(1-Math.sqrt(it/(it+_CIEDE2000$1._pow25to7))),st=(1+at)*j,ot=(1+at)*rt,lt=Math.sqrt(st*st+tt*tt),ut=Math.sqrt(ot*ot+nt*nt),ct=lt*ut,ft=_CIEDE2000$1._calculatehp(tt,st),mt=_CIEDE2000$1._calculatehp(nt,ot),dt=Math.abs(ft-mt),ht=et-$,pt=ut-lt,gt=_CIEDE2000$1._calculate_dHp(ct,dt,mt,ft),_t=_CIEDE2000$1._calculate_ahp(ct,dt,ft,mt),Et=(lt+ut)/2,yt=(($+et)/2-50)**2,St=pt/(1+.045*Et),wt=gt/(1+.015*_CIEDE2000$1._calculateT(_t)*Et);return(ht/(1+.015*yt/Math.sqrt(20+yt)))**2+St**2+wt**2+_CIEDE2000$1._calculateRT(_t,Et)*St*wt}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=(d+tt)/2*this._whitePoint.r,at=(d-tt)*this._whitePoint.r,st=(g-et)*this._whitePoint.g,ot=($-rt)*this._whitePoint.b,lt=((512+it)*at*at>>8)+4*st*st+((767-it)*ot*ot>>8),ut=(nt-j)*this._whitePoint.a;return Math.sqrt(lt+ut*ut)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=tt-d,at=et-g,st=rt-$,ot=nt-j;return Math.sqrt(this._kR*it*it+this._kG*at*at+this._kB*st*st+this._kA*ot*ot)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,g,$,j,tt,et,rt,nt){let it=tt-d,at=et-g,st=rt-$,ot=nt-j;return it<0&&(it=0-it),at<0&&(at=0-at),st<0&&(st=0-st),ot<0&&(ot=0-ot),this._kR*it+this._kG*at+this._kB*st+this._kA*ot}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=(nt-j)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,tt*this._whitePoint.r,it)+this._colordifferenceCh(g*this._whitePoint.g,et*this._whitePoint.g,it)+this._colordifferenceCh($*this._whitePoint.b,rt*this._whitePoint.b,it)}_colordifferenceCh(d,g,$){const j=d-g,tt=j+$;return j*j+tt*tt}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const g=new Point$1;return g.r=0|d[0],g.g=0|d[1],g.b=0|d[2],g.a=0|d[3],g._loadUINT32(),g._loadQuadruplet(),g}static createByRGBA(d,g,$,j){const tt=new Point$1;return tt.r=0|d,tt.g=0|g,tt.b=0|$,tt.a=0|j,tt._loadUINT32(),tt._loadQuadruplet(),tt}static createByUint32(d){const g=new Point$1;return g.uint32=d>>>0,g._loadRGBA(),g._loadQuadruplet(),g}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let g=this.r,$=this.g,j=this.b;return d&&(g=Math.min(255,255-this.a+this.a*g/255),$=Math.min(255,255-this.a+this.a*$/255),j=Math.min(255,255-this.a+this.a*j/255)),.2126*g+.7152*$+.0722*j}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let g=0,$=this._pointArray.length;g<$;g++)d._pointArray[g]=Point$1.createByUint32(0|this._pointArray[g].uint32);return d}toUint32Array(){const d=this._pointArray.length,g=new Uint32Array(d);for(let $=0;$<d;$++)g[$]=this._pointArray[$].uint32;return g}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const g=d.naturalWidth,$=d.naturalHeight,j=document.createElement("canvas");return j.width=g,j.height=$,j.getContext("2d").drawImage(d,0,0,g,$,0,0,g,$),PointContainer$1.fromHTMLCanvasElement(j)}static fromHTMLCanvasElement(d){const g=d.width,$=d.height,j=d.getContext("2d").getImageData(0,0,g,$);return PointContainer$1.fromImageData(j)}static fromImageData(d){const g=d.width,$=d.height;return PointContainer$1.fromUint8Array(d.data,g,$)}static fromUint8Array(d,g,$){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const j=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(j,g,$)}static fromUint32Array(d,g,$){const j=new PointContainer$1;j._width=g,j._height=$;for(let tt=0,et=d.length;tt<et;tt++)j._pointArray[tt]=Point$1.createByUint32(0|d[tt]);return j}static fromBuffer(d,g,$){const j=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(j,g,$)}},hueGroups$1=10;function hueGroup$1(d,g){const $=360/g;for(let j=1,tt=$-$/2;j<g;j++,tt+=$)if(d>=tt&&d<tt+$)return j;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let g=this._pointArray.length-1;g>=0;g--)if(d.uint32===this._pointArray[g].uint32)return!0;return!1}getNearestColor(d,g){return this._pointArray[0|this._getNearestIndex(d,g)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,g){let $=this._nearestPointFromCache(""+g.uint32);if($>=0)return $;let j=Number.MAX_VALUE;$=0;for(let tt=0,et=this._pointArray.length;tt<et;tt++){const rt=this._pointArray[tt],nt=d.calculateRaw(g.r,g.g,g.b,g.a,rt.r,rt.g,rt.b,rt.a);nt<j&&(j=nt,$=tt)}return this._i32idx[g.uint32]=$,$}sort(){this._i32idx={},this._pointArray.sort((d,g)=>{const $=rgb2hsl$1(d.r,d.g,d.b),j=rgb2hsl$1(g.r,g.g,g.b),tt=d.r===d.g&&d.g===d.b?0:1+hueGroup$1($.h,hueGroups$1),et=(g.r===g.g&&g.g===g.b?0:1+hueGroup$1(j.h,hueGroups$1))-tt;if(et)return-et;const rt=d.getLuminosity(!0),nt=g.getLuminosity(!0);if(nt-rt!=0)return nt-rt;const it=(100*j.s|0)-(100*$.s|0);return it?-it:0})}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,g){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=g,this._stats=[];for(let $=0;$<=d;$++)this._stats[$]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const g=255&d,$=d>>>8&255,j=d>>>16&255,tt=g===$&&$===j?0:1+hueGroup$1(rgb2hsl$1(g,$,j).h,this._numGroups),et=this._stats[tt],rt=this._minCols;et.num++,et.num>rt||(et.num===rt&&this._groupsFull++,et.num<=rt&&this._stats[tt].cols.push(d))}injectIntoDictionary(d){for(let g=0;g<=this._numGroups;g++)this._stats[g].num<=this._minCols&&this._stats[g].cols.forEach($=>{d[$]?d[$]++:d[$]=1})}injectIntoArray(d){for(let g=0;g<=this._numGroups;g++)this._stats[g].num<=this._minCols&&this._stats[g].cols.forEach($=>{d.indexOf($)===-1&&d.push($)})}},_ProgressTracker$1=class{constructor(d,g){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=g,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,g,$,j){this.r-=0|d,this.g-=0|g,this.b-=0|$,this.a-=0|j}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,g=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=g,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const g=this._pointArray.length;g<_NeuQuant$1._minpicturebytes&&(d=1);const $=30+(d-1)/3|0,j=g/d|0;let tt,et=j/_NeuQuant$1._nCycles|0,rt=_NeuQuant$1._initAlpha,nt=(this._networkSize>>3)*_NeuQuant$1._radiusBias,it=nt>>_NeuQuant$1._radiusBiasShift;it<=1&&(it=0);for(let st=0;st<it;st++)this._radPower[st]=rt*((it*it-st*st)*_NeuQuant$1._radBias/(it*it))>>>0;tt=g<_NeuQuant$1._minpicturebytes?1:g%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:g%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:g%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const at=new ProgressTracker$1(j,99);for(let st=0,ot=0;st<j;){at.shouldNotify(st)&&(yield{progress:at.progress});const lt=this._pointArray[ot],ut=lt.b<<networkBiasShift$1,ct=lt.g<<networkBiasShift$1,ft=lt.r<<networkBiasShift$1,mt=lt.a<<networkBiasShift$1,dt=this._contest(ut,ct,ft,mt);if(this._alterSingle(rt,dt,ut,ct,ft,mt),it!==0&&this._alterNeighbour(it,dt,ut,ct,ft,mt),ot+=tt,ot>=g&&(ot-=g),st++,et===0&&(et=1),st%et==0){rt-=rt/$|0,nt-=nt/_NeuQuant$1._radiusDecrease|0,it=nt>>_NeuQuant$1._radiusBiasShift,it<=1&&(it=0);for(let ht=0;ht<it;ht++)this._radPower[ht]=rt*((it*it-ht*ht)*_NeuQuant$1._radBias/(it*it))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(g=>{d.add(g.toPoint())}),d.sort(),d}_alterNeighbour(d,g,$,j,tt,et){let rt=g-d;rt<-1&&(rt=-1);let nt=g+d;nt>this._networkSize&&(nt=this._networkSize);let it=g+1,at=g-1,st=1;for(;it<nt||at>rt;){const ot=this._radPower[st++]/_NeuQuant$1._alphaRadBias;if(it<nt){const lt=this._network[it++];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}if(at>rt){const lt=this._network[at--];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}}}_alterSingle(d,g,$,j,tt,et){d/=_NeuQuant$1._initAlpha;const rt=this._network[g];rt.subtract(d*(rt.r-tt),d*(rt.g-j),d*(rt.b-$),d*(rt.a-et))}_contest(d,g,$,j){const tt=1020<<networkBiasShift$1;let et=~(1<<31),rt=et,nt=-1,it=nt;for(let at=0;at<this._networkSize;at++){const st=this._network[at],ot=this._distance.calculateNormalized(st,{r:$,g,b:d,a:j})*tt|0;ot<et&&(et=ot,nt=at);const lt=ot-(this._bias[at]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);lt<rt&&(rt=lt,it=at);const ut=this._freq[at]>>_NeuQuant$1._betaShift;this._freq[at]-=ut,this._bias[at]+=ut<<_NeuQuant$1._gammaShift}return this._freq[nt]+=_NeuQuant$1._beta,this._bias[nt]-=_NeuQuant$1._betaGamma,it}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,g,$,j){this.r-=d,this.g-=g,this.b-=$,this.a-=j}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,g=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=g,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const g=this._pointArray.length;g<_NeuQuantFloat$1._minpicturebytes&&(d=1);const $=30+(d-1)/3,j=g/d;let tt,et=j/_NeuQuantFloat$1._nCycles|0,rt=_NeuQuantFloat$1._initAlpha,nt=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,it=nt>>_NeuQuantFloat$1._radiusBiasShift;it<=1&&(it=0);for(let st=0;st<it;st++)this._radPower[st]=rt*((it*it-st*st)*_NeuQuantFloat$1._radBias/(it*it));tt=g<_NeuQuantFloat$1._minpicturebytes?1:g%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:g%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:g%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const at=new ProgressTracker$1(j,99);for(let st=0,ot=0;st<j;){at.shouldNotify(st)&&(yield{progress:at.progress});const lt=this._pointArray[ot],ut=lt.b<<networkBiasShift2$1,ct=lt.g<<networkBiasShift2$1,ft=lt.r<<networkBiasShift2$1,mt=lt.a<<networkBiasShift2$1,dt=this._contest(ut,ct,ft,mt);if(this._alterSingle(rt,dt,ut,ct,ft,mt),it!==0&&this._alterNeighbour(it,dt,ut,ct,ft,mt),ot+=tt,ot>=g&&(ot-=g),st++,et===0&&(et=1),st%et==0){rt-=rt/$,nt-=nt/_NeuQuantFloat$1._radiusDecrease,it=nt>>_NeuQuantFloat$1._radiusBiasShift,it<=1&&(it=0);for(let ht=0;ht<it;ht++)this._radPower[ht]=rt*((it*it-ht*ht)*_NeuQuantFloat$1._radBias/(it*it))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(g=>{d.add(g.toPoint())}),d.sort(),d}_alterNeighbour(d,g,$,j,tt,et){let rt=g-d;rt<-1&&(rt=-1);let nt=g+d;nt>this._networkSize&&(nt=this._networkSize);let it=g+1,at=g-1,st=1;for(;it<nt||at>rt;){const ot=this._radPower[st++]/_NeuQuantFloat$1._alphaRadBias;if(it<nt){const lt=this._network[it++];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}if(at>rt){const lt=this._network[at--];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}}}_alterSingle(d,g,$,j,tt,et){d/=_NeuQuantFloat$1._initAlpha;const rt=this._network[g];rt.subtract(d*(rt.r-tt),d*(rt.g-j),d*(rt.b-$),d*(rt.a-et))}_contest(d,g,$,j){const tt=1020<<networkBiasShift2$1;let et=~(1<<31),rt=et,nt=-1,it=nt;for(let at=0;at<this._networkSize;at++){const st=this._network[at],ot=this._distance.calculateNormalized(st,{r:$,g,b:d,a:j})*tt;ot<et&&(et=ot,nt=at);const lt=ot-(this._bias[at]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);lt<rt&&(rt=lt,it=at);const ut=this._freq[at]>>_NeuQuantFloat$1._betaShift;this._freq[at]-=ut,this._bias[at]+=ut<<_NeuQuantFloat$1._gammaShift}return this._freq[nt]+=_NeuQuantFloat$1._beta,this._bias[nt]-=_NeuQuantFloat$1._betaGamma,it}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,g){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=g<<2,this._initColors=g<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),($,j)=>this._histogram[j]-this._histogram[$]);if(d.length===0)return[];let g;switch(this._method){case 1:const $=Math.min(d.length,this._initColors),j=d[$-1],tt=this._histogram[j];g=d.slice(0,$);let et=$;const rt=d.length;for(;et<rt&&this._histogram[d[et]]===tt;)g.push(d[et++]);this._hueStats.injectIntoArray(g);break;case 2:g=d;break;default:throw new Error("Incorrect method")}return g.map($=>+$)}_colorStats1D(d){const g=this._histogram,$=d.getPointArray(),j=$.length;for(let tt=0;tt<j;tt++){const et=$[tt].uint32;this._hueStats.check(et),et in g?g[et]++:g[et]=1}}_colorStats2D(d){const g=d.getWidth(),$=d.getHeight(),j=d.getPointArray(),tt=_ColorHistogram$1._boxSize[0],et=_ColorHistogram$1._boxSize[1],rt=tt*et,nt=this._makeBoxes(g,$,tt,et),it=this._histogram;nt.forEach(at=>{let st=Math.round(at.w*at.h/rt)*_ColorHistogram$1._boxPixels;st<2&&(st=2);const ot={};this._iterateBox(at,g,lt=>{const ut=j[lt].uint32;this._hueStats.check(ut),ut in it?it[ut]++:ut in ot?++ot[ut]>=st&&(it[ut]=ot[ut]):ot[ut]=1})}),this._hueStats.injectIntoDictionary(it)}_iterateBox(d,g,$){const j=d,tt=j.y*g+j.x,et=(j.y+j.h-1)*g+(j.x+j.w-1),rt=g-j.w+1;let nt=0,it=tt;do $.call(this,it),it+=++nt%j.w==0?rt:1;while(it<=et)}_makeBoxes(d,g,$,j){const tt=d%$,et=g%j,rt=d-tt,nt=g-et,it=[];for(let at=0;at<g;at+=j)for(let st=0;st<d;st+=$)it.push({x:st,y:at,w:st===rt?tt:$,h:at===nt?et:j});return it}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,g,$){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=g,this.distance=$}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,g=256,$=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=g,this._histogram=new ColorHistogram$1($,g),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const g=new Palette$1,$=g.getPointContainer().getPointArray(),j=new Array(d.length);for(let st=0;st<d.length;st++)$.push(Point$1.createByUint32(d[st])),j[st]=1;const tt=$.length,et=[];let rt=tt,nt=this._initialDistance;const it=new ProgressTracker$1(rt-this._colors,99);for(;rt>this._colors;){et.length=0;for(let st=0;st<tt;st++){if(it.shouldNotify(tt-rt)&&(yield{progress:it.progress}),j[st]===0)continue;const ot=$[st];for(let lt=st+1;lt<tt;lt++){if(j[lt]===0)continue;const ut=$[lt],ct=this._distance.calculateNormalized(ot,ut);ct<nt&&(et.push(new RemovedColor$1(lt,ut,ct)),j[lt]=0,rt--)}}nt+=rt>3*this._colors?this._initialDistance:this._distanceIncrement}if(rt<this._colors){stableSort$1(et,(ot,lt)=>lt.distance-ot.distance);let st=0;for(;rt<this._colors&&st<et.length;)j[et[st].index]=1,rt++,st++}let at=$.length;for(let st=at-1;st>=0;st--)j[st]===0&&(st!==at-1&&($[st]=$[at-1]),--at);$.length=at,g.sort(),yield{palette:g,progress:100}}};function createArray1D$1(d){const g=[];for(let $=0;$<d;$++)g[$]=0;return g}function createArray4D$1(d,g,$,j){const tt=new Array(d);for(let et=0;et<d;et++){tt[et]=new Array(g);for(let rt=0;rt<g;rt++){tt[et][rt]=new Array($);for(let nt=0;nt<$;nt++){tt[et][rt][nt]=new Array(j);for(let it=0;it<j;it++)tt[et][rt][nt][it]=0}}}return tt}function createArray3D$1(d,g,$){const j=new Array(d);for(let tt=0;tt<d;tt++){j[tt]=new Array(g);for(let et=0;et<g;et++){j[tt][et]=new Array($);for(let rt=0;rt<$;rt++)j[tt][et][rt]=0}}return j}function fillArray3D$1(d,g,$,j,tt){for(let et=0;et<g;et++){d[et]=[];for(let rt=0;rt<$;rt++){d[et][rt]=[];for(let nt=0;nt<j;nt++)d[et][rt][nt]=tt}}}function fillArray1D$1(d,g,$){for(let j=0;j<g;j++)d[j]=$}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,g=256,$=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality($),this._initialize(g)}sample(d){const g=d.getPointArray();for(let $=0,j=g.length;$<j;$++)this._addColor(g[$]);this._pixels=this._pixels.concat(g)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let g=0;g<this._colors;g++)if(this._sums[g]>0){const $=this._sums[g],j=this._reds[g]/$,tt=this._greens[g]/$,et=this._blues[g]/$,rt=this._alphas[g]/$,nt=Point$1.createByRGBA(0|j,0|tt,0|et,0|rt);d.add(nt)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const g=createArray1D$1(this._colors);for(let rt=1;rt<this._colors;++rt){this._cut(this._cubes[d],this._cubes[rt])?(g[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,g[rt]=this._cubes[rt].volume>1?this._calculateVariance(this._cubes[rt]):0):(g[d]=0,rt--),d=0;let nt=g[0];for(let it=1;it<=rt;++it)g[it]>nt&&(nt=g[it],d=it);if(nt<=0){this._colors=rt+1;break}}const $=[],j=[],tt=[],et=[];for(let rt=0;rt<this._colors;++rt){const nt=_WuQuant$1._volume(this._cubes[rt],this._weights);nt>0?($[rt]=_WuQuant$1._volume(this._cubes[rt],this._momentsRed)/nt|0,j[rt]=_WuQuant$1._volume(this._cubes[rt],this._momentsGreen)/nt|0,tt[rt]=_WuQuant$1._volume(this._cubes[rt],this._momentsBlue)/nt|0,et[rt]=_WuQuant$1._volume(this._cubes[rt],this._momentsAlpha)/nt|0):($[rt]=0,j[rt]=0,tt[rt]=0,et[rt]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let rt=0,nt=this._pixels.length;rt<nt;rt++){const it=this._pixels[rt];let at=-1,st=Number.MAX_VALUE;for(let ot=0;ot<this._colors;ot++){const lt=$[ot],ut=j[ot],ct=tt[ot],ft=et[ot],mt=this._distance.calculateRaw(lt,ut,ct,ft,it.r,it.g,it.b,it.a);mt<st&&(st=mt,at=ot)}this._reds[at]+=it.r,this._greens[at]+=it.g,this._blues[at]+=it.b,this._alphas[at]+=it.a,this._sums[at]++}}_addColor(d){const g=8-this._significantBitsPerChannel,$=1+(d.r>>g),j=1+(d.g>>g),tt=1+(d.b>>g),et=1+(d.a>>g);this._weights[et][$][j][tt]++,this._momentsRed[et][$][j][tt]+=d.r,this._momentsGreen[et][$][j][tt]+=d.g,this._momentsBlue[et][$][j][tt]+=d.b,this._momentsAlpha[et][$][j][tt]+=d.a,this._moments[et][$][j][tt]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],g=[],$=[],j=[],tt=[],et=[],rt=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),nt=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),it=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),at=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),st=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ot=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let lt=0;const ut=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let ct=1;ct<=this._alphaMaxSideIndex;++ct){fillArray3D$1(rt,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(nt,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(it,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(at,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(st,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ot,this._sideSize,this._sideSize,this._sideSize,0);for(let ft=1;ft<=this._maxSideIndex;++ft,++lt){ut.shouldNotify(lt)&&(yield{progress:ut.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1($,this._sideSize,0),fillArray1D$1(j,this._sideSize,0),fillArray1D$1(tt,this._sideSize,0),fillArray1D$1(et,this._sideSize,0);for(let mt=1;mt<=this._maxSideIndex;++mt){let dt=0,ht=0,pt=0,gt=0,_t=0,Et=0;for(let yt=1;yt<=this._maxSideIndex;++yt)dt+=this._weights[ct][ft][mt][yt],ht+=this._momentsRed[ct][ft][mt][yt],pt+=this._momentsGreen[ct][ft][mt][yt],gt+=this._momentsBlue[ct][ft][mt][yt],_t+=this._momentsAlpha[ct][ft][mt][yt],Et+=this._moments[ct][ft][mt][yt],d[yt]+=dt,g[yt]+=ht,$[yt]+=pt,j[yt]+=gt,tt[yt]+=_t,et[yt]+=Et,rt[ft][mt][yt]=rt[ft-1][mt][yt]+d[yt],nt[ft][mt][yt]=nt[ft-1][mt][yt]+g[yt],it[ft][mt][yt]=it[ft-1][mt][yt]+$[yt],at[ft][mt][yt]=at[ft-1][mt][yt]+j[yt],st[ft][mt][yt]=st[ft-1][mt][yt]+tt[yt],ot[ft][mt][yt]=ot[ft-1][mt][yt]+et[yt],this._weights[ct][ft][mt][yt]=this._weights[ct-1][ft][mt][yt]+rt[ft][mt][yt],this._momentsRed[ct][ft][mt][yt]=this._momentsRed[ct-1][ft][mt][yt]+nt[ft][mt][yt],this._momentsGreen[ct][ft][mt][yt]=this._momentsGreen[ct-1][ft][mt][yt]+it[ft][mt][yt],this._momentsBlue[ct][ft][mt][yt]=this._momentsBlue[ct-1][ft][mt][yt]+at[ft][mt][yt],this._momentsAlpha[ct][ft][mt][yt]=this._momentsAlpha[ct-1][ft][mt][yt]+st[ft][mt][yt],this._moments[ct][ft][mt][yt]=this._moments[ct-1][ft][mt][yt]+ot[ft][mt][yt]}}}}static _volumeFloat(d,g){return g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,g){return 0|_WuQuant$1._volumeFloat(d,g)}static _top(d,g,$,j){let tt;switch(g){case _WuQuant$1._alpha:tt=j[$][d.redMaximum][d.greenMaximum][d.blueMaximum]-j[$][d.redMaximum][d.greenMinimum][d.blueMaximum]-j[$][d.redMinimum][d.greenMaximum][d.blueMaximum]+j[$][d.redMinimum][d.greenMinimum][d.blueMaximum]-(j[$][d.redMaximum][d.greenMaximum][d.blueMinimum]-j[$][d.redMaximum][d.greenMinimum][d.blueMinimum]-j[$][d.redMinimum][d.greenMaximum][d.blueMinimum]+j[$][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:tt=j[d.alphaMaximum][$][d.greenMaximum][d.blueMaximum]-j[d.alphaMaximum][$][d.greenMinimum][d.blueMaximum]-j[d.alphaMinimum][$][d.greenMaximum][d.blueMaximum]+j[d.alphaMinimum][$][d.greenMinimum][d.blueMaximum]-(j[d.alphaMaximum][$][d.greenMaximum][d.blueMinimum]-j[d.alphaMaximum][$][d.greenMinimum][d.blueMinimum]-j[d.alphaMinimum][$][d.greenMaximum][d.blueMinimum]+j[d.alphaMinimum][$][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:tt=j[d.alphaMaximum][d.redMaximum][$][d.blueMaximum]-j[d.alphaMaximum][d.redMinimum][$][d.blueMaximum]-j[d.alphaMinimum][d.redMaximum][$][d.blueMaximum]+j[d.alphaMinimum][d.redMinimum][$][d.blueMaximum]-(j[d.alphaMaximum][d.redMaximum][$][d.blueMinimum]-j[d.alphaMaximum][d.redMinimum][$][d.blueMinimum]-j[d.alphaMinimum][d.redMaximum][$][d.blueMinimum]+j[d.alphaMinimum][d.redMinimum][$][d.blueMinimum]);break;case _WuQuant$1._blue:tt=j[d.alphaMaximum][d.redMaximum][d.greenMaximum][$]-j[d.alphaMaximum][d.redMaximum][d.greenMinimum][$]-j[d.alphaMaximum][d.redMinimum][d.greenMaximum][$]+j[d.alphaMaximum][d.redMinimum][d.greenMinimum][$]-(j[d.alphaMinimum][d.redMaximum][d.greenMaximum][$]-j[d.alphaMinimum][d.redMaximum][d.greenMinimum][$]-j[d.alphaMinimum][d.redMinimum][d.greenMaximum][$]+j[d.alphaMinimum][d.redMinimum][d.greenMinimum][$]);break;default:throw new Error("impossible")}return 0|tt}static _bottom(d,g,$){switch(g){case _WuQuant$1._alpha:return-$[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-$[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-$[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-$[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-$[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-$[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-$[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+$[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-$[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const g=_WuQuant$1._volume(d,this._momentsRed),$=_WuQuant$1._volume(d,this._momentsGreen),j=_WuQuant$1._volume(d,this._momentsBlue),tt=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(g*g+$*$+j*j+tt*tt)/_WuQuant$1._volume(d,this._weights)}_maximize(d,g,$,j,tt,et,rt,nt,it){const at=0|_WuQuant$1._bottom(d,g,this._momentsRed),st=0|_WuQuant$1._bottom(d,g,this._momentsGreen),ot=0|_WuQuant$1._bottom(d,g,this._momentsBlue),lt=0|_WuQuant$1._bottom(d,g,this._momentsAlpha),ut=0|_WuQuant$1._bottom(d,g,this._weights);let ct=0,ft=-1;for(let mt=$;mt<j;++mt){let dt=at+_WuQuant$1._top(d,g,mt,this._momentsRed),ht=st+_WuQuant$1._top(d,g,mt,this._momentsGreen),pt=ot+_WuQuant$1._top(d,g,mt,this._momentsBlue),gt=lt+_WuQuant$1._top(d,g,mt,this._momentsAlpha),_t=ut+_WuQuant$1._top(d,g,mt,this._weights);if(_t!==0){let Et=dt*dt+ht*ht+pt*pt+gt*gt,yt=Et/_t;dt=tt-dt,ht=et-ht,pt=rt-pt,gt=nt-gt,_t=it-_t,_t!==0&&(Et=dt*dt+ht*ht+pt*pt+gt*gt,yt+=Et/_t,yt>ct&&(ct=yt,ft=mt))}}return{max:ct,position:ft}}_cut(d,g){let $;const j=_WuQuant$1._volume(d,this._momentsRed),tt=_WuQuant$1._volume(d,this._momentsGreen),et=_WuQuant$1._volume(d,this._momentsBlue),rt=_WuQuant$1._volume(d,this._momentsAlpha),nt=_WuQuant$1._volume(d,this._weights),it=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,j,tt,et,rt,nt),at=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,j,tt,et,rt,nt),st=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,j,tt,et,rt,nt),ot=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,j,tt,et,rt,nt);if(ot.max>=it.max&&ot.max>=at.max&&ot.max>=st.max){if($=_WuQuant$1._alpha,ot.position<0)return!1}else $=it.max>=ot.max&&it.max>=at.max&&it.max>=st.max?_WuQuant$1._red:at.max>=ot.max&&at.max>=it.max&&at.max>=st.max?_WuQuant$1._green:_WuQuant$1._blue;switch(g.redMaximum=d.redMaximum,g.greenMaximum=d.greenMaximum,g.blueMaximum=d.blueMaximum,g.alphaMaximum=d.alphaMaximum,$){case _WuQuant$1._red:g.redMinimum=d.redMaximum=it.position,g.greenMinimum=d.greenMinimum,g.blueMinimum=d.blueMinimum,g.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:g.greenMinimum=d.greenMaximum=at.position,g.redMinimum=d.redMinimum,g.blueMinimum=d.blueMinimum,g.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:g.blueMinimum=d.blueMaximum=st.position,g.redMinimum=d.redMinimum,g.greenMinimum=d.greenMinimum,g.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:g.alphaMinimum=d.alphaMaximum=ot.position,g.blueMinimum=d.blueMinimum,g.redMinimum=d.redMinimum,g.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),g.volume=(g.redMaximum-g.redMinimum)*(g.greenMaximum-g.greenMinimum)*(g.blueMaximum-g.blueMinimum)*(g.alphaMaximum-g.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let g=0;g<d;g++)this._cubes[g]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let g=0;g<256;++g)this._table[g]=g*g;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,g){for(const $ of this.quantize(d,g))if($.pointContainer)return $.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,g){const $=d.getPointArray(),j=d.getWidth(),tt=d.getHeight(),et=new ProgressTracker$1(tt,99);for(let rt=0;rt<tt;rt++){et.shouldNotify(rt)&&(yield{progress:et.progress});for(let nt=0,it=rt*j;nt<j;nt++,it++){const at=$[it];at.from(g.getNearestColor(this._distance,at))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,g,$=!0,j=0,tt=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(g),this._distance=d,this._minColorDistance=j,this._serpentine=$,this._calculateErrorLikeGIMP=tt}*quantize(d,g){const $=d.getPointArray(),j=new Point$1,tt=d.getWidth(),et=d.getHeight(),rt=[];let nt=1,it=1;for(const st of this._kernel){const ot=st[2]+1;it<ot&&(it=ot)}for(let st=0;st<it;st++)this._fillErrorLine(rt[st]=[],tt);const at=new ProgressTracker$1(et,99);for(let st=0;st<et;st++){at.shouldNotify(st)&&(yield{progress:at.progress}),this._serpentine&&(nt*=-1);const ot=st*tt,lt=nt===1?0:tt-1,ut=nt===1?tt:-1;this._fillErrorLine(rt[0],tt),rt.push(rt.shift());const ct=rt[0];for(let ft=lt,mt=ot+lt;ft!==ut;ft+=nt,mt+=nt){const dt=$[mt],ht=ct[ft];j.from(dt);const pt=Point$1.createByRGBA(inRange0to255Rounded$1(dt.r+ht[0]),inRange0to255Rounded$1(dt.g+ht[1]),inRange0to255Rounded$1(dt.b+ht[2]),inRange0to255Rounded$1(dt.a+ht[3])),gt=g.getNearestColor(this._distance,pt);if(dt.from(gt),this._minColorDistance&&this._distance.calculateNormalized(j,gt)<this._minColorDistance)continue;let _t,Et,yt,St;this._calculateErrorLikeGIMP?(_t=pt.r-gt.r,Et=pt.g-gt.g,yt=pt.b-gt.b,St=pt.a-gt.a):(_t=j.r-gt.r,Et=j.g-gt.g,yt=j.b-gt.b,St=j.a-gt.a);const wt=nt===1?0:this._kernel.length-1,kt=nt===1?this._kernel.length:-1;for(let bt=wt;bt!==kt;bt+=nt){const Tt=this._kernel[bt][1]*nt,Dt=this._kernel[bt][2];if(Tt+ft>=0&&Tt+ft<tt&&Dt+st>=0&&Dt+st<et){const $t=this._kernel[bt][0],At=rt[Dt][Tt+ft];At[0]+=_t*$t,At[1]+=Et*$t,At[2]+=yt*$t,At[3]+=St*$t}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,g){d.length>g&&(d.length=g);const $=d.length;for(let j=0;j<$;j++){const tt=d[j];tt[0]=tt[1]=tt[2]=tt[3]=0}for(let j=$;j<g;j++)d[j]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,g,$){const j=Math.max(d,g),tt={width:d,height:g,level:Math.floor(Math.log(j)/Math.log(2)+1),callback:$,tracker:new ProgressTracker$1(d*g,99),index:0,x:0,y:0};yield*walkHilbert$1(tt,1),visit$1(tt,0)}function*walkHilbert$1(d,g){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,g){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,g){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),g){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,g=16,$=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=g,this._weights=ErrorDiffusionRiemersma$1._createWeights($,g)}*quantize(d,g){const $=d.getPointArray(),j=d.getWidth(),tt=d.getHeight(),et=[];let rt=0;for(let nt=0;nt<this._errorQueueSize;nt++)et[nt]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(j,tt,(nt,it)=>{const at=$[nt+it*j];let{r:st,g:ot,b:lt,a:ut}=at;for(let dt=0;dt<this._errorQueueSize;dt++){const ht=this._weights[dt],pt=et[(dt+rt)%this._errorQueueSize];st+=pt.r*ht,ot+=pt.g*ht,lt+=pt.b*ht,ut+=pt.a*ht}const ct=Point$1.createByRGBA(inRange0to255Rounded$1(st),inRange0to255Rounded$1(ot),inRange0to255Rounded$1(lt),inRange0to255Rounded$1(ut)),ft=g.getNearestColor(this._distance,ct);rt=(rt+1)%this._errorQueueSize;const mt=(rt+this._errorQueueSize-1)%this._errorQueueSize;et[mt].r=at.r-ft.r,et[mt].g=at.g-ft.g,et[mt].b=at.b-ft.b,et[mt].a=at.a-ft.a,at.from(ft)}),yield{pointContainer:d,progress:100}}static _createWeights(d,g){const $=[],j=Math.exp(Math.log(g)/(g-1));for(let tt=0,et=1;tt<g;tt++)$[tt]=(et+.5|0)/g*d,et*=j;return $}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,g){if(d.getHeight()!==g.getHeight()||d.getWidth()!==g.getWidth())throw new Error("Images have different sizes!");const $=(255*K1$1)**2,j=(255*K2$1)**2;let tt=0,et=0;return iterate$1(d,g,(rt,nt,it,at)=>{let st=0,ot=0,lt=0;for(let ct=0;ct<rt.length;ct++)ot+=(rt[ct]-it)**2,lt+=(nt[ct]-at)**2,st+=(rt[ct]-it)*(nt[ct]-at);const ut=rt.length-1;ot/=ut,lt/=ut,st/=ut,et+=(2*it*at+$)*(2*st+j)/((it**2+at**2+$)*(ot+lt+j)),tt++}),et/tt}function iterate$1(d,g,$){const j=d.getWidth(),tt=d.getHeight();for(let et=0;et<tt;et+=8)for(let rt=0;rt<j;rt+=8){const nt=Math.min(8,j-rt),it=Math.min(8,tt-et),at=calculateLumaValuesForWindow$1(d,rt,et,nt,it),st=calculateLumaValuesForWindow$1(g,rt,et,nt,it);$(at,st,calculateAverageLuma$1(at),calculateAverageLuma$1(st))}}function calculateLumaValuesForWindow$1(d,g,$,j,tt){const et=d.getPointArray(),rt=[];let nt=0;for(let it=$;it<$+tt;it++){const at=it*d.getWidth();for(let st=g;st<g+j;st++){const ot=et[at+st];rt[nt]=.2126*ot.r+.7152*ot.g+.0722*ot.b,nt++}}return rt}function calculateAverageLuma$1(d){let g=0;for(const $ of d)g+=$;return g/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:g,paletteQuantization:$,colors:j}={}){const tt=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(g),$,j);return d.forEach(et=>tt.sample(et)),tt.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:g,paletteQuantization:$,colors:j,onProgress:tt}={}){return new Promise((et,rt)=>{const nt=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(g),$,j);let it;d.forEach(ot=>nt.sample(ot));const at=nt.quantize(),st=()=>{try{const ot=at.next();ot.done?et(it):(ot.value.palette&&(it=ot.value.palette),tt&&tt(ot.value.progress),setImmediateImpl(st))}catch(ot){rt(ot)}};setImmediateImpl(st)})}function applyPaletteSync$1(d,g,{colorDistanceFormula:$,imageQuantization:j}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1($),j).quantizeSync(d,g)}async function applyPalette(d,g,{colorDistanceFormula:$,imageQuantization:j,onProgress:tt}={}){return new Promise((et,rt)=>{let nt;const it=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1($),j).quantize(d,g),at=()=>{try{const st=it.next();st.done?et(nt):(st.value.pointContainer&&(nt=st.value.pointContainer),tt&&tt(st.value.progress),setImmediateImpl(at))}catch(st){rt(st)}};setImmediateImpl(at)})}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,g="floyd-steinberg"){switch(g){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${g}`)}}function paletteQuantizationToPaletteQuantizer$1(d,g="wuquant",$=256){switch(g){case"neuquant":return new NeuQuant$1(d,$);case"rgbquant":return new RGBQuant$1(d,$);case"wuquant":return new WuQuant$1(d,$);case"neuquant-float":return new NeuQuantFloat$1(d,$);default:throw new Error(`Unknown paletteQuantization ${g}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Gr extends BitmapImage$1{constructor(...g){if(super(...g),g[0]instanceof Gr){const $=g[0];this.xOffset=$.xOffset,this.yOffset=$.yOffset,this.disposalMethod=$.disposalMethod,this.delayCentisecs=$.delayCentisecs,this.interlaced=$.interlaced}else{const $=g[g.length-1];let j={};typeof $!="object"||$ instanceof BitmapImage$1||(j=$),this.xOffset=j.xOffset||0,this.yOffset=j.yOffset||0,this.disposalMethod=j.disposalMethod!==void 0?j.disposalMethod:Gr.DisposeToBackgroundColor,this.delayCentisecs=j.delayCentisecs||8,this.interlaced=j.interlaced||!1}}getPalette(){const g=new Set,$=this.bitmap.data;let j=0,tt=!1;for(;j<$.length;){if($[j+3]===0)tt=!0;else{const it=$.readUInt32BE(j,!0)>>8&16777215;g.add(it)}j+=4}const et=new Array(g.size),rt=g.values();for(j=0;j<et.length;++j)et[j]=rt.next().value;et.sort((it,at)=>it-at);let nt=et.length;return tt&&++nt,{colors:et,usesTransparency:tt,indexCount:nt}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(d){const g=require$$0$1,$=imageQ,j=bitmapimage,{GifFrame:tt}=gifframe,{GifError:et}=gif$1,{GifCodec:rt}=requireGifcodec(),nt=[".jpg",".jpeg",".png",".bmp"],it=new rt;function at(st,ot,lt,ut,ct){const ft=Array.isArray(st)?st:[st];if(ct){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(ct.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${ct.ditherAlgorithm}'`);ct.serpentine===void 0&&(ct.serpentine=!0),ct.minimumColorDistanceToDither===void 0&&(ct.minimumColorDistanceToDither=0),ct.calculateErrorLikeGIMP===void 0&&(ct.calculateErrorLikeGIMP=!1)}const mt=new $.distance.Euclidean,dt=new $.palette[ot](mt,lt,ut);let ht;ht=ct?new $.image.ErrorDiffusionArray(mt,$.image.ErrorDiffusionArrayKernel[ct.ditherAlgorithm],ct.serpentine,ct.minimumColorDistanceToDither,ct.calculateErrorLikeGIMP):new $.image.NearestColor(mt);const pt=[];ft.forEach(_t=>{const Et=_t.bitmap.data,yt=new ArrayBuffer(Et.length),St=new Uint32Array(yt);for(let kt=0,bt=0;kt<Et.length;kt+=4,++bt)St[bt]=Et.readUInt32LE(kt,!0);const wt=$.utils.PointContainer.fromUint32Array(St,_t.bitmap.width,_t.bitmap.height);dt.sample(wt),pt.push(wt)});const gt=dt.quantizeSync();for(let _t=0;_t<ft.length;++_t){const Et=ft[_t].bitmap.data,yt=ht.quantizeSync(pt[_t],gt).toUint32Array();for(let St=0,wt=0;St<Et.length;St+=4,++wt)Et.writeUInt32LE(yt[wt],St)}}d.cloneFrames=function(st){let ot=[];return st.forEach(lt=>{ot.push(new tt(lt))}),ot},d.getColorInfo=function(st,ot){let lt=!1;const ut=[];for(let ht=0;ht<st.length;++ht){let pt=st[ht].getPalette();if(pt.usesTransparency&&(lt=!0),pt.indexCount>256)throw new et(`Frame ${ht} uses more than 256 color indexes`);ut.push(pt)}if(ot===0)return{usesTransparency:lt,palettes:ut};const ct=new Set;ut.forEach(ht=>{ht.colors.forEach(pt=>{ct.add(pt)})});let ft=ct.size;if(lt&&++ft,ot&&ft>ot)return{usesTransparency:lt,palettes:ut};const mt=new Array(ct.size),dt=ct.values();for(let ht=0;ht<mt.length;++ht)mt[ht]=dt.next().value;return mt.sort((ht,pt)=>ht-pt),{colors:mt,indexCount:ft,usesTransparency:lt,palettes:ut}},d.copyAsJimp=function(st,ot){return d.shareAsJimp(st,new j(ot))},d.getMaxDimensions=function(st){let ot=0,lt=0;return st.forEach(ut=>{const ct=ut.xOffset+ut.bitmap.width;ct>ot&&(ot=ct);const ft=ut.yOffset+ut.bitmap.height;ft>lt&&(lt=ft)}),{maxWidth:ot,maxHeight:lt}},d.quantizeDekker=function(st,ot,lt){at(st,"NeuQuantFloat",ot=ot||256,0,lt)},d.quantizeSorokin=function(st,ot,lt,ut){let ct;switch(ot=ot||256,lt=lt||"min-pop"){case"min-pop":ct=2;break;case"top-pop":ct=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${lt}'`)}at(st,"RGBQuant",ot,ct,ut)},d.quantizeWu=function(st,ot,lt,ut){if(ot=ot||256,(lt=lt||5)<1||lt>8)throw new Error("Invalid quantization quality");at(st,"WuQuant",ot,lt,ut)},d.read=function(st,ot){return ot=ot||it,Buffer.isBuffer(st)?ot.decodeGif(st):function(lt){return new Promise((ut,ct)=>{g.readFile(lt,(ft,mt)=>ft?ct(ft):ut(mt))})}(st).then(lt=>ot.decodeGif(lt))},d.shareAsJimp=function(st,ot){const lt=new st(ot.bitmap.width,ot.bitmap.height,0);return lt.bitmap.data=ot.bitmap.data,lt},d.write=function(st,ot,lt,ut){ut=ut||it;const ct=st.match(/\.[a-zA-Z]+$/);if(ct!==null&&nt.includes(ct[0].toLowerCase()))throw new Error(`GIF '${st}' has an unexpected suffix`);return ut.encodeGif(ot,lt).then(ft=>function(mt,dt){return new Promise((ht,pt)=>{g.writeFile(mt,dt,gt=>gt?pt(gt):ht())})}(st,ft.buffer).then(()=>ft))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:g,GifError:$}=gif$1;function j(){const ot=requireGifutil();return j=function(){return ot},ot}const{GifFrame:tt}=gifframe;function et(ot,lt){const ut=ot.indexOf(lt);return ut===-1?null:ut}function rt(ot,lt){for(var ut,ct=0,ft=ot.length-1;ct<=ft;)if(ot[ut=Math.floor((ct+ft)/2)]>lt)ft=ut-1;else{if(!(ot[ut]<lt))return ut;ct=ut+1}return null}function nt(ot){const lt=ot.colors;ot.usesTransparency&&lt.push(0);const ut=lt.length;let ct=2;for(;ut>ct;)ct<<=1;lt.length=ct,lt.fill(0,ut)}function it(ot,lt){let ut=ot.bitmap.width*ot.bitmap.height;return ut=Math.ceil(ut*lt/8),ut+=Math.ceil(ut/255),100+ut+768}function at(ot){let lt=ot.indexCount,ut=0;for(--lt;lt;)++ut,lt>>=1;return ut>0?ut:1}function st(ot,lt,ut,ct,ft){if(ut.interlaced)throw new $("writing interlaced GIFs is not supported");const mt=function(ht,pt,gt){const _t=gt.colors,Et=_t.length<=8?et:rt,yt=pt.bitmap.data,St=new Buffer(yt.length/4);let wt=_t.length,kt=0,bt=0;for(;kt<yt.length;){if(yt[kt+3]!==0){const Tt=yt.readUInt32BE(kt,!0)>>8&16777215;St[bt]=Et(_t,Tt)}else St[bt]=wt;kt+=4,++bt}if(gt.usesTransparency){if(wt===256)throw new $(`Frame ${ht} already has 256 colorsand so can't use transparency`)}else wt=null;return{buffer:St,transparentIndex:wt}}(lt,ut,ct),dt={delay:ut.delayCentisecs,disposal:ut.disposalMethod,transparent:mt.transparentIndex};ft&&(nt(ct),dt.palette=ct.colors);try{let ht,pt=ot.getOutputBuffer(),gt=ot.getOutputBufferPosition(),_t=!0;for(;_t;)if(ht=ot.addFrame(ut.xOffset,ut.yOffset,ut.bitmap.width,ut.bitmap.height,mt.buffer,dt),_t=!1,ht>=pt.length-1){const Et=new Buffer(1.5*pt.length);pt.copy(Et),ot.setOutputBuffer(Et),ot.setOutputBufferPosition(gt),pt=Et,_t=!0}return pt}catch(ht){throw new $(ht)}}return gifcodec.GifCodec=class{constructor(ot={}){this._transparentRGB=null,typeof ot.transparentRGB=="number"&&ot.transparentRGB!==0&&(this._transparentRGBA=256*ot.transparentRGB),this._testInitialBufferSize=0}decodeGif(ot){try{let lt;try{lt=new d.GifReader(ot)}catch(mt){throw new $(mt)}const ut=lt.numFrames(),ct=[],ft={width:lt.width,height:lt.height,loops:lt.loopCount(),usesTransparency:!1};for(let mt=0;mt<ut;++mt){const dt=this._decodeFrame(lt,mt,ft.usesTransparency);ct.push(dt.frame),dt.usesTransparency&&(ft.usesTransparency=!0)}return Promise.resolve(new g(ot,ct,ft))}catch(lt){return Promise.reject(lt)}}encodeGif(ot,lt={}){try{if(ot===null||ot.length===0)throw new $("there are no frames");const ut=j().getMaxDimensions(ot);return(lt=Object.assign({},lt)).width=ut.maxWidth,lt.height=ut.maxHeight,lt.loops===void 0&&(lt.loops=0),lt.colorScope=lt.colorScope||g.GlobalColorsPreferred,Promise.resolve(this._encodeGif(ot,lt))}catch(ut){return Promise.reject(ut)}}_decodeFrame(ot,lt,ut){let ct,ft;try{if(ct=ot.frameInfo(lt),ft=new Buffer(ot.width*ot.height*4),ot.decodeAndBlitFrameRGBA(lt,ft),ct.width!==ot.width||ct.height!==ot.height){if(ct.y&&(ft=ft.slice(ct.y*ot.width*4)),ot.width>ct.width)for(let dt=0;dt<ct.height;++dt)ft.copy(ft,dt*ct.width*4,4*(ct.x+dt*ot.width),4*(ct.x+dt*ot.width)+4*ct.width);ft=ft.slice(0,ct.width*ct.height*4)}}catch(dt){throw new $(dt)}let mt=!1;if(this._transparentRGBA===null){if(!ut)for(let dt=3;dt<ft.length;dt+=4)ft[dt]===0&&(mt=!0,dt=ft.length)}else for(let dt=3;dt<ft.length;dt+=4)ft[dt]===0&&(ft.writeUInt32BE(this._transparentRGBA,dt-3),mt=!0);return{frame:new tt(ct.width,ct.height,ft,{xOffset:ct.x,yOffset:ct.y,disposalMethod:ct.disposal,interlaced:ct.interlaced,delayCentisecs:ct.delay}),usesTransparency:mt}}_encodeGif(ot,lt){let ut;if(lt.colorScope===g.LocalColorsOnly)ut=j().getColorInfo(ot,0);else if(ut=j().getColorInfo(ot,256),!ut.colors){if(lt.colorScope===g.GlobalColorsOnly)throw new $("Too many color indexes for global color table");lt.colorScope=g.LocalColorsOnly}lt.usesTransparency=ut.usesTransparency;const ct=ut.palettes;return lt.colorScope===g.LocalColorsOnly?function(ft,mt,dt,ht){const pt={loop:mt.loops};let gt,_t=new Buffer(dt);try{gt=new d.GifWriter(_t,mt.width,mt.height,pt)}catch(Et){throw new $(Et)}for(let Et=0;Et<ft.length;++Et)_t=st(gt,Et,ft[Et],ht[Et],!0);return new g(_t.slice(0,gt.end()),ft,mt)}(ot,lt,2e3,ct):function(ft,mt,dt,ht){const pt={colors:ht.colors.slice(),usesTransparency:ht.usesTransparency};nt(pt);const gt={palette:pt.colors,loop:mt.loops};let _t,Et=new Buffer(dt);try{_t=new d.GifWriter(Et,mt.width,mt.height,gt)}catch(yt){throw new $(yt)}for(let yt=0;yt<ft.length;++yt)Et=st(_t,yt,ft[yt],ht,!1);return new g(Et.slice(0,_t.end()),ft,mt)}(ot,lt,2e3,ut)}_getSizeEstimateGlobal(ot,lt){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let ut=968;const ct=at(ot);return lt.forEach(ft=>{ut+=it(ft,ct)}),ut}_getSizeEstimateLocal(ot,lt){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let ut=200;for(let ct=0;ct<lt.length;++ct){const ft=at(ot[ct]);ut+=it(lt[ct],ft)}return ut}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif,GifError:GifError$1}=gif$1,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src$1={BitmapImage,Gif,GifCodec,GifFrame,GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async d=>{const g=new src$1.BitmapImage(d);src$1.GifUtil.quantizeDekker(g,256);const $=new src$1.GifFrame(d);return(await new src$1.GifCodec().encodeGif([$],{})).buffer},decode:d=>{const g=new omggif.GifReader(d),$=Buffer.alloc(g.width*g.height*4);return g.decodeAndBlitFrameRGBA(0,$),{data:$,width:g.width,height:g.height}}}}var encoder={exports:{}};(function(d){function g($){var j,tt,et,rt,nt,it=Math.floor,at=new Array(64),st=new Array(64),ot=new Array(64),lt=new Array(64),ut=new Array(65535),ct=new Array(65535),ft=new Array(64),mt=new Array(64),dt=[],ht=0,pt=7,gt=new Array(64),_t=new Array(64),Et=new Array(64),yt=new Array(256),St=new Array(2048),wt=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],kt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],bt=[0,1,2,3,4,5,6,7,8,9,10,11],Tt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Dt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$t=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],At=[0,1,2,3,4,5,6,7,8,9,10,11],Pt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Kt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ut(Wt,Zt){for(var Qt=0,Xt=0,er=new Array,ir=1;ir<=16;ir++){for(var Yt=1;Yt<=Wt[ir];Yt++)er[Zt[Xt]]=[],er[Zt[Xt]][0]=Qt,er[Zt[Xt]][1]=ir,Xt++,Qt++;Qt*=2}return er}function It(Wt){for(var Zt=Wt[0],Qt=Wt[1]-1;Qt>=0;)Zt&1<<Qt&&(ht|=1<<pt),Qt--,--pt<0&&(ht==255?(jt(255),jt(0)):jt(ht),pt=7,ht=0)}function jt(Wt){dt.push(Wt)}function zt(Wt){jt(Wt>>8&255),jt(255&Wt)}function Ht(Wt,Zt,Qt,Xt,er){for(var ir,Yt=er[0],xt=er[240],qt=function(Ft,rr){var ar,dr,gr,fr,_r,pr,Er,vr,wr,Mr,br=0;for(wr=0;wr<8;++wr){ar=Ft[br],dr=Ft[br+1],gr=Ft[br+2],fr=Ft[br+3],_r=Ft[br+4],pr=Ft[br+5],Er=Ft[br+6];var _e=ar+(vr=Ft[br+7]),mr=ar-vr,nr=dr+Er,ur=dr-Er,Gt=gr+pr,hr=gr-pr,kr=fr+_r,Ct=fr-_r,cr=_e+kr,or=_e-kr,tr=nr+Gt,sr=nr-Gt;Ft[br]=cr+tr,Ft[br+4]=cr-tr;var lr=.707106781*(sr+or);Ft[br+2]=or+lr,Ft[br+6]=or-lr;var Sr=.382683433*((cr=Ct+hr)-(sr=ur+mr)),yr=.5411961*cr+Sr,xr=1.306562965*sr+Sr,Ar=.707106781*(tr=hr+ur),Dr=mr+Ar,Cr=mr-Ar;Ft[br+5]=Cr+yr,Ft[br+3]=Cr-yr,Ft[br+1]=Dr+xr,Ft[br+7]=Dr-xr,br+=8}for(br=0,wr=0;wr<8;++wr){ar=Ft[br],dr=Ft[br+8],gr=Ft[br+16],fr=Ft[br+24],_r=Ft[br+32],pr=Ft[br+40],Er=Ft[br+48];var Ir=ar+(vr=Ft[br+56]),Rr=ar-vr,Br=dr+Er,Lr=dr-Er,jr=gr+pr,$r=gr-pr,Nr=fr+_r,Fr=fr-_r,Or=Ir+Nr,zr=Ir-Nr,Pr=Br+jr,Ur=Br-jr;Ft[br]=Or+Pr,Ft[br+32]=Or-Pr;var Hr=.707106781*(Ur+zr);Ft[br+16]=zr+Hr,Ft[br+48]=zr-Hr;var Wr=.382683433*((Or=Fr+$r)-(Ur=Lr+Rr)),Qr=.5411961*Or+Wr,Vr=1.306562965*Ur+Wr,qr=.707106781*(Pr=$r+Lr),Yr=Rr+qr,Kr=Rr-qr;Ft[br+40]=Kr+Qr,Ft[br+24]=Kr-Qr,Ft[br+8]=Yr+Vr,Ft[br+56]=Yr-Vr,br++}for(wr=0;wr<64;++wr)Mr=Ft[wr]*rr[wr],ft[wr]=Mr>0?Mr+.5|0:Mr-.5|0;return ft}(Wt,Zt),Rt=0;Rt<64;++Rt)mt[wt[Rt]]=qt[Rt];var Nt=mt[0]-Qt;Qt=mt[0],Nt==0?It(Xt[0]):(It(Xt[ct[ir=32767+Nt]]),It(ut[ir]));for(var Bt=63;Bt>0&&mt[Bt]==0;Bt--);if(Bt==0)return It(Yt),Qt;for(var Lt,Jt=1;Jt<=Bt;){for(var vt=Jt;mt[Jt]==0&&Jt<=Bt;++Jt);var Mt=Jt-vt;if(Mt>=16){Lt=Mt>>4;for(var Ot=1;Ot<=Lt;++Ot)It(xt);Mt&=15}ir=32767+mt[Jt],It(er[(Mt<<4)+ct[ir]]),It(ut[ir]),Jt++}return Bt!=63&&It(Yt),Qt}function Vt(Wt){Wt<=0&&(Wt=1),Wt>100&&(Wt=100),nt!=Wt&&(function(Zt){for(var Qt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Xt=0;Xt<64;Xt++){var er=it((Qt[Xt]*Zt+50)/100);er<1?er=1:er>255&&(er=255),at[wt[Xt]]=er}for(var ir=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Yt=0;Yt<64;Yt++){var xt=it((ir[Yt]*Zt+50)/100);xt<1?xt=1:xt>255&&(xt=255),st[wt[Yt]]=xt}for(var qt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Rt=0,Nt=0;Nt<8;Nt++)for(var Bt=0;Bt<8;Bt++)ot[Rt]=1/(at[wt[Rt]]*qt[Nt]*qt[Bt]*8),lt[Rt]=1/(st[wt[Rt]]*qt[Nt]*qt[Bt]*8),Rt++}(Wt<50?Math.floor(5e3/Wt):Math.floor(200-2*Wt)),nt=Wt)}this.encode=function(Wt,Zt){var Qt;new Date().getTime(),Zt&&Vt(Zt),dt=new Array,ht=0,pt=7,zt(65496),zt(65504),zt(16),jt(74),jt(70),jt(73),jt(70),jt(0),jt(1),jt(1),jt(0),zt(1),zt(1),jt(0),jt(0),(Qt=Wt.comments)!==void 0&&Qt.constructor===Array&&Qt.forEach(gr=>{if(typeof gr=="string"){zt(65534);var fr,_r=gr.length;for(zt(_r+2),fr=0;fr<_r;fr++)jt(gr.charCodeAt(fr))}}),function(gr){if(gr){zt(65505),gr[0]===69&&gr[1]===120&&gr[2]===105&&gr[3]===102?zt(gr.length+2):(zt(gr.length+5+2),jt(69),jt(120),jt(105),jt(102),jt(0));for(var fr=0;fr<gr.length;fr++)jt(gr[fr])}}(Wt.exifBuffer),function(){zt(65499),zt(132),jt(0);for(var gr=0;gr<64;gr++)jt(at[gr]);jt(1);for(var fr=0;fr<64;fr++)jt(st[fr])}(),function(gr,fr){zt(65472),zt(17),jt(8),zt(fr),zt(gr),jt(3),jt(1),jt(17),jt(0),jt(2),jt(17),jt(1),jt(3),jt(17),jt(1)}(Wt.width,Wt.height),function(){zt(65476),zt(418),jt(0);for(var gr=0;gr<16;gr++)jt(kt[gr+1]);for(var fr=0;fr<=11;fr++)jt(bt[fr]);jt(16);for(var _r=0;_r<16;_r++)jt(Tt[_r+1]);for(var pr=0;pr<=161;pr++)jt(Dt[pr]);jt(1);for(var Er=0;Er<16;Er++)jt($t[Er+1]);for(var vr=0;vr<=11;vr++)jt(At[vr]);jt(17);for(var wr=0;wr<16;wr++)jt(Pt[wr+1]);for(var Mr=0;Mr<=161;Mr++)jt(Kt[Mr])}(),zt(65498),zt(12),jt(3),jt(1),jt(0),jt(2),jt(17),jt(3),jt(17),jt(0),jt(63),jt(0);var Xt=0,er=0,ir=0;ht=0,pt=7,this.encode.displayName="_encode_";for(var Yt,xt,qt,Rt,Nt,Bt,Lt,Jt,vt,Mt=Wt.data,Ot=Wt.width,Ft=Wt.height,rr=4*Ot,ar=0;ar<Ft;){for(Yt=0;Yt<rr;){for(Bt=Nt=rr*ar+Yt,Lt=-1,Jt=0,vt=0;vt<64;vt++)Bt=Nt+(Jt=vt>>3)*rr+(Lt=4*(7&vt)),ar+Jt>=Ft&&(Bt-=rr*(ar+1+Jt-Ft)),Yt+Lt>=rr&&(Bt-=Yt+Lt-rr+4),xt=Mt[Bt++],qt=Mt[Bt++],Rt=Mt[Bt++],gt[vt]=(St[xt]+St[qt+256|0]+St[Rt+512|0]>>16)-128,_t[vt]=(St[xt+768|0]+St[qt+1024|0]+St[Rt+1280|0]>>16)-128,Et[vt]=(St[xt+1280|0]+St[qt+1536|0]+St[Rt+1792|0]>>16)-128;Xt=Ht(gt,ot,Xt,j,et),er=Ht(_t,lt,er,tt,rt),ir=Ht(Et,lt,ir,tt,rt),Yt+=32}ar+=8}if(pt>=0){var dr=[];dr[1]=pt+1,dr[0]=(1<<pt+1)-1,It(dr)}return zt(65497),Buffer.from(dt)},new Date().getTime(),$||($=50),function(){for(var Wt=String.fromCharCode,Zt=0;Zt<256;Zt++)yt[Zt]=Wt(Zt)}(),j=Ut(kt,bt),tt=Ut($t,At),et=Ut(Tt,Dt),rt=Ut(Pt,Kt),function(){for(var Wt=1,Zt=2,Qt=1;Qt<=15;Qt++){for(var Xt=Wt;Xt<Zt;Xt++)ct[32767+Xt]=Qt,ut[32767+Xt]=[],ut[32767+Xt][1]=Qt,ut[32767+Xt][0]=Xt;for(var er=-(Zt-1);er<=-Wt;er++)ct[32767+er]=Qt,ut[32767+er]=[],ut[32767+er][1]=Qt,ut[32767+er][0]=Zt-1+er;Wt<<=1,Zt<<=1}}(),function(){for(var Wt=0;Wt<256;Wt++)St[Wt]=19595*Wt,St[Wt+256|0]=38470*Wt,St[Wt+512|0]=7471*Wt+32768,St[Wt+768|0]=-11059*Wt,St[Wt+1024|0]=-21709*Wt,St[Wt+1280|0]=32768*Wt+8421375,St[Wt+1536|0]=-27439*Wt,St[Wt+1792|0]=-5329*Wt}(),Vt($),new Date().getTime()}encoder.exports=function($,j){j===void 0&&(j=50);var tt=new g(j),et=tt.encode($,j);return{data:et,width:$.width,height:$.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),g=4017,$=799,j=3406,tt=2276,et=1567,rt=3784,nt=5793,it=2896;function at(){}function st(dt,ht){for(var pt,gt,_t=0,Et=[],yt=16;yt>0&&!dt[yt-1];)yt--;Et.push({children:[],index:0});var St,wt=Et[0];for(pt=0;pt<yt;pt++){for(gt=0;gt<dt[pt];gt++){for((wt=Et.pop()).children[wt.index]=ht[_t];wt.index>0;){if(Et.length===0)throw new Error("Could not recreate Huffman Table");wt=Et.pop()}for(wt.index++,Et.push(wt);Et.length<=pt;)Et.push(St={children:[],index:0}),wt.children[wt.index]=St.children,wt=St;_t++}pt+1<yt&&(Et.push(St={children:[],index:0}),wt.children[wt.index]=St.children,wt=St)}return Et[0].children}function ot(dt,ht,pt,gt,_t,Et,yt,St,wt,kt){pt.precision,pt.samplesPerLine,pt.scanLines;var bt=pt.mcusPerLine,Tt=pt.progressive;pt.maxH,pt.maxV;var Dt=ht,$t=0,At=0;function Pt(){if(At>0)return At--,$t>>At&1;if(($t=dt[ht++])==255){var Jt=dt[ht++];if(Jt)throw new Error("unexpected marker: "+($t<<8|Jt).toString(16))}return At=7,$t>>>7}function Kt(Jt){for(var vt,Mt=Jt;(vt=Pt())!==null;){if(typeof(Mt=Mt[vt])=="number")return Mt;if(typeof Mt!="object")throw new Error("invalid huffman sequence")}return null}function Ut(Jt){for(var vt=0;Jt>0;){var Mt=Pt();if(Mt===null)return;vt=vt<<1|Mt,Jt--}return vt}function It(Jt){var vt=Ut(Jt);return vt>=1<<Jt-1?vt:vt+(-1<<Jt)+1}var jt,zt=0,Ht=0;function Vt(Jt,vt,Mt,Ot,Ft){var rr=Mt%bt,ar=(Mt/bt|0)*Jt.v+Ot,dr=rr*Jt.h+Ft;Jt.blocks[ar]===void 0&&kt.tolerantDecoding||vt(Jt,Jt.blocks[ar][dr])}function Wt(Jt,vt,Mt){var Ot=Mt/Jt.blocksPerLine|0,Ft=Mt%Jt.blocksPerLine;Jt.blocks[Ot]===void 0&&kt.tolerantDecoding||vt(Jt,Jt.blocks[Ot][Ft])}var Zt,Qt,Xt,er,ir,Yt,xt=gt.length;Yt=Tt?Et===0?St===0?function(Jt,vt){var Mt=Kt(Jt.huffmanTableDC),Ot=Mt===0?0:It(Mt)<<wt;vt[0]=Jt.pred+=Ot}:function(Jt,vt){vt[0]|=Pt()<<wt}:St===0?function(Jt,vt){if(zt>0)zt--;else for(var Mt=Et,Ot=yt;Mt<=Ot;){var Ft=Kt(Jt.huffmanTableAC),rr=15&Ft,ar=Ft>>4;if(rr!==0)vt[d[Mt+=ar]]=It(rr)*(1<<wt),Mt++;else{if(ar<15){zt=Ut(ar)+(1<<ar)-1;break}Mt+=16}}}:function(Jt,vt){for(var Mt=Et,Ot=yt,Ft=0;Mt<=Ot;){var rr=d[Mt],ar=vt[rr]<0?-1:1;switch(Ht){case 0:var dr=Kt(Jt.huffmanTableAC),gr=15&dr;if(Ft=dr>>4,gr===0)Ft<15?(zt=Ut(Ft)+(1<<Ft),Ht=4):(Ft=16,Ht=1);else{if(gr!==1)throw new Error("invalid ACn encoding");jt=It(gr),Ht=Ft?2:3}continue;case 1:case 2:vt[rr]?vt[rr]+=(Pt()<<wt)*ar:--Ft==0&&(Ht=Ht==2?3:0);break;case 3:vt[rr]?vt[rr]+=(Pt()<<wt)*ar:(vt[rr]=jt<<wt,Ht=0);break;case 4:vt[rr]&&(vt[rr]+=(Pt()<<wt)*ar)}Mt++}Ht===4&&--zt==0&&(Ht=0)}:function(Jt,vt){var Mt=Kt(Jt.huffmanTableDC),Ot=Mt===0?0:It(Mt);vt[0]=Jt.pred+=Ot;for(var Ft=1;Ft<64;){var rr=Kt(Jt.huffmanTableAC),ar=15&rr,dr=rr>>4;if(ar!==0)vt[d[Ft+=dr]]=It(ar),Ft++;else{if(dr<15)break;Ft+=16}}};var qt,Rt,Nt,Bt,Lt=0;for(Rt=xt==1?gt[0].blocksPerLine*gt[0].blocksPerColumn:bt*pt.mcusPerColumn,_t||(_t=Rt);Lt<Rt;){for(Qt=0;Qt<xt;Qt++)gt[Qt].pred=0;if(zt=0,xt==1)for(Zt=gt[0],ir=0;ir<_t;ir++)Wt(Zt,Yt,Lt),Lt++;else for(ir=0;ir<_t;ir++){for(Qt=0;Qt<xt;Qt++)for(Nt=(Zt=gt[Qt]).h,Bt=Zt.v,Xt=0;Xt<Bt;Xt++)for(er=0;er<Nt;er++)Vt(Zt,Yt,Lt,Xt,er);if(++Lt===Rt)break}if(Lt===Rt)do{if(dt[ht]===255&&dt[ht+1]!==0)break;ht+=1}while(ht<dt.length-2);if(At=0,(qt=dt[ht]<<8|dt[ht+1])<65280)throw new Error("marker was not found");if(!(qt>=65488&&qt<=65495))break;ht+=2}return ht-Dt}function lt(dt,ht){var pt,gt,_t=[],Et=ht.blocksPerLine,yt=ht.blocksPerColumn,St=Et<<3,wt=new Int32Array(64),kt=new Uint8Array(64);function bt(Ut,It,jt){var zt,Ht,Vt,Wt,Zt,Qt,Xt,er,ir,Yt,xt=ht.quantizationTable,qt=jt;for(Yt=0;Yt<64;Yt++)qt[Yt]=Ut[Yt]*xt[Yt];for(Yt=0;Yt<8;++Yt){var Rt=8*Yt;qt[1+Rt]!=0||qt[2+Rt]!=0||qt[3+Rt]!=0||qt[4+Rt]!=0||qt[5+Rt]!=0||qt[6+Rt]!=0||qt[7+Rt]!=0?(zt=nt*qt[0+Rt]+128>>8,Ht=nt*qt[4+Rt]+128>>8,Vt=qt[2+Rt],Wt=qt[6+Rt],Zt=it*(qt[1+Rt]-qt[7+Rt])+128>>8,er=it*(qt[1+Rt]+qt[7+Rt])+128>>8,Qt=qt[3+Rt]<<4,Xt=qt[5+Rt]<<4,ir=zt-Ht+1>>1,zt=zt+Ht+1>>1,Ht=ir,ir=Vt*rt+Wt*et+128>>8,Vt=Vt*et-Wt*rt+128>>8,Wt=ir,ir=Zt-Xt+1>>1,Zt=Zt+Xt+1>>1,Xt=ir,ir=er+Qt+1>>1,Qt=er-Qt+1>>1,er=ir,ir=zt-Wt+1>>1,zt=zt+Wt+1>>1,Wt=ir,ir=Ht-Vt+1>>1,Ht=Ht+Vt+1>>1,Vt=ir,ir=Zt*tt+er*j+2048>>12,Zt=Zt*j-er*tt+2048>>12,er=ir,ir=Qt*$+Xt*g+2048>>12,Qt=Qt*g-Xt*$+2048>>12,Xt=ir,qt[0+Rt]=zt+er,qt[7+Rt]=zt-er,qt[1+Rt]=Ht+Xt,qt[6+Rt]=Ht-Xt,qt[2+Rt]=Vt+Qt,qt[5+Rt]=Vt-Qt,qt[3+Rt]=Wt+Zt,qt[4+Rt]=Wt-Zt):(ir=nt*qt[0+Rt]+512>>10,qt[0+Rt]=ir,qt[1+Rt]=ir,qt[2+Rt]=ir,qt[3+Rt]=ir,qt[4+Rt]=ir,qt[5+Rt]=ir,qt[6+Rt]=ir,qt[7+Rt]=ir)}for(Yt=0;Yt<8;++Yt){var Nt=Yt;qt[8+Nt]!=0||qt[16+Nt]!=0||qt[24+Nt]!=0||qt[32+Nt]!=0||qt[40+Nt]!=0||qt[48+Nt]!=0||qt[56+Nt]!=0?(zt=nt*qt[0+Nt]+2048>>12,Ht=nt*qt[32+Nt]+2048>>12,Vt=qt[16+Nt],Wt=qt[48+Nt],Zt=it*(qt[8+Nt]-qt[56+Nt])+2048>>12,er=it*(qt[8+Nt]+qt[56+Nt])+2048>>12,Qt=qt[24+Nt],Xt=qt[40+Nt],ir=zt-Ht+1>>1,zt=zt+Ht+1>>1,Ht=ir,ir=Vt*rt+Wt*et+2048>>12,Vt=Vt*et-Wt*rt+2048>>12,Wt=ir,ir=Zt-Xt+1>>1,Zt=Zt+Xt+1>>1,Xt=ir,ir=er+Qt+1>>1,Qt=er-Qt+1>>1,er=ir,ir=zt-Wt+1>>1,zt=zt+Wt+1>>1,Wt=ir,ir=Ht-Vt+1>>1,Ht=Ht+Vt+1>>1,Vt=ir,ir=Zt*tt+er*j+2048>>12,Zt=Zt*j-er*tt+2048>>12,er=ir,ir=Qt*$+Xt*g+2048>>12,Qt=Qt*g-Xt*$+2048>>12,Xt=ir,qt[0+Nt]=zt+er,qt[56+Nt]=zt-er,qt[8+Nt]=Ht+Xt,qt[48+Nt]=Ht-Xt,qt[16+Nt]=Vt+Qt,qt[40+Nt]=Vt-Qt,qt[24+Nt]=Wt+Zt,qt[32+Nt]=Wt-Zt):(ir=nt*jt[Yt+0]+8192>>14,qt[0+Nt]=ir,qt[8+Nt]=ir,qt[16+Nt]=ir,qt[24+Nt]=ir,qt[32+Nt]=ir,qt[40+Nt]=ir,qt[48+Nt]=ir,qt[56+Nt]=ir)}for(Yt=0;Yt<64;++Yt){var Bt=128+(qt[Yt]+8>>4);It[Yt]=Bt<0?0:Bt>255?255:Bt}}mt(St*yt*8);for(var Tt=0;Tt<yt;Tt++){var Dt=Tt<<3;for(pt=0;pt<8;pt++)_t.push(new Uint8Array(St));for(var $t=0;$t<Et;$t++){bt(ht.blocks[Tt][$t],kt,wt);var At=0,Pt=$t<<3;for(gt=0;gt<8;gt++){var Kt=_t[Dt+gt];for(pt=0;pt<8;pt++)Kt[Pt+pt]=kt[At++]}}}return _t}function ut(dt){return dt<0?0:dt>255?255:dt}at.prototype={load:function(dt){var ht=new XMLHttpRequest;ht.open("GET",dt,!0),ht.responseType="arraybuffer",ht.onload=(function(){var pt=new Uint8Array(ht.response||ht.mozResponseArrayBuffer);this.parse(pt),this.onload&&this.onload()}).bind(this),ht.send(null)},parse:function(dt){var ht=1e3*this.opts.maxResolutionInMP*1e3,pt=0;function gt(){var fr=dt[pt]<<8|dt[pt+1];return pt+=2,fr}function _t(fr){var _r,pr,Er=1,vr=1;for(pr in fr.components)fr.components.hasOwnProperty(pr)&&(Er<(_r=fr.components[pr]).h&&(Er=_r.h),vr<_r.v&&(vr=_r.v));var wr=Math.ceil(fr.samplesPerLine/8/Er),Mr=Math.ceil(fr.scanLines/8/vr);for(pr in fr.components)if(fr.components.hasOwnProperty(pr)){_r=fr.components[pr];var br=Math.ceil(Math.ceil(fr.samplesPerLine/8)*_r.h/Er),_e=Math.ceil(Math.ceil(fr.scanLines/8)*_r.v/vr),mr=wr*_r.h,nr=Mr*_r.v,ur=[];mt(nr*mr*256);for(var Gt=0;Gt<nr;Gt++){for(var hr=[],kr=0;kr<mr;kr++)hr.push(new Int32Array(64));ur.push(hr)}_r.blocksPerLine=br,_r.blocksPerColumn=_e,_r.blocks=ur}fr.maxH=Er,fr.maxV=vr,fr.mcusPerLine=wr,fr.mcusPerColumn=Mr}dt.length;var Et,yt,St,wt,kt=null,bt=null,Tt=[],Dt=[],$t=[],At=[],Pt=gt(),Kt=-1;if(this.comments=[],Pt!=65496)throw new Error("SOI not found");for(Pt=gt();Pt!=65497;){switch(Pt){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Ut=(St=void 0,wt=void 0,St=gt(),wt=dt.subarray(pt,pt+St-2),pt+=wt.length,wt);if(Pt===65534){var It=String.fromCharCode.apply(null,Ut);this.comments.push(It)}Pt===65504&&Ut[0]===74&&Ut[1]===70&&Ut[2]===73&&Ut[3]===70&&Ut[4]===0&&(kt={version:{major:Ut[5],minor:Ut[6]},densityUnits:Ut[7],xDensity:Ut[8]<<8|Ut[9],yDensity:Ut[10]<<8|Ut[11],thumbWidth:Ut[12],thumbHeight:Ut[13],thumbData:Ut.subarray(14,14+3*Ut[12]*Ut[13])}),Pt===65505&&Ut[0]===69&&Ut[1]===120&&Ut[2]===105&&Ut[3]===102&&Ut[4]===0&&(this.exifBuffer=Ut.subarray(5,Ut.length)),Pt===65518&&Ut[0]===65&&Ut[1]===100&&Ut[2]===111&&Ut[3]===98&&Ut[4]===101&&Ut[5]===0&&(bt={version:Ut[6],flags0:Ut[7]<<8|Ut[8],flags1:Ut[9]<<8|Ut[10],transformCode:Ut[11]});break;case 65499:for(var jt=gt()+pt-2;pt<jt;){var zt=dt[pt++];mt(256);var Ht=new Int32Array(64);if(zt>>4){if(zt>>4!=1)throw new Error("DQT: invalid table spec");for(dr=0;dr<64;dr++)Ht[d[dr]]=gt()}else for(dr=0;dr<64;dr++)Ht[d[dr]]=dt[pt++];Tt[15&zt]=Ht}break;case 65472:case 65473:case 65474:gt(),(Et={}).extended=Pt===65473,Et.progressive=Pt===65474,Et.precision=dt[pt++],Et.scanLines=gt(),Et.samplesPerLine=gt(),Et.components={},Et.componentsOrder=[];var Vt=Et.scanLines*Et.samplesPerLine;if(Vt>ht){var Wt=Math.ceil((Vt-ht)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Wt}MP`)}var Zt,Qt=dt[pt++];for(rr=0;rr<Qt;rr++){Zt=dt[pt];var Xt=dt[pt+1]>>4,er=15&dt[pt+1],ir=dt[pt+2];if(Xt<=0||er<=0)throw new Error("Invalid sampling factor, expected values above 0");Et.componentsOrder.push(Zt),Et.components[Zt]={h:Xt,v:er,quantizationIdx:ir},pt+=3}_t(Et),Dt.push(Et);break;case 65476:var Yt=gt();for(rr=2;rr<Yt;){var xt=dt[pt++],qt=new Uint8Array(16),Rt=0;for(dr=0;dr<16;dr++,pt++)Rt+=qt[dr]=dt[pt];mt(16+Rt);var Nt=new Uint8Array(Rt);for(dr=0;dr<Rt;dr++,pt++)Nt[dr]=dt[pt];rr+=17+Rt,(xt>>4?$t:At)[15&xt]=st(qt,Nt)}break;case 65501:gt(),yt=gt();break;case 65500:gt(),gt();break;case 65498:gt();var Bt=dt[pt++],Lt=[];for(rr=0;rr<Bt;rr++){gr=Et.components[dt[pt++]];var Jt=dt[pt++];gr.huffmanTableDC=At[Jt>>4],gr.huffmanTableAC=$t[15&Jt],Lt.push(gr)}var vt=dt[pt++],Mt=dt[pt++],Ot=dt[pt++],Ft=ot(dt,pt,Et,Lt,yt,vt,Mt,Ot>>4,15&Ot,this.opts);pt+=Ft;break;case 65535:dt[pt]!==255&&pt--;break;default:if(dt[pt-3]==255&&dt[pt-2]>=192&&dt[pt-2]<=254){pt-=3;break}if(Pt===224||Pt==225){if(Kt!==-1)throw new Error(`first unknown JPEG marker at offset ${Kt.toString(16)}, second unknown JPEG marker ${Pt.toString(16)} at offset ${(pt-1).toString(16)}`);Kt=pt-1;const fr=gt();if(dt[pt+fr-2]===255){pt+=fr-2;break}}throw new Error("unknown JPEG marker "+Pt.toString(16))}Pt=gt()}if(Dt.length!=1)throw new Error("only single frame JPEGs supported");for(var rr=0;rr<Dt.length;rr++){var ar=Dt[rr].components;for(var dr in ar)ar[dr].quantizationTable=Tt[ar[dr].quantizationIdx],delete ar[dr].quantizationIdx}for(this.width=Et.samplesPerLine,this.height=Et.scanLines,this.jfif=kt,this.adobe=bt,this.components=[],rr=0;rr<Et.componentsOrder.length;rr++){var gr=Et.components[Et.componentsOrder[rr]];this.components.push({lines:lt(0,gr),scaleX:gr.h/Et.maxH,scaleY:gr.v/Et.maxV})}},getData:function(dt,ht){var pt,gt,_t,Et,yt,St,wt,kt,bt,Tt,Dt,$t,At,Pt,Kt,Ut,It,jt,zt,Ht,Vt,Wt=this.width/dt,Zt=this.height/ht,Qt=0,Xt=dt*ht*this.components.length;mt(Xt);var er=new Uint8Array(Xt);switch(this.components.length){case 1:for(pt=this.components[0],Tt=0;Tt<ht;Tt++)for(yt=pt.lines[0|Tt*pt.scaleY*Zt],bt=0;bt<dt;bt++)Dt=yt[0|bt*pt.scaleX*Wt],er[Qt++]=Dt;break;case 2:for(pt=this.components[0],gt=this.components[1],Tt=0;Tt<ht;Tt++)for(yt=pt.lines[0|Tt*pt.scaleY*Zt],St=gt.lines[0|Tt*gt.scaleY*Zt],bt=0;bt<dt;bt++)Dt=yt[0|bt*pt.scaleX*Wt],er[Qt++]=Dt,Dt=St[0|bt*gt.scaleX*Wt],er[Qt++]=Dt;break;case 3:for(Vt=!0,this.adobe&&this.adobe.transformCode?Vt=!0:this.opts.colorTransform!==void 0&&(Vt=!!this.opts.colorTransform),pt=this.components[0],gt=this.components[1],_t=this.components[2],Tt=0;Tt<ht;Tt++)for(yt=pt.lines[0|Tt*pt.scaleY*Zt],St=gt.lines[0|Tt*gt.scaleY*Zt],wt=_t.lines[0|Tt*_t.scaleY*Zt],bt=0;bt<dt;bt++)Vt?(Dt=yt[0|bt*pt.scaleX*Wt],$t=St[0|bt*gt.scaleX*Wt],jt=ut(Dt+1.402*((At=wt[0|bt*_t.scaleX*Wt])-128)),zt=ut(Dt-.3441363*($t-128)-.71413636*(At-128)),Ht=ut(Dt+1.772*($t-128))):(jt=yt[0|bt*pt.scaleX*Wt],zt=St[0|bt*gt.scaleX*Wt],Ht=wt[0|bt*_t.scaleX*Wt]),er[Qt++]=jt,er[Qt++]=zt,er[Qt++]=Ht;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Vt=!1,this.adobe&&this.adobe.transformCode?Vt=!0:this.opts.colorTransform!==void 0&&(Vt=!!this.opts.colorTransform),pt=this.components[0],gt=this.components[1],_t=this.components[2],Et=this.components[3],Tt=0;Tt<ht;Tt++)for(yt=pt.lines[0|Tt*pt.scaleY*Zt],St=gt.lines[0|Tt*gt.scaleY*Zt],wt=_t.lines[0|Tt*_t.scaleY*Zt],kt=Et.lines[0|Tt*Et.scaleY*Zt],bt=0;bt<dt;bt++)Vt?(Dt=yt[0|bt*pt.scaleX*Wt],$t=St[0|bt*gt.scaleX*Wt],At=wt[0|bt*_t.scaleX*Wt],Pt=kt[0|bt*Et.scaleX*Wt],Kt=255-ut(Dt+1.402*(At-128)),Ut=255-ut(Dt-.3441363*($t-128)-.71413636*(At-128)),It=255-ut(Dt+1.772*($t-128))):(Kt=yt[0|bt*pt.scaleX*Wt],Ut=St[0|bt*gt.scaleX*Wt],It=wt[0|bt*_t.scaleX*Wt],Pt=kt[0|bt*Et.scaleX*Wt]),er[Qt++]=255-Kt,er[Qt++]=255-Ut,er[Qt++]=255-It,er[Qt++]=255-Pt;break;default:throw new Error("Unsupported color mode")}return er},copyToImageData:function(dt,ht){var pt,gt,_t,Et,yt,St,wt,kt,bt,Tt=dt.width,Dt=dt.height,$t=dt.data,At=this.getData(Tt,Dt),Pt=0,Kt=0;switch(this.components.length){case 1:for(gt=0;gt<Dt;gt++)for(pt=0;pt<Tt;pt++)_t=At[Pt++],$t[Kt++]=_t,$t[Kt++]=_t,$t[Kt++]=_t,ht&&($t[Kt++]=255);break;case 3:for(gt=0;gt<Dt;gt++)for(pt=0;pt<Tt;pt++)wt=At[Pt++],kt=At[Pt++],bt=At[Pt++],$t[Kt++]=wt,$t[Kt++]=kt,$t[Kt++]=bt,ht&&($t[Kt++]=255);break;case 4:for(gt=0;gt<Dt;gt++)for(pt=0;pt<Tt;pt++)yt=At[Pt++],St=At[Pt++],_t=At[Pt++],wt=255-ut(yt*(1-(Et=At[Pt++])/255)+Et),kt=255-ut(St*(1-Et/255)+Et),bt=255-ut(_t*(1-Et/255)+Et),$t[Kt++]=wt,$t[Kt++]=kt,$t[Kt++]=bt,ht&&($t[Kt++]=255);break;default:throw new Error("Unsupported color mode")}}};var ct=0,ft=0;function mt(dt=0){var ht=ct+dt;if(ht>ft){var pt=Math.ceil((ht-ft)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${pt}MB`)}ct=ht}return at.resetMaxMemoryUsage=function(dt){ct=0,ft=dt},at.getBytesAllocated=function(){return ct},at.requestMemoryAllocation=mt,at}(),module.exports=function(d,g={}){var $={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...g},j=new Uint8Array(d),tt=new JpegImage;tt.opts=$,JpegImage.resetMaxMemoryUsage(1024*$.maxMemoryUsageInMB*1024),tt.parse(j);var et=$.formatAsRGBA?4:3,rt=tt.width*tt.height*et;try{JpegImage.requestMemoryAllocation(rt);var nt={width:tt.width,height:tt.height,exifBuffer:tt.exifBuffer,data:$.useTArray?new Uint8Array(rt):Buffer.alloc(rt)};tt.comments.length>0&&(nt.comments=tt.comments)}catch(it){throw it instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+rt):it instanceof ReferenceError&&it.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):it}return tt.copyToImageData(nt,$.formatAsRGBA),nt};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:g=100}={})=>JPEG.encode(d,g).data,decode:(d,g)=>JPEG.decode(d,g)}}function commonjsRequire$1(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1$1={exports:{}};browser$1$1.exports=function(){function d(g,$,j){function tt(nt,it){if(!$[nt]){if(!g[nt]){var at=typeof commonjsRequire$1=="function"&&commonjsRequire$1;if(!it&&at)return at(nt,!0);if(et)return et(nt,!0);var st=new Error("Cannot find module '"+nt+"'");throw st.code="MODULE_NOT_FOUND",st}var ot=$[nt]={exports:{}};g[nt][0].call(ot.exports,function(lt){return tt(g[nt][1][lt]||lt)},ot,ot.exports,d,g,$,j)}return $[nt].exports}for(var et=typeof commonjsRequire$1=="function"&&commonjsRequire$1,rt=0;rt<j.length;rt++)tt(j[rt]);return tt}return d}()({1:[function(d,g,$){(function(j){(function(){let tt=d("./interlace"),et=[function(){},function(st,ot,lt,ut){if(ut===ot.length)throw new Error("Ran out of data");let ct=ot[ut];st[lt]=ct,st[lt+1]=ct,st[lt+2]=ct,st[lt+3]=255},function(st,ot,lt,ut){if(ut+1>=ot.length)throw new Error("Ran out of data");let ct=ot[ut];st[lt]=ct,st[lt+1]=ct,st[lt+2]=ct,st[lt+3]=ot[ut+1]},function(st,ot,lt,ut){if(ut+2>=ot.length)throw new Error("Ran out of data");st[lt]=ot[ut],st[lt+1]=ot[ut+1],st[lt+2]=ot[ut+2],st[lt+3]=255},function(st,ot,lt,ut){if(ut+3>=ot.length)throw new Error("Ran out of data");st[lt]=ot[ut],st[lt+1]=ot[ut+1],st[lt+2]=ot[ut+2],st[lt+3]=ot[ut+3]}],rt=[function(){},function(st,ot,lt,ut){let ct=ot[0];st[lt]=ct,st[lt+1]=ct,st[lt+2]=ct,st[lt+3]=ut},function(st,ot,lt){let ut=ot[0];st[lt]=ut,st[lt+1]=ut,st[lt+2]=ut,st[lt+3]=ot[1]},function(st,ot,lt,ut){st[lt]=ot[0],st[lt+1]=ot[1],st[lt+2]=ot[2],st[lt+3]=ut},function(st,ot,lt){st[lt]=ot[0],st[lt+1]=ot[1],st[lt+2]=ot[2],st[lt+3]=ot[3]}];function nt(st,ot){let lt=[],ut=0;function ct(){if(ut===st.length)throw new Error("Ran out of data");let ft,mt,dt,ht,pt,gt,_t,Et,yt=st[ut];switch(ut++,ot){default:throw new Error("unrecognised depth");case 16:_t=st[ut],ut++,lt.push((yt<<8)+_t);break;case 4:_t=15&yt,Et=yt>>4,lt.push(Et,_t);break;case 2:pt=3&yt,gt=yt>>2&3,_t=yt>>4&3,Et=yt>>6&3,lt.push(Et,_t,gt,pt);break;case 1:ft=1&yt,mt=yt>>1&1,dt=yt>>2&1,ht=yt>>3&1,pt=yt>>4&1,gt=yt>>5&1,_t=yt>>6&1,Et=yt>>7&1,lt.push(Et,_t,gt,pt,ht,dt,mt,ft)}}return{get:function(ft){for(;lt.length<ft;)ct();let mt=lt.slice(0,ft);return lt=lt.slice(ft),mt},resetAfterLine:function(){lt.length=0},end:function(){if(ut!==st.length)throw new Error("extra data found")}}}function it(st,ot,lt,ut,ct,ft){let mt=st.width,dt=st.height,ht=st.index;for(let pt=0;pt<dt;pt++)for(let gt=0;gt<mt;gt++){let _t=lt(gt,pt,ht);et[ut](ot,ct,_t,ft),ft+=ut}return ft}function at(st,ot,lt,ut,ct,ft){let mt=st.width,dt=st.height,ht=st.index;for(let pt=0;pt<dt;pt++){for(let gt=0;gt<mt;gt++){let _t=ct.get(ut),Et=lt(gt,pt,ht);rt[ut](ot,_t,Et,ft)}ct.resetAfterLine()}}$.dataToBitMap=function(st,ot){let lt,ut,ct=ot.width,ft=ot.height,mt=ot.depth,dt=ot.bpp,ht=ot.interlace;mt!==8&&(lt=nt(st,mt)),ut=mt<=8?j.alloc(ct*ft*4):new Uint16Array(ct*ft*4);let pt,gt,_t=Math.pow(2,mt)-1,Et=0;if(ht)pt=tt.getImagePasses(ct,ft),gt=tt.getInterlaceIterator(ct,ft);else{let yt=0;gt=function(){let St=yt;return yt+=4,St},pt=[{width:ct,height:ft}]}for(let yt=0;yt<pt.length;yt++)mt===8?Et=it(pt[yt],ut,gt,dt,st,Et):at(pt[yt],ut,gt,dt,lt,_t);if(mt===8){if(Et!==st.length)throw new Error("extra data found")}else lt.end();return ut}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,g,$){(function(j){(function(){let tt=d("./constants");g.exports=function(et,rt,nt,it){let at=[tt.COLORTYPE_COLOR_ALPHA,tt.COLORTYPE_ALPHA].indexOf(it.colorType)!==-1;if(it.colorType===it.inputColorType){let pt=function(){let gt=new ArrayBuffer(2);return new DataView(gt).setInt16(0,256,!0),new Int16Array(gt)[0]!==256}();if(it.bitDepth===8||it.bitDepth===16&&pt)return et}let st=it.bitDepth!==16?et:new Uint16Array(et.buffer),ot=255,lt=tt.COLORTYPE_TO_BPP_MAP[it.inputColorType];lt!==4||it.inputHasAlpha||(lt=3);let ut=tt.COLORTYPE_TO_BPP_MAP[it.colorType];it.bitDepth===16&&(ot=65535,ut*=2);let ct=j.alloc(rt*nt*ut),ft=0,mt=0,dt=it.bgColor||{};function ht(){let pt,gt,_t,Et=ot;switch(it.inputColorType){case tt.COLORTYPE_COLOR_ALPHA:Et=st[ft+3],pt=st[ft],gt=st[ft+1],_t=st[ft+2];break;case tt.COLORTYPE_COLOR:pt=st[ft],gt=st[ft+1],_t=st[ft+2];break;case tt.COLORTYPE_ALPHA:Et=st[ft+1],pt=st[ft],gt=pt,_t=pt;break;case tt.COLORTYPE_GRAYSCALE:pt=st[ft],gt=pt,_t=pt;break;default:throw new Error("input color type:"+it.inputColorType+" is not supported at present")}return it.inputHasAlpha&&(at||(Et/=ot,pt=Math.min(Math.max(Math.round((1-Et)*dt.red+Et*pt),0),ot),gt=Math.min(Math.max(Math.round((1-Et)*dt.green+Et*gt),0),ot),_t=Math.min(Math.max(Math.round((1-Et)*dt.blue+Et*_t),0),ot))),{red:pt,green:gt,blue:_t,alpha:Et}}dt.red===void 0&&(dt.red=ot),dt.green===void 0&&(dt.green=ot),dt.blue===void 0&&(dt.blue=ot);for(let pt=0;pt<nt;pt++)for(let gt=0;gt<rt;gt++){let _t=ht();switch(it.colorType){case tt.COLORTYPE_COLOR_ALPHA:case tt.COLORTYPE_COLOR:it.bitDepth===8?(ct[mt]=_t.red,ct[mt+1]=_t.green,ct[mt+2]=_t.blue,at&&(ct[mt+3]=_t.alpha)):(ct.writeUInt16BE(_t.red,mt),ct.writeUInt16BE(_t.green,mt+2),ct.writeUInt16BE(_t.blue,mt+4),at&&ct.writeUInt16BE(_t.alpha,mt+6));break;case tt.COLORTYPE_ALPHA:case tt.COLORTYPE_GRAYSCALE:{let Et=(_t.red+_t.green+_t.blue)/3;it.bitDepth===8?(ct[mt]=Et,at&&(ct[mt+1]=_t.alpha)):(ct.writeUInt16BE(Et,mt),at&&ct.writeUInt16BE(_t.alpha,mt+2));break}default:throw new Error("unrecognised color Type "+it.colorType)}ft+=lt,mt+=ut}return ct}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,g,$){(function(j,tt){(function(){let et=d("util"),rt=d("stream"),nt=g.exports=function(){rt.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};et.inherits(nt,rt),nt.prototype.read=function(it,at){this._reads.push({length:Math.abs(it),allowLess:it<0,func:at}),j.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},nt.prototype.write=function(it,at){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let st;return st=tt.isBuffer(it)?it:tt.from(it,at||this._encoding),this._buffers.push(st),this._buffered+=st.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},nt.prototype.end=function(it,at){it&&this.write(it,at),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},nt.prototype.destroySoon=nt.prototype.end,nt.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},nt.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},nt.prototype._processReadAllowingLess=function(it){this._reads.shift();let at=this._buffers[0];at.length>it.length?(this._buffered-=it.length,this._buffers[0]=at.slice(it.length),it.func.call(this,at.slice(0,it.length))):(this._buffered-=at.length,this._buffers.shift(),it.func.call(this,at))},nt.prototype._processRead=function(it){this._reads.shift();let at=0,st=0,ot=tt.alloc(it.length);for(;at<it.length;){let lt=this._buffers[st++],ut=Math.min(lt.length,it.length-at);lt.copy(ot,at,0,ut),at+=ut,ut!==lt.length&&(this._buffers[--st]=lt.slice(ut))}st>0&&this._buffers.splice(0,st),this._buffered-=it.length,it.func.call(this,ot)},nt.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let it=this._reads[0];if(it.allowLess)this._processReadAllowingLess(it);else{if(!(this._buffered>=it.length))break;this._processRead(it)}}this._buffers&&!this.writable&&this._end()}catch(it){this.emit("error",it)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,g,$){g.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,g,$){let j=[];(function(){for(let et=0;et<256;et++){let rt=et;for(let nt=0;nt<8;nt++)1&rt?rt=3988292384^rt>>>1:rt>>>=1;j[et]=rt}})();let tt=g.exports=function(){this._crc=-1};tt.prototype.write=function(et){for(let rt=0;rt<et.length;rt++)this._crc=j[255&(this._crc^et[rt])]^this._crc>>>8;return!0},tt.prototype.crc32=function(){return~this._crc},tt.crc32=function(et){let rt=-1;for(let nt=0;nt<et.length;nt++)rt=j[255&(rt^et[nt])]^rt>>>8;return~rt}},{}],6:[function(d,g,$){(function(j){(function(){let tt=d("./paeth-predictor");function et(dt,ht,pt,gt,_t){for(let Et=0;Et<pt;Et++)gt[_t+Et]=dt[ht+Et]}function rt(dt,ht,pt){let gt=0,_t=ht+pt;for(let Et=ht;Et<_t;Et++)gt+=Math.abs(dt[Et]);return gt}function nt(dt,ht,pt,gt,_t,Et){for(let yt=0;yt<pt;yt++){let St=yt>=Et?dt[ht+yt-Et]:0,wt=dt[ht+yt]-St;gt[_t+yt]=wt}}function it(dt,ht,pt,gt){let _t=0;for(let Et=0;Et<pt;Et++){let yt=Et>=gt?dt[ht+Et-gt]:0,St=dt[ht+Et]-yt;_t+=Math.abs(St)}return _t}function at(dt,ht,pt,gt,_t){for(let Et=0;Et<pt;Et++){let yt=ht>0?dt[ht+Et-pt]:0,St=dt[ht+Et]-yt;gt[_t+Et]=St}}function st(dt,ht,pt){let gt=0,_t=ht+pt;for(let Et=ht;Et<_t;Et++){let yt=ht>0?dt[Et-pt]:0,St=dt[Et]-yt;gt+=Math.abs(St)}return gt}function ot(dt,ht,pt,gt,_t,Et){for(let yt=0;yt<pt;yt++){let St=yt>=Et?dt[ht+yt-Et]:0,wt=ht>0?dt[ht+yt-pt]:0,kt=dt[ht+yt]-(St+wt>>1);gt[_t+yt]=kt}}function lt(dt,ht,pt,gt){let _t=0;for(let Et=0;Et<pt;Et++){let yt=Et>=gt?dt[ht+Et-gt]:0,St=ht>0?dt[ht+Et-pt]:0,wt=dt[ht+Et]-(yt+St>>1);_t+=Math.abs(wt)}return _t}function ut(dt,ht,pt,gt,_t,Et){for(let yt=0;yt<pt;yt++){let St=yt>=Et?dt[ht+yt-Et]:0,wt=ht>0?dt[ht+yt-pt]:0,kt=ht>0&&yt>=Et?dt[ht+yt-(pt+Et)]:0,bt=dt[ht+yt]-tt(St,wt,kt);gt[_t+yt]=bt}}function ct(dt,ht,pt,gt){let _t=0;for(let Et=0;Et<pt;Et++){let yt=Et>=gt?dt[ht+Et-gt]:0,St=ht>0?dt[ht+Et-pt]:0,wt=ht>0&&Et>=gt?dt[ht+Et-(pt+gt)]:0,kt=dt[ht+Et]-tt(yt,St,wt);_t+=Math.abs(kt)}return _t}let ft={0:et,1:nt,2:at,3:ot,4:ut},mt={0:rt,1:it,2:st,3:lt,4:ct};g.exports=function(dt,ht,pt,gt,_t){let Et;if("filterType"in gt&&gt.filterType!==-1){if(typeof gt.filterType!="number")throw new Error("unrecognised filter types");Et=[gt.filterType]}else Et=[0,1,2,3,4];gt.bitDepth===16&&(_t*=2);let yt=ht*_t,St=0,wt=0,kt=j.alloc((yt+1)*pt),bt=Et[0];for(let Tt=0;Tt<pt;Tt++){if(Et.length>1){let Dt=1/0;for(let $t=0;$t<Et.length;$t++){let At=mt[Et[$t]](dt,wt,yt,_t);At<Dt&&(bt=Et[$t],Dt=At)}}kt[St]=bt,St++,ft[bt](dt,wt,yt,kt,St,_t),St+=yt,wt+=yt}return kt}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,g,$){(function(j){(function(){let tt=d("util"),et=d("./chunkstream"),rt=d("./filter-parse"),nt=g.exports=function(it){et.call(this);let at=[],st=this;this._filter=new rt(it,{read:this.read.bind(this),write:function(ot){at.push(ot)},complete:function(){st.emit("complete",j.concat(at))}}),this._filter.start()};tt.inherits(nt,et)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,g,$){(function(j){(function(){let tt=d("./sync-reader"),et=d("./filter-parse");$.process=function(rt,nt){let it=[],at=new tt(rt);return new et(nt,{read:at.read.bind(at),write:function(st){it.push(st)},complete:function(){}}).start(),at.process(),j.concat(it)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,g,$){(function(j){(function(){let tt=d("./interlace"),et=d("./paeth-predictor");function rt(it,at,st){let ot=it*at;return st!==8&&(ot=Math.ceil(ot/(8/st))),ot}let nt=g.exports=function(it,at){let st=it.width,ot=it.height,lt=it.interlace,ut=it.bpp,ct=it.depth;if(this.read=at.read,this.write=at.write,this.complete=at.complete,this._imageIndex=0,this._images=[],lt){let ft=tt.getImagePasses(st,ot);for(let mt=0;mt<ft.length;mt++)this._images.push({byteWidth:rt(ft[mt].width,ut,ct),height:ft[mt].height,lineIndex:0})}else this._images.push({byteWidth:rt(st,ut,ct),height:ot,lineIndex:0});this._xComparison=ct===8?ut:ct===16?2*ut:1};nt.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},nt.prototype._unFilterType1=function(it,at,st){let ot=this._xComparison,lt=ot-1;for(let ut=0;ut<st;ut++){let ct=it[1+ut],ft=ut>lt?at[ut-ot]:0;at[ut]=ct+ft}},nt.prototype._unFilterType2=function(it,at,st){let ot=this._lastLine;for(let lt=0;lt<st;lt++){let ut=it[1+lt],ct=ot?ot[lt]:0;at[lt]=ut+ct}},nt.prototype._unFilterType3=function(it,at,st){let ot=this._xComparison,lt=ot-1,ut=this._lastLine;for(let ct=0;ct<st;ct++){let ft=it[1+ct],mt=ut?ut[ct]:0,dt=ct>lt?at[ct-ot]:0,ht=Math.floor((dt+mt)/2);at[ct]=ft+ht}},nt.prototype._unFilterType4=function(it,at,st){let ot=this._xComparison,lt=ot-1,ut=this._lastLine;for(let ct=0;ct<st;ct++){let ft=it[1+ct],mt=ut?ut[ct]:0,dt=ct>lt?at[ct-ot]:0,ht=ct>lt&&ut?ut[ct-ot]:0,pt=et(dt,mt,ht);at[ct]=ft+pt}},nt.prototype._reverseFilterLine=function(it){let at,st=it[0],ot=this._images[this._imageIndex],lt=ot.byteWidth;if(st===0)at=it.slice(1,lt+1);else switch(at=j.alloc(lt),st){case 1:this._unFilterType1(it,at,lt);break;case 2:this._unFilterType2(it,at,lt);break;case 3:this._unFilterType3(it,at,lt);break;case 4:this._unFilterType4(it,at,lt);break;default:throw new Error("Unrecognised filter type - "+st)}this.write(at),ot.lineIndex++,ot.lineIndex>=ot.height?(this._lastLine=null,this._imageIndex++,ot=this._images[this._imageIndex]):this._lastLine=at,ot?this.read(ot.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,g,$){(function(j){(function(){function tt(nt,it,at,st,ot){let lt=0;for(let ut=0;ut<st;ut++)for(let ct=0;ct<at;ct++){let ft=ot[nt[lt]];if(!ft)throw new Error("index "+nt[lt]+" not in palette");for(let mt=0;mt<4;mt++)it[lt+mt]=ft[mt];lt+=4}}function et(nt,it,at,st,ot){let lt=0;for(let ut=0;ut<st;ut++)for(let ct=0;ct<at;ct++){let ft=!1;if(ot.length===1?ot[0]===nt[lt]&&(ft=!0):ot[0]===nt[lt]&&ot[1]===nt[lt+1]&&ot[2]===nt[lt+2]&&(ft=!0),ft)for(let mt=0;mt<4;mt++)it[lt+mt]=0;lt+=4}}function rt(nt,it,at,st,ot){let lt=255,ut=Math.pow(2,ot)-1,ct=0;for(let ft=0;ft<st;ft++)for(let mt=0;mt<at;mt++){for(let dt=0;dt<4;dt++)it[ct+dt]=Math.floor(nt[ct+dt]*lt/ut+.5);ct+=4}}g.exports=function(nt,it,at=!1){let st=it.depth,ot=it.width,lt=it.height,ut=it.colorType,ct=it.transColor,ft=it.palette,mt=nt;return ut===3?tt(nt,mt,ot,lt,ft):(ct&&et(nt,mt,ot,lt,ct),st===8||at||(st===16&&(mt=j.alloc(ot*lt*4)),rt(nt,mt,ot,lt,st))),mt}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,g,$){let j=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];$.getImagePasses=function(tt,et){let rt=[],nt=tt%8,it=et%8,at=(tt-nt)/8,st=(et-it)/8;for(let ot=0;ot<j.length;ot++){let lt=j[ot],ut=at*lt.x.length,ct=st*lt.y.length;for(let ft=0;ft<lt.x.length&&lt.x[ft]<nt;ft++)ut++;for(let ft=0;ft<lt.y.length&&lt.y[ft]<it;ft++)ct++;ut>0&&ct>0&&rt.push({width:ut,height:ct,index:ot})}return rt},$.getInterlaceIterator=function(tt){return function(et,rt,nt){let it=et%j[nt].x.length,at=(et-it)/j[nt].x.length*8+j[nt].x[it],st=rt%j[nt].y.length;return 4*at+((rt-st)/j[nt].y.length*8+j[nt].y[st])*tt*4}}},{}],12:[function(d,g,$){(function(j){(function(){let tt=d("util"),et=d("stream"),rt=d("./constants"),nt=d("./packer"),it=g.exports=function(at){et.call(this);let st=at||{};this._packer=new nt(st),this._deflate=this._packer.createDeflate(),this.readable=!0};tt.inherits(it,et),it.prototype.pack=function(at,st,ot,lt){this.emit("data",j.from(rt.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(st,ot)),lt&&this.emit("data",this._packer.packGAMA(lt));let ut=this._packer.filterData(at,st,ot);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(ct){this.emit("data",this._packer.packIDAT(ct))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(ut)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,g,$){(function(j){(function(){let tt=!0,et=d("zlib");et.deflateSync||(tt=!1);let rt=d("./constants"),nt=d("./packer");g.exports=function(it,at){if(!tt)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let st=new nt(at||{}),ot=[];ot.push(j.from(rt.PNG_SIGNATURE)),ot.push(st.packIHDR(it.width,it.height)),it.gamma&&ot.push(st.packGAMA(it.gamma));let lt=st.filterData(it.data,it.width,it.height),ut=et.deflateSync(lt,st.getDeflateOptions());if(lt=null,!ut||!ut.length)throw new Error("bad png - invalid compressed data response");return ot.push(st.packIDAT(ut)),ot.push(st.packIEND()),j.concat(ot)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,g,$){(function(j){(function(){let tt=d("./constants"),et=d("./crc"),rt=d("./bitpacker"),nt=d("./filter-pack"),it=d("zlib"),at=g.exports=function(st){if(this._options=st,st.deflateChunkSize=st.deflateChunkSize||32768,st.deflateLevel=st.deflateLevel!=null?st.deflateLevel:9,st.deflateStrategy=st.deflateStrategy!=null?st.deflateStrategy:3,st.inputHasAlpha=st.inputHasAlpha==null||st.inputHasAlpha,st.deflateFactory=st.deflateFactory||it.createDeflate,st.bitDepth=st.bitDepth||8,st.colorType=typeof st.colorType=="number"?st.colorType:tt.COLORTYPE_COLOR_ALPHA,st.inputColorType=typeof st.inputColorType=="number"?st.inputColorType:tt.COLORTYPE_COLOR_ALPHA,[tt.COLORTYPE_GRAYSCALE,tt.COLORTYPE_COLOR,tt.COLORTYPE_COLOR_ALPHA,tt.COLORTYPE_ALPHA].indexOf(st.colorType)===-1)throw new Error("option color type:"+st.colorType+" is not supported at present");if([tt.COLORTYPE_GRAYSCALE,tt.COLORTYPE_COLOR,tt.COLORTYPE_COLOR_ALPHA,tt.COLORTYPE_ALPHA].indexOf(st.inputColorType)===-1)throw new Error("option input color type:"+st.inputColorType+" is not supported at present");if(st.bitDepth!==8&&st.bitDepth!==16)throw new Error("option bit depth:"+st.bitDepth+" is not supported at present")};at.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},at.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},at.prototype.filterData=function(st,ot,lt){let ut=rt(st,ot,lt,this._options),ct=tt.COLORTYPE_TO_BPP_MAP[this._options.colorType];return nt(ut,ot,lt,this._options,ct)},at.prototype._packChunk=function(st,ot){let lt=ot?ot.length:0,ut=j.alloc(lt+12);return ut.writeUInt32BE(lt,0),ut.writeUInt32BE(st,4),ot&&ot.copy(ut,8),ut.writeInt32BE(et.crc32(ut.slice(4,ut.length-4)),ut.length-4),ut},at.prototype.packGAMA=function(st){let ot=j.alloc(4);return ot.writeUInt32BE(Math.floor(st*tt.GAMMA_DIVISION),0),this._packChunk(tt.TYPE_gAMA,ot)},at.prototype.packIHDR=function(st,ot){let lt=j.alloc(13);return lt.writeUInt32BE(st,0),lt.writeUInt32BE(ot,4),lt[8]=this._options.bitDepth,lt[9]=this._options.colorType,lt[10]=0,lt[11]=0,lt[12]=0,this._packChunk(tt.TYPE_IHDR,lt)},at.prototype.packIDAT=function(st){return this._packChunk(tt.TYPE_IDAT,st)},at.prototype.packIEND=function(){return this._packChunk(tt.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,g,$){g.exports=function(j,tt,et){let rt=j+tt-et,nt=Math.abs(rt-j),it=Math.abs(rt-tt),at=Math.abs(rt-et);return nt<=it&&nt<=at?j:it<=at?tt:et}},{}],16:[function(d,g,$){let j=d("util"),tt=d("zlib"),et=d("./chunkstream"),rt=d("./filter-parse-async"),nt=d("./parser"),it=d("./bitmapper"),at=d("./format-normaliser"),st=g.exports=function(ot){et.call(this),this._parser=new nt(ot,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=ot,this.writable=!0,this._parser.start()};j.inherits(st,et),st.prototype._handleError=function(ot){this.emit("error",ot),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},st.prototype._inflateData=function(ot){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=tt.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let lt=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,ut=Math.max(lt,tt.Z_MIN_CHUNK);this._inflate=tt.createInflate({chunkSize:ut});let ct=lt,ft=this.emit.bind(this,"error");this._inflate.on("error",function(dt){ct&&ft(dt)}),this._filter.on("complete",this._complete.bind(this));let mt=this._filter.write.bind(this._filter);this._inflate.on("data",function(dt){ct&&(dt.length>ct&&(dt=dt.slice(0,ct)),ct-=dt.length,mt(dt))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(ot)},st.prototype._handleMetaData=function(ot){this._metaData=ot,this._bitmapInfo=Object.create(ot),this._filter=new rt(this._bitmapInfo)},st.prototype._handleTransColor=function(ot){this._bitmapInfo.transColor=ot},st.prototype._handlePalette=function(ot){this._bitmapInfo.palette=ot},st.prototype._simpleTransparency=function(){this._metaData.alpha=!0},st.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},st.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},st.prototype._complete=function(ot){if(this.errord)return;let lt;try{let ut=it.dataToBitMap(ot,this._bitmapInfo);lt=at(ut,this._bitmapInfo,this._options.skipRescale),ut=null}catch(ut){return void this._handleError(ut)}this.emit("parsed",lt)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,g,$){(function(j){(function(){let tt=!0,et=d("zlib"),rt=d("./sync-inflate");et.deflateSync||(tt=!1);let nt=d("./sync-reader"),it=d("./filter-parse-sync"),at=d("./parser"),st=d("./bitmapper"),ot=d("./format-normaliser");g.exports=function(lt,ut){if(!tt)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ct,ft,mt;function dt(At){ct=At}function ht(At){ft=At}function pt(At){ft.transColor=At}function gt(At){ft.palette=At}function _t(){ft.alpha=!0}function Et(At){mt=At}let yt=[];function St(At){yt.push(At)}let wt=new nt(lt);if(new at(ut,{read:wt.read.bind(wt),error:dt,metadata:ht,gamma:Et,palette:gt,transColor:pt,inflateData:St,simpleTransparency:_t}).start(),wt.process(),ct)throw ct;let kt,bt=j.concat(yt);if(yt.length=0,ft.interlace)kt=et.inflateSync(bt);else{let At=(1+(ft.width*ft.bpp*ft.depth+7>>3))*ft.height;kt=rt(bt,{chunkSize:At,maxLength:At})}if(bt=null,!kt||!kt.length)throw new Error("bad png - invalid inflate data response");let Tt=it.process(kt,ft);bt=null;let Dt=st.dataToBitMap(Tt,ft);Tt=null;let $t=ot(Dt,ft,ut.skipRescale);return ft.data=$t,ft.gamma=mt||0,ft}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,g,$){(function(j){(function(){let tt=d("./constants"),et=d("./crc"),rt=g.exports=function(nt,it){this._options=nt,nt.checkCRC=nt.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[tt.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[tt.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[tt.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[tt.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[tt.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[tt.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=it.read,this.error=it.error,this.metadata=it.metadata,this.gamma=it.gamma,this.transColor=it.transColor,this.palette=it.palette,this.parsed=it.parsed,this.inflateData=it.inflateData,this.finished=it.finished,this.simpleTransparency=it.simpleTransparency,this.headersFinished=it.headersFinished||function(){}};rt.prototype.start=function(){this.read(tt.PNG_SIGNATURE.length,this._parseSignature.bind(this))},rt.prototype._parseSignature=function(nt){let it=tt.PNG_SIGNATURE;for(let at=0;at<it.length;at++)if(nt[at]!==it[at])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},rt.prototype._parseChunkBegin=function(nt){let it=nt.readUInt32BE(0),at=nt.readUInt32BE(4),st="";for(let lt=4;lt<8;lt++)st+=String.fromCharCode(nt[lt]);let ot=!!(32&nt[4]);if(this._hasIHDR||at===tt.TYPE_IHDR){if(this._crc=new et,this._crc.write(j.from(st)),this._chunks[at])return this._chunks[at](it);ot?this.read(it+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+st))}else this.error(new Error("Expected IHDR on beggining"))},rt.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},rt.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},rt.prototype._parseChunkEnd=function(nt){let it=nt.readInt32BE(0),at=this._crc.crc32();this._options.checkCRC&&at!==it?this.error(new Error("Crc error - "+it+" - "+at)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},rt.prototype._handleIHDR=function(nt){this.read(nt,this._parseIHDR.bind(this))},rt.prototype._parseIHDR=function(nt){this._crc.write(nt);let it=nt.readUInt32BE(0),at=nt.readUInt32BE(4),st=nt[8],ot=nt[9],lt=nt[10],ut=nt[11],ct=nt[12];if(st!==8&&st!==4&&st!==2&&st!==1&&st!==16)return void this.error(new Error("Unsupported bit depth "+st));if(!(ot in tt.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(lt!==0)return void this.error(new Error("Unsupported compression method"));if(ut!==0)return void this.error(new Error("Unsupported filter method"));if(ct!==0&&ct!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=ot;let ft=tt.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:it,height:at,depth:st,interlace:!!ct,palette:!!(ot&tt.COLORTYPE_PALETTE),color:!!(ot&tt.COLORTYPE_COLOR),alpha:!!(ot&tt.COLORTYPE_ALPHA),bpp:ft,colorType:ot}),this._handleChunkEnd()},rt.prototype._handlePLTE=function(nt){this.read(nt,this._parsePLTE.bind(this))},rt.prototype._parsePLTE=function(nt){this._crc.write(nt);let it=Math.floor(nt.length/3);for(let at=0;at<it;at++)this._palette.push([nt[3*at],nt[3*at+1],nt[3*at+2],255]);this.palette(this._palette),this._handleChunkEnd()},rt.prototype._handleTRNS=function(nt){this.simpleTransparency(),this.read(nt,this._parseTRNS.bind(this))},rt.prototype._parseTRNS=function(nt){if(this._crc.write(nt),this._colorType===tt.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(nt.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let it=0;it<nt.length;it++)this._palette[it][3]=nt[it];this.palette(this._palette)}this._colorType===tt.COLORTYPE_GRAYSCALE&&this.transColor([nt.readUInt16BE(0)]),this._colorType===tt.COLORTYPE_COLOR&&this.transColor([nt.readUInt16BE(0),nt.readUInt16BE(2),nt.readUInt16BE(4)]),this._handleChunkEnd()},rt.prototype._handleGAMA=function(nt){this.read(nt,this._parseGAMA.bind(this))},rt.prototype._parseGAMA=function(nt){this._crc.write(nt),this.gamma(nt.readUInt32BE(0)/tt.GAMMA_DIVISION),this._handleChunkEnd()},rt.prototype._handleIDAT=function(nt){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-nt,this._parseIDAT.bind(this,nt))},rt.prototype._parseIDAT=function(nt,it){if(this._crc.write(it),this._colorType===tt.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(it);let at=nt-it.length;at>0?this._handleIDAT(at):this._handleChunkEnd()},rt.prototype._handleIEND=function(nt){this.read(nt,this._parseIEND.bind(this))},rt.prototype._parseIEND=function(nt){this._crc.write(nt),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,g,$){let j=d("./parser-sync"),tt=d("./packer-sync");$.read=function(et,rt){return j(et,rt||{})},$.write=function(et,rt){return tt(et,rt)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,g,$){(function(j,tt){(function(){let et=d("util"),rt=d("stream"),nt=d("./parser-async"),it=d("./packer-async"),at=d("./png-sync"),st=$.PNG=function(ot){rt.call(this),ot=ot||{},this.width=0|ot.width,this.height=0|ot.height,this.data=this.width>0&&this.height>0?tt.alloc(4*this.width*this.height):null,ot.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new nt(ot),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(lt){this.data=lt,this.emit("parsed",lt)}).bind(this)),this._packer=new it(ot),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};et.inherits(st,rt),st.sync=at,st.prototype.pack=function(){return this.data&&this.data.length?(j.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},st.prototype.parse=function(ot,lt){if(lt){let ut,ct;ut=(function(ft){this.removeListener("error",ct),this.data=ft,lt(null,this)}).bind(this),ct=(function(ft){this.removeListener("parsed",ut),lt(ft,null)}).bind(this),this.once("parsed",ut),this.once("error",ct)}return this.end(ot),this},st.prototype.write=function(ot){return this._parser.write(ot),!0},st.prototype.end=function(ot){this._parser.end(ot)},st.prototype._metadata=function(ot){this.width=ot.width,this.height=ot.height,this.emit("metadata",ot)},st.prototype._gamma=function(ot){this.gamma=ot},st.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},st.bitblt=function(ot,lt,ut,ct,ft,mt,dt,ht){if(ct|=0,ft|=0,mt|=0,dt|=0,ht|=0,(ut|=0)>ot.width||ct>ot.height||ut+ft>ot.width||ct+mt>ot.height)throw new Error("bitblt reading outside image");if(dt>lt.width||ht>lt.height||dt+ft>lt.width||ht+mt>lt.height)throw new Error("bitblt writing outside image");for(let pt=0;pt<mt;pt++)ot.data.copy(lt.data,(ht+pt)*lt.width+dt<<2,(ct+pt)*ot.width+ut<<2,(ct+pt)*ot.width+ut+ft<<2)},st.prototype.bitblt=function(ot,lt,ut,ct,ft,mt,dt){return st.bitblt(this,ot,lt,ut,ct,ft,mt,dt),this},st.adjustGamma=function(ot){if(ot.gamma){for(let lt=0;lt<ot.height;lt++)for(let ut=0;ut<ot.width;ut++){let ct=ot.width*lt+ut<<2;for(let ft=0;ft<3;ft++){let mt=ot.data[ct+ft]/255;mt=Math.pow(mt,1/2.2/ot.gamma),ot.data[ct+ft]=Math.round(255*mt)}}ot.gamma=0}},st.prototype.adjustGamma=function(){st.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,g,$){(function(j,tt){(function(){let et=d("assert").ok,rt=d("zlib"),nt=d("util"),it=d("buffer").kMaxLength;function at(ct){if(!(this instanceof at))return new at(ct);ct&&ct.chunkSize<rt.Z_MIN_CHUNK&&(ct.chunkSize=rt.Z_MIN_CHUNK),rt.Inflate.call(this,ct),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,ct&&ct.maxLength!=null&&(this._maxLength=ct.maxLength)}function st(ct){return new at(ct)}function ot(ct,ft){ct._handle&&(ct._handle.close(),ct._handle=null)}function lt(ct,ft){if(typeof ft=="string"&&(ft=tt.from(ft)),!(ft instanceof tt))throw new TypeError("Not a string or buffer");let mt=ct._finishFlushFlag;return mt==null&&(mt=rt.Z_FINISH),ct._processChunk(ft,mt)}function ut(ct,ft){return lt(new at(ft),ct)}at.prototype._processChunk=function(ct,ft,mt){if(typeof mt=="function")return rt.Inflate._processChunk.call(this,ct,ft,mt);let dt,ht,pt=this,gt=ct&&ct.length,_t=this._chunkSize-this._offset,Et=this._maxLength,yt=0,St=[],wt=0;function kt(Tt,Dt){if(pt._hadError)return;let $t=_t-Dt;if(et($t>=0,"have should not go down"),$t>0){let At=pt._buffer.slice(pt._offset,pt._offset+$t);if(pt._offset+=$t,At.length>Et&&(At=At.slice(0,Et)),St.push(At),wt+=At.length,Et-=At.length,Et===0)return!1}return(Dt===0||pt._offset>=pt._chunkSize)&&(_t=pt._chunkSize,pt._offset=0,pt._buffer=tt.allocUnsafe(pt._chunkSize)),Dt===0&&(yt+=gt-Tt,gt=Tt,!0)}this.on("error",function(Tt){dt=Tt}),et(this._handle,"zlib binding closed");do ht=this._handle.writeSync(ft,ct,yt,gt,this._buffer,this._offset,_t),ht=ht||this._writeState;while(!this._hadError&&kt(ht[0],ht[1]));if(this._hadError)throw dt;if(wt>=it)throw ot(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+it.toString(16)+" bytes");let bt=tt.concat(St,wt);return ot(this),bt},nt.inherits(at,rt.Inflate),g.exports=$=ut,$.Inflate=at,$.createInflate=st,$.inflateSync=ut}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,g,$){let j=g.exports=function(tt){this._buffer=tt,this._reads=[]};j.prototype.read=function(tt,et){this._reads.push({length:Math.abs(tt),allowLess:tt<0,func:et})},j.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let tt=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=tt.length||tt.allowLess))break;{this._reads.shift();let et=this._buffer;this._buffer=et.slice(tt.length),tt.func.call(this,et.slice(0,tt.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,g,$){(function(j){(function(){var tt=d("object-assign");/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function et($t,At){if($t===At)return 0;for(var Pt=$t.length,Kt=At.length,Ut=0,It=Math.min(Pt,Kt);Ut<It;++Ut)if($t[Ut]!==At[Ut]){Pt=$t[Ut],Kt=At[Ut];break}return Pt<Kt?-1:Kt<Pt?1:0}function rt($t){return j.Buffer&&typeof j.Buffer.isBuffer=="function"?j.Buffer.isBuffer($t):!($t==null||!$t._isBuffer)}var nt=d("util/"),it=Object.prototype.hasOwnProperty,at=Array.prototype.slice,st=(function(){}).name==="foo";function ot($t){return Object.prototype.toString.call($t)}function lt($t){return!rt($t)&&typeof j.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView($t):!!$t&&($t instanceof DataView||!!($t.buffer&&$t.buffer instanceof ArrayBuffer)))}var ut=g.exports=gt,ct=/\s*function\s+([^\(\s]*)\s*/;function ft($t){if(nt.isFunction($t)){if(st)return $t.name;var At=$t.toString().match(ct);return At&&At[1]}}function mt($t,At){return typeof $t=="string"?$t.length<At?$t:$t.slice(0,At):$t}function dt($t){if(st||!nt.isFunction($t))return nt.inspect($t);var At=ft($t);return"[Function"+(At?": "+At:"")+"]"}function ht($t){return mt(dt($t.actual),128)+" "+$t.operator+" "+mt(dt($t.expected),128)}function pt($t,At,Pt,Kt,Ut){throw new ut.AssertionError({message:Pt,actual:$t,expected:At,operator:Kt,stackStartFunction:Ut})}function gt($t,At){$t||pt($t,!0,At,"==",ut.ok)}function _t($t,At,Pt,Kt){if($t===At)return!0;if(rt($t)&&rt(At))return et($t,At)===0;if(nt.isDate($t)&&nt.isDate(At))return $t.getTime()===At.getTime();if(nt.isRegExp($t)&&nt.isRegExp(At))return $t.source===At.source&&$t.global===At.global&&$t.multiline===At.multiline&&$t.lastIndex===At.lastIndex&&$t.ignoreCase===At.ignoreCase;if($t!==null&&typeof $t=="object"||At!==null&&typeof At=="object"){if(lt($t)&&lt(At)&&ot($t)===ot(At)&&!($t instanceof Float32Array||$t instanceof Float64Array))return et(new Uint8Array($t.buffer),new Uint8Array(At.buffer))===0;if(rt($t)!==rt(At))return!1;var Ut=(Kt=Kt||{actual:[],expected:[]}).actual.indexOf($t);return Ut!==-1&&Ut===Kt.expected.indexOf(At)||(Kt.actual.push($t),Kt.expected.push(At),yt($t,At,Pt,Kt))}return Pt?$t===At:$t==At}function Et($t){return Object.prototype.toString.call($t)=="[object Arguments]"}function yt($t,At,Pt,Kt){if($t==null||At==null)return!1;if(nt.isPrimitive($t)||nt.isPrimitive(At))return $t===At;if(Pt&&Object.getPrototypeOf($t)!==Object.getPrototypeOf(At))return!1;var Ut=Et($t),It=Et(At);if(Ut&&!It||!Ut&&It)return!1;if(Ut)return _t($t=at.call($t),At=at.call(At),Pt);var jt,zt,Ht=Dt($t),Vt=Dt(At);if(Ht.length!==Vt.length)return!1;for(Ht.sort(),Vt.sort(),zt=Ht.length-1;zt>=0;zt--)if(Ht[zt]!==Vt[zt])return!1;for(zt=Ht.length-1;zt>=0;zt--)if(!_t($t[jt=Ht[zt]],At[jt],Pt,Kt))return!1;return!0}function St($t,At,Pt){_t($t,At,!0)&&pt($t,At,Pt,"notDeepStrictEqual",St)}function wt($t,At){if(!$t||!At)return!1;if(Object.prototype.toString.call(At)=="[object RegExp]")return At.test($t);try{if($t instanceof At)return!0}catch{}return!Error.isPrototypeOf(At)&&At.call({},$t)===!0}function kt($t){var At;try{$t()}catch(Pt){At=Pt}return At}function bt($t,At,Pt,Kt){var Ut;if(typeof At!="function")throw new TypeError('"block" argument must be a function');typeof Pt=="string"&&(Kt=Pt,Pt=null),Ut=kt(At),Kt=(Pt&&Pt.name?" ("+Pt.name+").":".")+(Kt?" "+Kt:"."),$t&&!Ut&&pt(Ut,Pt,"Missing expected exception"+Kt);var It=typeof Kt=="string",jt=!$t&&Ut&&!Pt;if((!$t&&nt.isError(Ut)&&It&&wt(Ut,Pt)||jt)&&pt(Ut,Pt,"Got unwanted exception"+Kt),$t&&Ut&&Pt&&!wt(Ut,Pt)||!$t&&Ut)throw Ut}function Tt($t,At){$t||pt($t,!0,At,"==",Tt)}ut.AssertionError=function($t){this.name="AssertionError",this.actual=$t.actual,this.expected=$t.expected,this.operator=$t.operator,$t.message?(this.message=$t.message,this.generatedMessage=!1):(this.message=ht(this),this.generatedMessage=!0);var At=$t.stackStartFunction||pt;if(Error.captureStackTrace)Error.captureStackTrace(this,At);else{var Pt=new Error;if(Pt.stack){var Kt=Pt.stack,Ut=ft(At),It=Kt.indexOf(`
`+Ut);if(It>=0){var jt=Kt.indexOf(`
`,It+1);Kt=Kt.substring(jt+1)}this.stack=Kt}}},nt.inherits(ut.AssertionError,Error),ut.fail=pt,ut.ok=gt,ut.equal=function($t,At,Pt){$t!=At&&pt($t,At,Pt,"==",ut.equal)},ut.notEqual=function($t,At,Pt){$t==At&&pt($t,At,Pt,"!=",ut.notEqual)},ut.deepEqual=function($t,At,Pt){_t($t,At,!1)||pt($t,At,Pt,"deepEqual",ut.deepEqual)},ut.deepStrictEqual=function($t,At,Pt){_t($t,At,!0)||pt($t,At,Pt,"deepStrictEqual",ut.deepStrictEqual)},ut.notDeepEqual=function($t,At,Pt){_t($t,At,!1)&&pt($t,At,Pt,"notDeepEqual",ut.notDeepEqual)},ut.notDeepStrictEqual=St,ut.strictEqual=function($t,At,Pt){$t!==At&&pt($t,At,Pt,"===",ut.strictEqual)},ut.notStrictEqual=function($t,At,Pt){$t===At&&pt($t,At,Pt,"!==",ut.notStrictEqual)},ut.throws=function($t,At,Pt){bt(!0,$t,At,Pt)},ut.doesNotThrow=function($t,At,Pt){bt(!1,$t,At,Pt)},ut.ifError=function($t){if($t)throw $t},ut.strict=tt(Tt,ut,{equal:ut.strictEqual,deepEqual:ut.deepStrictEqual,notEqual:ut.notStrictEqual,notDeepEqual:ut.notDeepStrictEqual}),ut.strict.strict=ut.strict;var Dt=Object.keys||function($t){var At=[];for(var Pt in $t)it.call($t,Pt)&&At.push(Pt);return At}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,g,$){typeof Object.create=="function"?g.exports=function(j,tt){j.super_=tt,j.prototype=Object.create(tt.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}})}:g.exports=function(j,tt){j.super_=tt;var et=function(){};et.prototype=tt.prototype,j.prototype=new et,j.prototype.constructor=j}},{}],25:[function(d,g,$){g.exports=function(j){return j&&typeof j=="object"&&typeof j.copy=="function"&&typeof j.fill=="function"&&typeof j.readUInt8=="function"}},{}],26:[function(d,g,$){(function(j,tt){(function(){var et=/%[sdj%]/g;$.format=function(zt){if(!yt(zt)){for(var Ht=[],Vt=0;Vt<arguments.length;Vt++)Ht.push(it(arguments[Vt]));return Ht.join(" ")}Vt=1;for(var Wt=arguments,Zt=Wt.length,Qt=String(zt).replace(et,function(er){if(er==="%%")return"%";if(Vt>=Zt)return er;switch(er){case"%s":return String(Wt[Vt++]);case"%d":return Number(Wt[Vt++]);case"%j":try{return JSON.stringify(Wt[Vt++])}catch{return"[Circular]"}default:return er}}),Xt=Wt[Vt];Vt<Zt;Xt=Wt[++Vt])gt(Xt)||!bt(Xt)?Qt+=" "+Xt:Qt+=" "+it(Xt);return Qt},$.deprecate=function(zt,Ht){if(wt(tt.process))return function(){return $.deprecate(zt,Ht).apply(this,arguments)};if(j.noDeprecation===!0)return zt;var Vt=!1;function Wt(){if(!Vt){if(j.throwDeprecation)throw new Error(Ht);j.traceDeprecation?console.trace(Ht):console.error(Ht),Vt=!0}return zt.apply(this,arguments)}return Wt};var rt,nt={};function it(zt,Ht){var Vt={seen:[],stylize:st};return arguments.length>=3&&(Vt.depth=arguments[2]),arguments.length>=4&&(Vt.colors=arguments[3]),pt(Ht)?Vt.showHidden=Ht:Ht&&$._extend(Vt,Ht),wt(Vt.showHidden)&&(Vt.showHidden=!1),wt(Vt.depth)&&(Vt.depth=2),wt(Vt.colors)&&(Vt.colors=!1),wt(Vt.customInspect)&&(Vt.customInspect=!0),Vt.colors&&(Vt.stylize=at),lt(Vt,zt,Vt.depth)}function at(zt,Ht){var Vt=it.styles[Ht];return Vt?"\x1B["+it.colors[Vt][0]+"m"+zt+"\x1B["+it.colors[Vt][1]+"m":zt}function st(zt,Ht){return zt}function ot(zt){var Ht={};return zt.forEach(function(Vt,Wt){Ht[Vt]=!0}),Ht}function lt(zt,Ht,Vt){if(zt.customInspect&&Ht&&$t(Ht.inspect)&&Ht.inspect!==$.inspect&&(!Ht.constructor||Ht.constructor.prototype!==Ht)){var Wt=Ht.inspect(Vt,zt);return yt(Wt)||(Wt=lt(zt,Wt,Vt)),Wt}var Zt=ut(zt,Ht);if(Zt)return Zt;var Qt=Object.keys(Ht),Xt=ot(Qt);if(zt.showHidden&&(Qt=Object.getOwnPropertyNames(Ht)),Dt(Ht)&&(Qt.indexOf("message")>=0||Qt.indexOf("description")>=0))return ct(Ht);if(Qt.length===0){if($t(Ht)){var er=Ht.name?": "+Ht.name:"";return zt.stylize("[Function"+er+"]","special")}if(kt(Ht))return zt.stylize(RegExp.prototype.toString.call(Ht),"regexp");if(Tt(Ht))return zt.stylize(Date.prototype.toString.call(Ht),"date");if(Dt(Ht))return ct(Ht)}var ir,Yt="",xt=!1,qt=["{","}"];return ht(Ht)&&(xt=!0,qt=["[","]"]),$t(Ht)&&(Yt=" [Function"+(Ht.name?": "+Ht.name:"")+"]"),kt(Ht)&&(Yt=" "+RegExp.prototype.toString.call(Ht)),Tt(Ht)&&(Yt=" "+Date.prototype.toUTCString.call(Ht)),Dt(Ht)&&(Yt=" "+ct(Ht)),Qt.length!==0||xt&&Ht.length!=0?Vt<0?kt(Ht)?zt.stylize(RegExp.prototype.toString.call(Ht),"regexp"):zt.stylize("[Object]","special"):(zt.seen.push(Ht),ir=xt?ft(zt,Ht,Vt,Xt,Qt):Qt.map(function(Rt){return mt(zt,Ht,Vt,Xt,Rt,xt)}),zt.seen.pop(),dt(ir,Yt,qt)):qt[0]+Yt+qt[1]}function ut(zt,Ht){if(wt(Ht))return zt.stylize("undefined","undefined");if(yt(Ht)){var Vt="'"+JSON.stringify(Ht).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return zt.stylize(Vt,"string")}return Et(Ht)?zt.stylize(""+Ht,"number"):pt(Ht)?zt.stylize(""+Ht,"boolean"):gt(Ht)?zt.stylize("null","null"):void 0}function ct(zt){return"["+Error.prototype.toString.call(zt)+"]"}function ft(zt,Ht,Vt,Wt,Zt){for(var Qt=[],Xt=0,er=Ht.length;Xt<er;++Xt)jt(Ht,String(Xt))?Qt.push(mt(zt,Ht,Vt,Wt,String(Xt),!0)):Qt.push("");return Zt.forEach(function(ir){ir.match(/^\d+$/)||Qt.push(mt(zt,Ht,Vt,Wt,ir,!0))}),Qt}function mt(zt,Ht,Vt,Wt,Zt,Qt){var Xt,er,ir;if((ir=Object.getOwnPropertyDescriptor(Ht,Zt)||{value:Ht[Zt]}).get?er=ir.set?zt.stylize("[Getter/Setter]","special"):zt.stylize("[Getter]","special"):ir.set&&(er=zt.stylize("[Setter]","special")),jt(Wt,Zt)||(Xt="["+Zt+"]"),er||(zt.seen.indexOf(ir.value)<0?(er=gt(Vt)?lt(zt,ir.value,null):lt(zt,ir.value,Vt-1)).indexOf(`
`)>-1&&(er=Qt?er.split(`
`).map(function(Yt){return"  "+Yt}).join(`
`).substr(2):`
`+er.split(`
`).map(function(Yt){return"   "+Yt}).join(`
`)):er=zt.stylize("[Circular]","special")),wt(Xt)){if(Qt&&Zt.match(/^\d+$/))return er;(Xt=JSON.stringify(""+Zt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Xt=Xt.substr(1,Xt.length-2),Xt=zt.stylize(Xt,"name")):(Xt=Xt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Xt=zt.stylize(Xt,"string"))}return Xt+": "+er}function dt(zt,Ht,Vt){return zt.reduce(function(Wt,Zt){return Zt.indexOf(`
`),Wt+Zt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Vt[0]+(Ht===""?"":Ht+`
 `)+" "+zt.join(`,
  `)+" "+Vt[1]:Vt[0]+Ht+" "+zt.join(", ")+" "+Vt[1]}function ht(zt){return Array.isArray(zt)}function pt(zt){return typeof zt=="boolean"}function gt(zt){return zt===null}function _t(zt){return zt==null}function Et(zt){return typeof zt=="number"}function yt(zt){return typeof zt=="string"}function St(zt){return typeof zt=="symbol"}function wt(zt){return zt===void 0}function kt(zt){return bt(zt)&&Pt(zt)==="[object RegExp]"}function bt(zt){return typeof zt=="object"&&zt!==null}function Tt(zt){return bt(zt)&&Pt(zt)==="[object Date]"}function Dt(zt){return bt(zt)&&(Pt(zt)==="[object Error]"||zt instanceof Error)}function $t(zt){return typeof zt=="function"}function At(zt){return zt===null||typeof zt=="boolean"||typeof zt=="number"||typeof zt=="string"||typeof zt=="symbol"||zt===void 0}function Pt(zt){return Object.prototype.toString.call(zt)}function Kt(zt){return zt<10?"0"+zt.toString(10):zt.toString(10)}$.debuglog=function(zt){if(wt(rt)&&(rt=j.env.NODE_DEBUG||""),zt=zt.toUpperCase(),!nt[zt])if(new RegExp("\\b"+zt+"\\b","i").test(rt)){var Ht=j.pid;nt[zt]=function(){var Vt=$.format.apply($,arguments);console.error("%s %d: %s",zt,Ht,Vt)}}else nt[zt]=function(){};return nt[zt]},$.inspect=it,it.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},it.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},$.isArray=ht,$.isBoolean=pt,$.isNull=gt,$.isNullOrUndefined=_t,$.isNumber=Et,$.isString=yt,$.isSymbol=St,$.isUndefined=wt,$.isRegExp=kt,$.isObject=bt,$.isDate=Tt,$.isError=Dt,$.isFunction=$t,$.isPrimitive=At,$.isBuffer=d("./support/isBuffer");var Ut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function It(){var zt=new Date,Ht=[Kt(zt.getHours()),Kt(zt.getMinutes()),Kt(zt.getSeconds())].join(":");return[zt.getDate(),Ut[zt.getMonth()],Ht].join(" ")}function jt(zt,Ht){return Object.prototype.hasOwnProperty.call(zt,Ht)}$.log=function(){console.log("%s - %s",It(),$.format.apply($,arguments))},$.inherits=d("inherits"),$._extend=function(zt,Ht){if(!Ht||!bt(Ht))return zt;for(var Vt=Object.keys(Ht),Wt=Vt.length;Wt--;)zt[Vt[Wt]]=Ht[Vt[Wt]];return zt}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,g,$){(function(j){(function(){var tt=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],et=typeof globalThis>"u"?j:globalThis;g.exports=function(){for(var rt=[],nt=0;nt<tt.length;nt++)typeof et[tt[nt]]=="function"&&(rt[rt.length]=tt[nt]);return rt}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,g,$){$.byteLength=st,$.toByteArray=lt,$.fromByteArray=ft;for(var j=[],tt=[],et=typeof Uint8Array<"u"?Uint8Array:Array,rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nt=0,it=rt.length;nt<it;++nt)j[nt]=rt[nt],tt[rt.charCodeAt(nt)]=nt;function at(mt){var dt=mt.length;if(dt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ht=mt.indexOf("=");return ht===-1&&(ht=dt),[ht,ht===dt?0:4-ht%4]}function st(mt){var dt=at(mt),ht=dt[0],pt=dt[1];return 3*(ht+pt)/4-pt}function ot(mt,dt,ht){return 3*(dt+ht)/4-ht}function lt(mt){var dt,ht,pt=at(mt),gt=pt[0],_t=pt[1],Et=new et(ot(mt,gt,_t)),yt=0,St=_t>0?gt-4:gt;for(ht=0;ht<St;ht+=4)dt=tt[mt.charCodeAt(ht)]<<18|tt[mt.charCodeAt(ht+1)]<<12|tt[mt.charCodeAt(ht+2)]<<6|tt[mt.charCodeAt(ht+3)],Et[yt++]=dt>>16&255,Et[yt++]=dt>>8&255,Et[yt++]=255&dt;return _t===2&&(dt=tt[mt.charCodeAt(ht)]<<2|tt[mt.charCodeAt(ht+1)]>>4,Et[yt++]=255&dt),_t===1&&(dt=tt[mt.charCodeAt(ht)]<<10|tt[mt.charCodeAt(ht+1)]<<4|tt[mt.charCodeAt(ht+2)]>>2,Et[yt++]=dt>>8&255,Et[yt++]=255&dt),Et}function ut(mt){return j[mt>>18&63]+j[mt>>12&63]+j[mt>>6&63]+j[63&mt]}function ct(mt,dt,ht){for(var pt,gt=[],_t=dt;_t<ht;_t+=3)pt=(mt[_t]<<16&16711680)+(mt[_t+1]<<8&65280)+(255&mt[_t+2]),gt.push(ut(pt));return gt.join("")}function ft(mt){for(var dt,ht=mt.length,pt=ht%3,gt=[],_t=16383,Et=0,yt=ht-pt;Et<yt;Et+=_t)gt.push(ct(mt,Et,Et+_t>yt?yt:Et+_t));return pt===1?(dt=mt[ht-1],gt.push(j[dt>>2]+j[dt<<4&63]+"==")):pt===2&&(dt=(mt[ht-2]<<8)+mt[ht-1],gt.push(j[dt>>10]+j[dt>>4&63]+j[dt<<2&63]+"=")),gt.join("")}tt["-".charCodeAt(0)]=62,tt["_".charCodeAt(0)]=63},{}],29:[function(d,g,$){},{}],30:[function(d,g,$){(function(j,tt){(function(){var et=d("assert"),rt=d("pako/lib/zlib/zstream"),nt=d("pako/lib/zlib/deflate.js"),it=d("pako/lib/zlib/inflate.js"),at=d("pako/lib/zlib/constants");for(var st in at)$[st]=at[st];$.NONE=0,$.DEFLATE=1,$.INFLATE=2,$.GZIP=3,$.GUNZIP=4,$.DEFLATERAW=5,$.INFLATERAW=6,$.UNZIP=7;var ot=31,lt=139;function ut(ct){if(typeof ct!="number"||ct<$.DEFLATE||ct>$.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ct,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}ut.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,et(this.init_done,"close before init"),et(this.mode<=$.UNZIP),this.mode===$.DEFLATE||this.mode===$.GZIP||this.mode===$.DEFLATERAW?nt.deflateEnd(this.strm):this.mode!==$.INFLATE&&this.mode!==$.GUNZIP&&this.mode!==$.INFLATERAW&&this.mode!==$.UNZIP||it.inflateEnd(this.strm),this.mode=$.NONE,this.dictionary=null)},ut.prototype.write=function(ct,ft,mt,dt,ht,pt,gt){return this._write(!0,ct,ft,mt,dt,ht,pt,gt)},ut.prototype.writeSync=function(ct,ft,mt,dt,ht,pt,gt){return this._write(!1,ct,ft,mt,dt,ht,pt,gt)},ut.prototype._write=function(ct,ft,mt,dt,ht,pt,gt,_t){if(et.equal(arguments.length,8),et(this.init_done,"write before init"),et(this.mode!==$.NONE,"already finalized"),et.equal(!1,this.write_in_progress,"write already in progress"),et.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,et.equal(!1,ft===void 0,"must provide flush value"),this.write_in_progress=!0,ft!==$.Z_NO_FLUSH&&ft!==$.Z_PARTIAL_FLUSH&&ft!==$.Z_SYNC_FLUSH&&ft!==$.Z_FULL_FLUSH&&ft!==$.Z_FINISH&&ft!==$.Z_BLOCK)throw new Error("Invalid flush value");if(mt==null&&(mt=tt.alloc(0),ht=0,dt=0),this.strm.avail_in=ht,this.strm.input=mt,this.strm.next_in=dt,this.strm.avail_out=_t,this.strm.output=pt,this.strm.next_out=gt,this.flush=ft,!ct)return this._process(),this._checkError()?this._afterSync():void 0;var Et=this;return j.nextTick(function(){Et._process(),Et._after()}),this},ut.prototype._afterSync=function(){var ct=this.strm.avail_out,ft=this.strm.avail_in;return this.write_in_progress=!1,[ft,ct]},ut.prototype._process=function(){var ct=null;switch(this.mode){case $.DEFLATE:case $.GZIP:case $.DEFLATERAW:this.err=nt.deflate(this.strm,this.flush);break;case $.UNZIP:switch(this.strm.avail_in>0&&(ct=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ct===null)break;if(this.strm.input[ct]!==ot){this.mode=$.INFLATE;break}if(this.gzip_id_bytes_read=1,ct++,this.strm.avail_in===1)break;case 1:if(ct===null)break;this.strm.input[ct]===lt?(this.gzip_id_bytes_read=2,this.mode=$.GUNZIP):this.mode=$.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case $.INFLATE:case $.GUNZIP:case $.INFLATERAW:for(this.err=it.inflate(this.strm,this.flush),this.err===$.Z_NEED_DICT&&this.dictionary&&(this.err=it.inflateSetDictionary(this.strm,this.dictionary),this.err===$.Z_OK?this.err=it.inflate(this.strm,this.flush):this.err===$.Z_DATA_ERROR&&(this.err=$.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===$.GUNZIP&&this.err===$.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=it.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},ut.prototype._checkError=function(){switch(this.err){case $.Z_OK:case $.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===$.Z_FINISH)return this._error("unexpected end of file"),!1;break;case $.Z_STREAM_END:break;case $.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},ut.prototype._after=function(){if(this._checkError()){var ct=this.strm.avail_out,ft=this.strm.avail_in;this.write_in_progress=!1,this.callback(ft,ct),this.pending_close&&this.close()}},ut.prototype._error=function(ct){this.strm.msg&&(ct=this.strm.msg),this.onerror(ct,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},ut.prototype.init=function(ct,ft,mt,dt,ht){et(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),et(ct>=8&&ct<=15,"invalid windowBits"),et(ft>=-1&&ft<=9,"invalid compression level"),et(mt>=1&&mt<=9,"invalid memlevel"),et(dt===$.Z_FILTERED||dt===$.Z_HUFFMAN_ONLY||dt===$.Z_RLE||dt===$.Z_FIXED||dt===$.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ft,ct,mt,dt,ht),this._setDictionary()},ut.prototype.params=function(){throw new Error("deflateParams Not supported")},ut.prototype.reset=function(){this._reset(),this._setDictionary()},ut.prototype._init=function(ct,ft,mt,dt,ht){switch(this.level=ct,this.windowBits=ft,this.memLevel=mt,this.strategy=dt,this.flush=$.Z_NO_FLUSH,this.err=$.Z_OK,this.mode!==$.GZIP&&this.mode!==$.GUNZIP||(this.windowBits+=16),this.mode===$.UNZIP&&(this.windowBits+=32),this.mode!==$.DEFLATERAW&&this.mode!==$.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new rt,this.mode){case $.DEFLATE:case $.GZIP:case $.DEFLATERAW:this.err=nt.deflateInit2(this.strm,this.level,$.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case $.INFLATE:case $.GUNZIP:case $.INFLATERAW:case $.UNZIP:this.err=it.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==$.Z_OK&&this._error("Init error"),this.dictionary=ht,this.write_in_progress=!1,this.init_done=!0},ut.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=$.Z_OK,this.mode){case $.DEFLATE:case $.DEFLATERAW:this.err=nt.deflateSetDictionary(this.strm,this.dictionary)}this.err!==$.Z_OK&&this._error("Failed to set dictionary")}},ut.prototype._reset=function(){switch(this.err=$.Z_OK,this.mode){case $.DEFLATE:case $.DEFLATERAW:case $.GZIP:this.err=nt.deflateReset(this.strm);break;case $.INFLATE:case $.INFLATERAW:case $.GUNZIP:this.err=it.inflateReset(this.strm)}this.err!==$.Z_OK&&this._error("Failed to reset stream")},$.Zlib=ut}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,g,$){(function(j){(function(){var tt=d("buffer").Buffer,et=d("stream").Transform,rt=d("./binding"),nt=d("util"),it=d("assert").ok,at=d("buffer").kMaxLength,st="Cannot create final Buffer. It would be larger than 0x"+at.toString(16)+" bytes";rt.Z_MIN_WINDOWBITS=8,rt.Z_MAX_WINDOWBITS=15,rt.Z_DEFAULT_WINDOWBITS=15,rt.Z_MIN_CHUNK=64,rt.Z_MAX_CHUNK=1/0,rt.Z_DEFAULT_CHUNK=16384,rt.Z_MIN_MEMLEVEL=1,rt.Z_MAX_MEMLEVEL=9,rt.Z_DEFAULT_MEMLEVEL=8,rt.Z_MIN_LEVEL=-1,rt.Z_MAX_LEVEL=9,rt.Z_DEFAULT_LEVEL=rt.Z_DEFAULT_COMPRESSION;for(var ot=Object.keys(rt),lt=0;lt<ot.length;lt++){var ut=ot[lt];ut.match(/^Z/)&&Object.defineProperty($,ut,{enumerable:!0,value:rt[ut],writable:!1})}for(var ct={Z_OK:rt.Z_OK,Z_STREAM_END:rt.Z_STREAM_END,Z_NEED_DICT:rt.Z_NEED_DICT,Z_ERRNO:rt.Z_ERRNO,Z_STREAM_ERROR:rt.Z_STREAM_ERROR,Z_DATA_ERROR:rt.Z_DATA_ERROR,Z_MEM_ERROR:rt.Z_MEM_ERROR,Z_BUF_ERROR:rt.Z_BUF_ERROR,Z_VERSION_ERROR:rt.Z_VERSION_ERROR},ft=Object.keys(ct),mt=0;mt<ft.length;mt++){var dt=ft[mt];ct[ct[dt]]=dt}function ht(At,Pt,Kt){var Ut=[],It=0;function jt(){for(var Vt;(Vt=At.read())!==null;)Ut.push(Vt),It+=Vt.length;At.once("readable",jt)}function zt(Vt){At.removeListener("end",Ht),At.removeListener("readable",jt),Kt(Vt)}function Ht(){var Vt,Wt=null;It>=at?Wt=new RangeError(st):Vt=tt.concat(Ut,It),Ut=[],At.close(),Kt(Wt,Vt)}At.on("error",zt),At.on("end",Ht),At.end(Pt),jt()}function pt(At,Pt){if(typeof Pt=="string"&&(Pt=tt.from(Pt)),!tt.isBuffer(Pt))throw new TypeError("Not a string or buffer");var Kt=At._finishFlushFlag;return At._processChunk(Pt,Kt)}function gt(At){if(!(this instanceof gt))return new gt(At);Tt.call(this,At,rt.DEFLATE)}function _t(At){if(!(this instanceof _t))return new _t(At);Tt.call(this,At,rt.INFLATE)}function Et(At){if(!(this instanceof Et))return new Et(At);Tt.call(this,At,rt.GZIP)}function yt(At){if(!(this instanceof yt))return new yt(At);Tt.call(this,At,rt.GUNZIP)}function St(At){if(!(this instanceof St))return new St(At);Tt.call(this,At,rt.DEFLATERAW)}function wt(At){if(!(this instanceof wt))return new wt(At);Tt.call(this,At,rt.INFLATERAW)}function kt(At){if(!(this instanceof kt))return new kt(At);Tt.call(this,At,rt.UNZIP)}function bt(At){return At===rt.Z_NO_FLUSH||At===rt.Z_PARTIAL_FLUSH||At===rt.Z_SYNC_FLUSH||At===rt.Z_FULL_FLUSH||At===rt.Z_FINISH||At===rt.Z_BLOCK}function Tt(At,Pt){var Kt=this;if(this._opts=At=At||{},this._chunkSize=At.chunkSize||$.Z_DEFAULT_CHUNK,et.call(this,At),At.flush&&!bt(At.flush))throw new Error("Invalid flush flag: "+At.flush);if(At.finishFlush&&!bt(At.finishFlush))throw new Error("Invalid flush flag: "+At.finishFlush);if(this._flushFlag=At.flush||rt.Z_NO_FLUSH,this._finishFlushFlag=At.finishFlush!==void 0?At.finishFlush:rt.Z_FINISH,At.chunkSize&&(At.chunkSize<$.Z_MIN_CHUNK||At.chunkSize>$.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+At.chunkSize);if(At.windowBits&&(At.windowBits<$.Z_MIN_WINDOWBITS||At.windowBits>$.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+At.windowBits);if(At.level&&(At.level<$.Z_MIN_LEVEL||At.level>$.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+At.level);if(At.memLevel&&(At.memLevel<$.Z_MIN_MEMLEVEL||At.memLevel>$.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+At.memLevel);if(At.strategy&&At.strategy!=$.Z_FILTERED&&At.strategy!=$.Z_HUFFMAN_ONLY&&At.strategy!=$.Z_RLE&&At.strategy!=$.Z_FIXED&&At.strategy!=$.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+At.strategy);if(At.dictionary&&!tt.isBuffer(At.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new rt.Zlib(Pt);var Ut=this;this._hadError=!1,this._handle.onerror=function(zt,Ht){Dt(Ut),Ut._hadError=!0;var Vt=new Error(zt);Vt.errno=Ht,Vt.code=$.codes[Ht],Ut.emit("error",Vt)};var It=$.Z_DEFAULT_COMPRESSION;typeof At.level=="number"&&(It=At.level);var jt=$.Z_DEFAULT_STRATEGY;typeof At.strategy=="number"&&(jt=At.strategy),this._handle.init(At.windowBits||$.Z_DEFAULT_WINDOWBITS,It,At.memLevel||$.Z_DEFAULT_MEMLEVEL,jt,At.dictionary),this._buffer=tt.allocUnsafe(this._chunkSize),this._offset=0,this._level=It,this._strategy=jt,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Kt._handle},configurable:!0,enumerable:!0})}function Dt(At,Pt){Pt&&j.nextTick(Pt),At._handle&&(At._handle.close(),At._handle=null)}function $t(At){At.emit("close")}Object.defineProperty($,"codes",{enumerable:!0,value:Object.freeze(ct),writable:!1}),$.Deflate=gt,$.Inflate=_t,$.Gzip=Et,$.Gunzip=yt,$.DeflateRaw=St,$.InflateRaw=wt,$.Unzip=kt,$.createDeflate=function(At){return new gt(At)},$.createInflate=function(At){return new _t(At)},$.createDeflateRaw=function(At){return new St(At)},$.createInflateRaw=function(At){return new wt(At)},$.createGzip=function(At){return new Et(At)},$.createGunzip=function(At){return new yt(At)},$.createUnzip=function(At){return new kt(At)},$.deflate=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new gt(Pt),At,Kt)},$.deflateSync=function(At,Pt){return pt(new gt(Pt),At)},$.gzip=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new Et(Pt),At,Kt)},$.gzipSync=function(At,Pt){return pt(new Et(Pt),At)},$.deflateRaw=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new St(Pt),At,Kt)},$.deflateRawSync=function(At,Pt){return pt(new St(Pt),At)},$.unzip=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new kt(Pt),At,Kt)},$.unzipSync=function(At,Pt){return pt(new kt(Pt),At)},$.inflate=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new _t(Pt),At,Kt)},$.inflateSync=function(At,Pt){return pt(new _t(Pt),At)},$.gunzip=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new yt(Pt),At,Kt)},$.gunzipSync=function(At,Pt){return pt(new yt(Pt),At)},$.inflateRaw=function(At,Pt,Kt){return typeof Pt=="function"&&(Kt=Pt,Pt={}),ht(new wt(Pt),At,Kt)},$.inflateRawSync=function(At,Pt){return pt(new wt(Pt),At)},nt.inherits(Tt,et),Tt.prototype.params=function(At,Pt,Kt){if(At<$.Z_MIN_LEVEL||At>$.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+At);if(Pt!=$.Z_FILTERED&&Pt!=$.Z_HUFFMAN_ONLY&&Pt!=$.Z_RLE&&Pt!=$.Z_FIXED&&Pt!=$.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Pt);if(this._level!==At||this._strategy!==Pt){var Ut=this;this.flush(rt.Z_SYNC_FLUSH,function(){it(Ut._handle,"zlib binding closed"),Ut._handle.params(At,Pt),Ut._hadError||(Ut._level=At,Ut._strategy=Pt,Kt&&Kt())})}else j.nextTick(Kt)},Tt.prototype.reset=function(){return it(this._handle,"zlib binding closed"),this._handle.reset()},Tt.prototype._flush=function(At){this._transform(tt.alloc(0),"",At)},Tt.prototype.flush=function(At,Pt){var Kt=this,Ut=this._writableState;(typeof At=="function"||At===void 0&&!Pt)&&(Pt=At,At=rt.Z_FULL_FLUSH),Ut.ended?Pt&&j.nextTick(Pt):Ut.ending?Pt&&this.once("end",Pt):Ut.needDrain?Pt&&this.once("drain",function(){return Kt.flush(At,Pt)}):(this._flushFlag=At,this.write(tt.alloc(0),"",Pt))},Tt.prototype.close=function(At){Dt(this,At),j.nextTick($t,this)},Tt.prototype._transform=function(At,Pt,Kt){var Ut,It=this._writableState,jt=(It.ending||It.ended)&&(!At||It.length===At.length);return At===null||tt.isBuffer(At)?this._handle?(jt?Ut=this._finishFlushFlag:(Ut=this._flushFlag,At.length>=It.length&&(this._flushFlag=this._opts.flush||rt.Z_NO_FLUSH)),void this._processChunk(At,Ut,Kt)):Kt(new Error("zlib binding closed")):Kt(new Error("invalid input"))},Tt.prototype._processChunk=function(At,Pt,Kt){var Ut=At&&At.length,It=this._chunkSize-this._offset,jt=0,zt=this,Ht=typeof Kt=="function";if(!Ht){var Vt,Wt=[],Zt=0;this.on("error",function(Yt){Vt=Yt}),it(this._handle,"zlib binding closed");do var Qt=this._handle.writeSync(Pt,At,jt,Ut,this._buffer,this._offset,It);while(!this._hadError&&ir(Qt[0],Qt[1]));if(this._hadError)throw Vt;if(Zt>=at)throw Dt(this),new RangeError(st);var Xt=tt.concat(Wt,Zt);return Dt(this),Xt}it(this._handle,"zlib binding closed");var er=this._handle.write(Pt,At,jt,Ut,this._buffer,this._offset,It);function ir(Yt,xt){if(this&&(this.buffer=null,this.callback=null),!zt._hadError){var qt=It-xt;if(it(qt>=0,"have should not go down"),qt>0){var Rt=zt._buffer.slice(zt._offset,zt._offset+qt);zt._offset+=qt,Ht?zt.push(Rt):(Wt.push(Rt),Zt+=Rt.length)}if((xt===0||zt._offset>=zt._chunkSize)&&(It=zt._chunkSize,zt._offset=0,zt._buffer=tt.allocUnsafe(zt._chunkSize)),xt===0){if(jt+=Ut-Yt,Ut=Yt,!Ht)return!0;var Nt=zt._handle.write(Pt,At,jt,Ut,zt._buffer,zt._offset,zt._chunkSize);return Nt.callback=ir,void(Nt.buffer=At)}if(!Ht)return!1;Kt()}}er.buffer=At,er.callback=ir},nt.inherits(gt,Tt),nt.inherits(_t,Tt),nt.inherits(Et,Tt),nt.inherits(yt,Tt),nt.inherits(St,Tt),nt.inherits(wt,Tt),nt.inherits(kt,Tt)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,g,$){(function(j){(function(){var tt=d("base64-js"),et=d("ieee754");$.Buffer=at,$.SlowBuffer=pt,$.INSPECT_MAX_BYTES=50;var rt=2147483647;function nt(){try{var vt=new Uint8Array(1);return vt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},vt.foo()===42}catch{return!1}}function it(vt){if(vt>rt)throw new RangeError('The value "'+vt+'" is invalid for option "size"');var Mt=new Uint8Array(vt);return Mt.__proto__=at.prototype,Mt}function at(vt,Mt,Ot){if(typeof vt=="number"){if(typeof Mt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ut(vt)}return st(vt,Mt,Ot)}function st(vt,Mt,Ot){if(typeof vt=="string")return ct(vt,Mt);if(ArrayBuffer.isView(vt))return ft(vt);if(vt==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof vt);if(Lt(vt,ArrayBuffer)||vt&&Lt(vt.buffer,ArrayBuffer))return mt(vt,Mt,Ot);if(typeof vt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ft=vt.valueOf&&vt.valueOf();if(Ft!=null&&Ft!==vt)return at.from(Ft,Mt,Ot);var rr=dt(vt);if(rr)return rr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof vt[Symbol.toPrimitive]=="function")return at.from(vt[Symbol.toPrimitive]("string"),Mt,Ot);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof vt)}function ot(vt){if(typeof vt!="number")throw new TypeError('"size" argument must be of type number');if(vt<0)throw new RangeError('The value "'+vt+'" is invalid for option "size"')}function lt(vt,Mt,Ot){return ot(vt),vt<=0?it(vt):Mt!==void 0?typeof Ot=="string"?it(vt).fill(Mt,Ot):it(vt).fill(Mt):it(vt)}function ut(vt){return ot(vt),it(vt<0?0:0|ht(vt))}function ct(vt,Mt){if(typeof Mt=="string"&&Mt!==""||(Mt="utf8"),!at.isEncoding(Mt))throw new TypeError("Unknown encoding: "+Mt);var Ot=0|gt(vt,Mt),Ft=it(Ot),rr=Ft.write(vt,Mt);return rr!==Ot&&(Ft=Ft.slice(0,rr)),Ft}function ft(vt){for(var Mt=vt.length<0?0:0|ht(vt.length),Ot=it(Mt),Ft=0;Ft<Mt;Ft+=1)Ot[Ft]=255&vt[Ft];return Ot}function mt(vt,Mt,Ot){if(Mt<0||vt.byteLength<Mt)throw new RangeError('"offset" is outside of buffer bounds');if(vt.byteLength<Mt+(Ot||0))throw new RangeError('"length" is outside of buffer bounds');var Ft;return(Ft=Mt===void 0&&Ot===void 0?new Uint8Array(vt):Ot===void 0?new Uint8Array(vt,Mt):new Uint8Array(vt,Mt,Ot)).__proto__=at.prototype,Ft}function dt(vt){if(at.isBuffer(vt)){var Mt=0|ht(vt.length),Ot=it(Mt);return Ot.length===0||vt.copy(Ot,0,0,Mt),Ot}return vt.length!==void 0?typeof vt.length!="number"||Jt(vt.length)?it(0):ft(vt):vt.type==="Buffer"&&Array.isArray(vt.data)?ft(vt.data):void 0}function ht(vt){if(vt>=rt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+rt.toString(16)+" bytes");return 0|vt}function pt(vt){return+vt!=vt&&(vt=0),at.alloc(+vt)}function gt(vt,Mt){if(at.isBuffer(vt))return vt.length;if(ArrayBuffer.isView(vt)||Lt(vt,ArrayBuffer))return vt.byteLength;if(typeof vt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof vt);var Ot=vt.length,Ft=arguments.length>2&&arguments[2]===!0;if(!Ft&&Ot===0)return 0;for(var rr=!1;;)switch(Mt){case"ascii":case"latin1":case"binary":return Ot;case"utf8":case"utf-8":return xt(vt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ot;case"hex":return Ot>>>1;case"base64":return Nt(vt).length;default:if(rr)return Ft?-1:xt(vt).length;Mt=(""+Mt).toLowerCase(),rr=!0}}function _t(vt,Mt,Ot){var Ft=!1;if((Mt===void 0||Mt<0)&&(Mt=0),Mt>this.length||((Ot===void 0||Ot>this.length)&&(Ot=this.length),Ot<=0)||(Ot>>>=0)<=(Mt>>>=0))return"";for(vt||(vt="utf8");;)switch(vt){case"hex":return zt(this,Mt,Ot);case"utf8":case"utf-8":return Pt(this,Mt,Ot);case"ascii":return It(this,Mt,Ot);case"latin1":case"binary":return jt(this,Mt,Ot);case"base64":return At(this,Mt,Ot);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ht(this,Mt,Ot);default:if(Ft)throw new TypeError("Unknown encoding: "+vt);vt=(vt+"").toLowerCase(),Ft=!0}}function Et(vt,Mt,Ot){var Ft=vt[Mt];vt[Mt]=vt[Ot],vt[Ot]=Ft}function yt(vt,Mt,Ot,Ft,rr){if(vt.length===0)return-1;if(typeof Ot=="string"?(Ft=Ot,Ot=0):Ot>2147483647?Ot=2147483647:Ot<-2147483648&&(Ot=-2147483648),Jt(Ot=+Ot)&&(Ot=rr?0:vt.length-1),Ot<0&&(Ot=vt.length+Ot),Ot>=vt.length){if(rr)return-1;Ot=vt.length-1}else if(Ot<0){if(!rr)return-1;Ot=0}if(typeof Mt=="string"&&(Mt=at.from(Mt,Ft)),at.isBuffer(Mt))return Mt.length===0?-1:St(vt,Mt,Ot,Ft,rr);if(typeof Mt=="number")return Mt&=255,typeof Uint8Array.prototype.indexOf=="function"?rr?Uint8Array.prototype.indexOf.call(vt,Mt,Ot):Uint8Array.prototype.lastIndexOf.call(vt,Mt,Ot):St(vt,[Mt],Ot,Ft,rr);throw new TypeError("val must be string, number or Buffer")}function St(vt,Mt,Ot,Ft,rr){var ar,dr=1,gr=vt.length,fr=Mt.length;if(Ft!==void 0&&((Ft=String(Ft).toLowerCase())==="ucs2"||Ft==="ucs-2"||Ft==="utf16le"||Ft==="utf-16le")){if(vt.length<2||Mt.length<2)return-1;dr=2,gr/=2,fr/=2,Ot/=2}function _r(wr,Mr){return dr===1?wr[Mr]:wr.readUInt16BE(Mr*dr)}if(rr){var pr=-1;for(ar=Ot;ar<gr;ar++)if(_r(vt,ar)===_r(Mt,pr===-1?0:ar-pr)){if(pr===-1&&(pr=ar),ar-pr+1===fr)return pr*dr}else pr!==-1&&(ar-=ar-pr),pr=-1}else for(Ot+fr>gr&&(Ot=gr-fr),ar=Ot;ar>=0;ar--){for(var Er=!0,vr=0;vr<fr;vr++)if(_r(vt,ar+vr)!==_r(Mt,vr)){Er=!1;break}if(Er)return ar}return-1}function wt(vt,Mt,Ot,Ft){Ot=Number(Ot)||0;var rr=vt.length-Ot;Ft?(Ft=Number(Ft))>rr&&(Ft=rr):Ft=rr;var ar=Mt.length;Ft>ar/2&&(Ft=ar/2);for(var dr=0;dr<Ft;++dr){var gr=parseInt(Mt.substr(2*dr,2),16);if(Jt(gr))return dr;vt[Ot+dr]=gr}return dr}function kt(vt,Mt,Ot,Ft){return Bt(xt(Mt,vt.length-Ot),vt,Ot,Ft)}function bt(vt,Mt,Ot,Ft){return Bt(qt(Mt),vt,Ot,Ft)}function Tt(vt,Mt,Ot,Ft){return bt(vt,Mt,Ot,Ft)}function Dt(vt,Mt,Ot,Ft){return Bt(Nt(Mt),vt,Ot,Ft)}function $t(vt,Mt,Ot,Ft){return Bt(Rt(Mt,vt.length-Ot),vt,Ot,Ft)}function At(vt,Mt,Ot){return Mt===0&&Ot===vt.length?tt.fromByteArray(vt):tt.fromByteArray(vt.slice(Mt,Ot))}function Pt(vt,Mt,Ot){Ot=Math.min(vt.length,Ot);for(var Ft=[],rr=Mt;rr<Ot;){var ar,dr,gr,fr,_r=vt[rr],pr=null,Er=_r>239?4:_r>223?3:_r>191?2:1;if(rr+Er<=Ot)switch(Er){case 1:_r<128&&(pr=_r);break;case 2:(192&(ar=vt[rr+1]))==128&&(fr=(31&_r)<<6|63&ar)>127&&(pr=fr);break;case 3:ar=vt[rr+1],dr=vt[rr+2],(192&ar)==128&&(192&dr)==128&&(fr=(15&_r)<<12|(63&ar)<<6|63&dr)>2047&&(fr<55296||fr>57343)&&(pr=fr);break;case 4:ar=vt[rr+1],dr=vt[rr+2],gr=vt[rr+3],(192&ar)==128&&(192&dr)==128&&(192&gr)==128&&(fr=(15&_r)<<18|(63&ar)<<12|(63&dr)<<6|63&gr)>65535&&fr<1114112&&(pr=fr)}pr===null?(pr=65533,Er=1):pr>65535&&(pr-=65536,Ft.push(pr>>>10&1023|55296),pr=56320|1023&pr),Ft.push(pr),rr+=Er}return Ut(Ft)}$.kMaxLength=rt,at.TYPED_ARRAY_SUPPORT=nt(),at.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(at.prototype,"parent",{enumerable:!0,get:function(){if(at.isBuffer(this))return this.buffer}}),Object.defineProperty(at.prototype,"offset",{enumerable:!0,get:function(){if(at.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&at[Symbol.species]===at&&Object.defineProperty(at,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),at.poolSize=8192,at.from=function(vt,Mt,Ot){return st(vt,Mt,Ot)},at.prototype.__proto__=Uint8Array.prototype,at.__proto__=Uint8Array,at.alloc=function(vt,Mt,Ot){return lt(vt,Mt,Ot)},at.allocUnsafe=function(vt){return ut(vt)},at.allocUnsafeSlow=function(vt){return ut(vt)},at.isBuffer=function(vt){return vt!=null&&vt._isBuffer===!0&&vt!==at.prototype},at.compare=function(vt,Mt){if(Lt(vt,Uint8Array)&&(vt=at.from(vt,vt.offset,vt.byteLength)),Lt(Mt,Uint8Array)&&(Mt=at.from(Mt,Mt.offset,Mt.byteLength)),!at.isBuffer(vt)||!at.isBuffer(Mt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(vt===Mt)return 0;for(var Ot=vt.length,Ft=Mt.length,rr=0,ar=Math.min(Ot,Ft);rr<ar;++rr)if(vt[rr]!==Mt[rr]){Ot=vt[rr],Ft=Mt[rr];break}return Ot<Ft?-1:Ft<Ot?1:0},at.isEncoding=function(vt){switch(String(vt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},at.concat=function(vt,Mt){if(!Array.isArray(vt))throw new TypeError('"list" argument must be an Array of Buffers');if(vt.length===0)return at.alloc(0);var Ot;if(Mt===void 0)for(Mt=0,Ot=0;Ot<vt.length;++Ot)Mt+=vt[Ot].length;var Ft=at.allocUnsafe(Mt),rr=0;for(Ot=0;Ot<vt.length;++Ot){var ar=vt[Ot];if(Lt(ar,Uint8Array)&&(ar=at.from(ar)),!at.isBuffer(ar))throw new TypeError('"list" argument must be an Array of Buffers');ar.copy(Ft,rr),rr+=ar.length}return Ft},at.byteLength=gt,at.prototype._isBuffer=!0,at.prototype.swap16=function(){var vt=this.length;if(vt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Mt=0;Mt<vt;Mt+=2)Et(this,Mt,Mt+1);return this},at.prototype.swap32=function(){var vt=this.length;if(vt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Mt=0;Mt<vt;Mt+=4)Et(this,Mt,Mt+3),Et(this,Mt+1,Mt+2);return this},at.prototype.swap64=function(){var vt=this.length;if(vt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Mt=0;Mt<vt;Mt+=8)Et(this,Mt,Mt+7),Et(this,Mt+1,Mt+6),Et(this,Mt+2,Mt+5),Et(this,Mt+3,Mt+4);return this},at.prototype.toString=function(){var vt=this.length;return vt===0?"":arguments.length===0?Pt(this,0,vt):_t.apply(this,arguments)},at.prototype.toLocaleString=at.prototype.toString,at.prototype.equals=function(vt){if(!at.isBuffer(vt))throw new TypeError("Argument must be a Buffer");return this===vt||at.compare(this,vt)===0},at.prototype.inspect=function(){var vt="",Mt=$.INSPECT_MAX_BYTES;return vt=this.toString("hex",0,Mt).replace(/(.{2})/g,"$1 ").trim(),this.length>Mt&&(vt+=" ... "),"<Buffer "+vt+">"},at.prototype.compare=function(vt,Mt,Ot,Ft,rr){if(Lt(vt,Uint8Array)&&(vt=at.from(vt,vt.offset,vt.byteLength)),!at.isBuffer(vt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof vt);if(Mt===void 0&&(Mt=0),Ot===void 0&&(Ot=vt?vt.length:0),Ft===void 0&&(Ft=0),rr===void 0&&(rr=this.length),Mt<0||Ot>vt.length||Ft<0||rr>this.length)throw new RangeError("out of range index");if(Ft>=rr&&Mt>=Ot)return 0;if(Ft>=rr)return-1;if(Mt>=Ot)return 1;if(this===vt)return 0;for(var ar=(rr>>>=0)-(Ft>>>=0),dr=(Ot>>>=0)-(Mt>>>=0),gr=Math.min(ar,dr),fr=this.slice(Ft,rr),_r=vt.slice(Mt,Ot),pr=0;pr<gr;++pr)if(fr[pr]!==_r[pr]){ar=fr[pr],dr=_r[pr];break}return ar<dr?-1:dr<ar?1:0},at.prototype.includes=function(vt,Mt,Ot){return this.indexOf(vt,Mt,Ot)!==-1},at.prototype.indexOf=function(vt,Mt,Ot){return yt(this,vt,Mt,Ot,!0)},at.prototype.lastIndexOf=function(vt,Mt,Ot){return yt(this,vt,Mt,Ot,!1)},at.prototype.write=function(vt,Mt,Ot,Ft){if(Mt===void 0)Ft="utf8",Ot=this.length,Mt=0;else if(Ot===void 0&&typeof Mt=="string")Ft=Mt,Ot=this.length,Mt=0;else{if(!isFinite(Mt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Mt>>>=0,isFinite(Ot)?(Ot>>>=0,Ft===void 0&&(Ft="utf8")):(Ft=Ot,Ot=void 0)}var rr=this.length-Mt;if((Ot===void 0||Ot>rr)&&(Ot=rr),vt.length>0&&(Ot<0||Mt<0)||Mt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ft||(Ft="utf8");for(var ar=!1;;)switch(Ft){case"hex":return wt(this,vt,Mt,Ot);case"utf8":case"utf-8":return kt(this,vt,Mt,Ot);case"ascii":return bt(this,vt,Mt,Ot);case"latin1":case"binary":return Tt(this,vt,Mt,Ot);case"base64":return Dt(this,vt,Mt,Ot);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $t(this,vt,Mt,Ot);default:if(ar)throw new TypeError("Unknown encoding: "+Ft);Ft=(""+Ft).toLowerCase(),ar=!0}},at.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Kt=4096;function Ut(vt){var Mt=vt.length;if(Mt<=Kt)return String.fromCharCode.apply(String,vt);for(var Ot="",Ft=0;Ft<Mt;)Ot+=String.fromCharCode.apply(String,vt.slice(Ft,Ft+=Kt));return Ot}function It(vt,Mt,Ot){var Ft="";Ot=Math.min(vt.length,Ot);for(var rr=Mt;rr<Ot;++rr)Ft+=String.fromCharCode(127&vt[rr]);return Ft}function jt(vt,Mt,Ot){var Ft="";Ot=Math.min(vt.length,Ot);for(var rr=Mt;rr<Ot;++rr)Ft+=String.fromCharCode(vt[rr]);return Ft}function zt(vt,Mt,Ot){var Ft=vt.length;(!Mt||Mt<0)&&(Mt=0),(!Ot||Ot<0||Ot>Ft)&&(Ot=Ft);for(var rr="",ar=Mt;ar<Ot;++ar)rr+=Yt(vt[ar]);return rr}function Ht(vt,Mt,Ot){for(var Ft=vt.slice(Mt,Ot),rr="",ar=0;ar<Ft.length;ar+=2)rr+=String.fromCharCode(Ft[ar]+256*Ft[ar+1]);return rr}function Vt(vt,Mt,Ot){if(vt%1!=0||vt<0)throw new RangeError("offset is not uint");if(vt+Mt>Ot)throw new RangeError("Trying to access beyond buffer length")}function Wt(vt,Mt,Ot,Ft,rr,ar){if(!at.isBuffer(vt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Mt>rr||Mt<ar)throw new RangeError('"value" argument is out of bounds');if(Ot+Ft>vt.length)throw new RangeError("Index out of range")}function Zt(vt,Mt,Ot,Ft,rr,ar){if(Ot+Ft>vt.length)throw new RangeError("Index out of range");if(Ot<0)throw new RangeError("Index out of range")}function Qt(vt,Mt,Ot,Ft,rr){return Mt=+Mt,Ot>>>=0,rr||Zt(vt,Mt,Ot,4),et.write(vt,Mt,Ot,Ft,23,4),Ot+4}function Xt(vt,Mt,Ot,Ft,rr){return Mt=+Mt,Ot>>>=0,rr||Zt(vt,Mt,Ot,8),et.write(vt,Mt,Ot,Ft,52,8),Ot+8}at.prototype.slice=function(vt,Mt){var Ot=this.length;(vt=~~vt)<0?(vt+=Ot)<0&&(vt=0):vt>Ot&&(vt=Ot),(Mt=Mt===void 0?Ot:~~Mt)<0?(Mt+=Ot)<0&&(Mt=0):Mt>Ot&&(Mt=Ot),Mt<vt&&(Mt=vt);var Ft=this.subarray(vt,Mt);return Ft.__proto__=at.prototype,Ft},at.prototype.readUIntLE=function(vt,Mt,Ot){vt>>>=0,Mt>>>=0,Ot||Vt(vt,Mt,this.length);for(var Ft=this[vt],rr=1,ar=0;++ar<Mt&&(rr*=256);)Ft+=this[vt+ar]*rr;return Ft},at.prototype.readUIntBE=function(vt,Mt,Ot){vt>>>=0,Mt>>>=0,Ot||Vt(vt,Mt,this.length);for(var Ft=this[vt+--Mt],rr=1;Mt>0&&(rr*=256);)Ft+=this[vt+--Mt]*rr;return Ft},at.prototype.readUInt8=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,1,this.length),this[vt]},at.prototype.readUInt16LE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,2,this.length),this[vt]|this[vt+1]<<8},at.prototype.readUInt16BE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,2,this.length),this[vt]<<8|this[vt+1]},at.prototype.readUInt32LE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,4,this.length),(this[vt]|this[vt+1]<<8|this[vt+2]<<16)+16777216*this[vt+3]},at.prototype.readUInt32BE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,4,this.length),16777216*this[vt]+(this[vt+1]<<16|this[vt+2]<<8|this[vt+3])},at.prototype.readIntLE=function(vt,Mt,Ot){vt>>>=0,Mt>>>=0,Ot||Vt(vt,Mt,this.length);for(var Ft=this[vt],rr=1,ar=0;++ar<Mt&&(rr*=256);)Ft+=this[vt+ar]*rr;return Ft>=(rr*=128)&&(Ft-=Math.pow(2,8*Mt)),Ft},at.prototype.readIntBE=function(vt,Mt,Ot){vt>>>=0,Mt>>>=0,Ot||Vt(vt,Mt,this.length);for(var Ft=Mt,rr=1,ar=this[vt+--Ft];Ft>0&&(rr*=256);)ar+=this[vt+--Ft]*rr;return ar>=(rr*=128)&&(ar-=Math.pow(2,8*Mt)),ar},at.prototype.readInt8=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,1,this.length),128&this[vt]?-1*(255-this[vt]+1):this[vt]},at.prototype.readInt16LE=function(vt,Mt){vt>>>=0,Mt||Vt(vt,2,this.length);var Ot=this[vt]|this[vt+1]<<8;return 32768&Ot?4294901760|Ot:Ot},at.prototype.readInt16BE=function(vt,Mt){vt>>>=0,Mt||Vt(vt,2,this.length);var Ot=this[vt+1]|this[vt]<<8;return 32768&Ot?4294901760|Ot:Ot},at.prototype.readInt32LE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,4,this.length),this[vt]|this[vt+1]<<8|this[vt+2]<<16|this[vt+3]<<24},at.prototype.readInt32BE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,4,this.length),this[vt]<<24|this[vt+1]<<16|this[vt+2]<<8|this[vt+3]},at.prototype.readFloatLE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,4,this.length),et.read(this,vt,!0,23,4)},at.prototype.readFloatBE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,4,this.length),et.read(this,vt,!1,23,4)},at.prototype.readDoubleLE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,8,this.length),et.read(this,vt,!0,52,8)},at.prototype.readDoubleBE=function(vt,Mt){return vt>>>=0,Mt||Vt(vt,8,this.length),et.read(this,vt,!1,52,8)},at.prototype.writeUIntLE=function(vt,Mt,Ot,Ft){vt=+vt,Mt>>>=0,Ot>>>=0,Ft||Wt(this,vt,Mt,Ot,Math.pow(2,8*Ot)-1,0);var rr=1,ar=0;for(this[Mt]=255&vt;++ar<Ot&&(rr*=256);)this[Mt+ar]=vt/rr&255;return Mt+Ot},at.prototype.writeUIntBE=function(vt,Mt,Ot,Ft){vt=+vt,Mt>>>=0,Ot>>>=0,Ft||Wt(this,vt,Mt,Ot,Math.pow(2,8*Ot)-1,0);var rr=Ot-1,ar=1;for(this[Mt+rr]=255&vt;--rr>=0&&(ar*=256);)this[Mt+rr]=vt/ar&255;return Mt+Ot},at.prototype.writeUInt8=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,1,255,0),this[Mt]=255&vt,Mt+1},at.prototype.writeUInt16LE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,2,65535,0),this[Mt]=255&vt,this[Mt+1]=vt>>>8,Mt+2},at.prototype.writeUInt16BE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,2,65535,0),this[Mt]=vt>>>8,this[Mt+1]=255&vt,Mt+2},at.prototype.writeUInt32LE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,4,4294967295,0),this[Mt+3]=vt>>>24,this[Mt+2]=vt>>>16,this[Mt+1]=vt>>>8,this[Mt]=255&vt,Mt+4},at.prototype.writeUInt32BE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,4,4294967295,0),this[Mt]=vt>>>24,this[Mt+1]=vt>>>16,this[Mt+2]=vt>>>8,this[Mt+3]=255&vt,Mt+4},at.prototype.writeIntLE=function(vt,Mt,Ot,Ft){if(vt=+vt,Mt>>>=0,!Ft){var rr=Math.pow(2,8*Ot-1);Wt(this,vt,Mt,Ot,rr-1,-rr)}var ar=0,dr=1,gr=0;for(this[Mt]=255&vt;++ar<Ot&&(dr*=256);)vt<0&&gr===0&&this[Mt+ar-1]!==0&&(gr=1),this[Mt+ar]=(vt/dr|0)-gr&255;return Mt+Ot},at.prototype.writeIntBE=function(vt,Mt,Ot,Ft){if(vt=+vt,Mt>>>=0,!Ft){var rr=Math.pow(2,8*Ot-1);Wt(this,vt,Mt,Ot,rr-1,-rr)}var ar=Ot-1,dr=1,gr=0;for(this[Mt+ar]=255&vt;--ar>=0&&(dr*=256);)vt<0&&gr===0&&this[Mt+ar+1]!==0&&(gr=1),this[Mt+ar]=(vt/dr|0)-gr&255;return Mt+Ot},at.prototype.writeInt8=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,1,127,-128),vt<0&&(vt=255+vt+1),this[Mt]=255&vt,Mt+1},at.prototype.writeInt16LE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,2,32767,-32768),this[Mt]=255&vt,this[Mt+1]=vt>>>8,Mt+2},at.prototype.writeInt16BE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,2,32767,-32768),this[Mt]=vt>>>8,this[Mt+1]=255&vt,Mt+2},at.prototype.writeInt32LE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,4,2147483647,-2147483648),this[Mt]=255&vt,this[Mt+1]=vt>>>8,this[Mt+2]=vt>>>16,this[Mt+3]=vt>>>24,Mt+4},at.prototype.writeInt32BE=function(vt,Mt,Ot){return vt=+vt,Mt>>>=0,Ot||Wt(this,vt,Mt,4,2147483647,-2147483648),vt<0&&(vt=4294967295+vt+1),this[Mt]=vt>>>24,this[Mt+1]=vt>>>16,this[Mt+2]=vt>>>8,this[Mt+3]=255&vt,Mt+4},at.prototype.writeFloatLE=function(vt,Mt,Ot){return Qt(this,vt,Mt,!0,Ot)},at.prototype.writeFloatBE=function(vt,Mt,Ot){return Qt(this,vt,Mt,!1,Ot)},at.prototype.writeDoubleLE=function(vt,Mt,Ot){return Xt(this,vt,Mt,!0,Ot)},at.prototype.writeDoubleBE=function(vt,Mt,Ot){return Xt(this,vt,Mt,!1,Ot)},at.prototype.copy=function(vt,Mt,Ot,Ft){if(!at.isBuffer(vt))throw new TypeError("argument should be a Buffer");if(Ot||(Ot=0),Ft||Ft===0||(Ft=this.length),Mt>=vt.length&&(Mt=vt.length),Mt||(Mt=0),Ft>0&&Ft<Ot&&(Ft=Ot),Ft===Ot||vt.length===0||this.length===0)return 0;if(Mt<0)throw new RangeError("targetStart out of bounds");if(Ot<0||Ot>=this.length)throw new RangeError("Index out of range");if(Ft<0)throw new RangeError("sourceEnd out of bounds");Ft>this.length&&(Ft=this.length),vt.length-Mt<Ft-Ot&&(Ft=vt.length-Mt+Ot);var rr=Ft-Ot;if(this===vt&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Mt,Ot,Ft);else if(this===vt&&Ot<Mt&&Mt<Ft)for(var ar=rr-1;ar>=0;--ar)vt[ar+Mt]=this[ar+Ot];else Uint8Array.prototype.set.call(vt,this.subarray(Ot,Ft),Mt);return rr},at.prototype.fill=function(vt,Mt,Ot,Ft){if(typeof vt=="string"){if(typeof Mt=="string"?(Ft=Mt,Mt=0,Ot=this.length):typeof Ot=="string"&&(Ft=Ot,Ot=this.length),Ft!==void 0&&typeof Ft!="string")throw new TypeError("encoding must be a string");if(typeof Ft=="string"&&!at.isEncoding(Ft))throw new TypeError("Unknown encoding: "+Ft);if(vt.length===1){var rr=vt.charCodeAt(0);(Ft==="utf8"&&rr<128||Ft==="latin1")&&(vt=rr)}}else typeof vt=="number"&&(vt&=255);if(Mt<0||this.length<Mt||this.length<Ot)throw new RangeError("Out of range index");if(Ot<=Mt)return this;var ar;if(Mt>>>=0,Ot=Ot===void 0?this.length:Ot>>>0,vt||(vt=0),typeof vt=="number")for(ar=Mt;ar<Ot;++ar)this[ar]=vt;else{var dr=at.isBuffer(vt)?vt:at.from(vt,Ft),gr=dr.length;if(gr===0)throw new TypeError('The value "'+vt+'" is invalid for argument "value"');for(ar=0;ar<Ot-Mt;++ar)this[ar+Mt]=dr[ar%gr]}return this};var er=/[^+/0-9A-Za-z-_]/g;function ir(vt){if((vt=(vt=vt.split("=")[0]).trim().replace(er,"")).length<2)return"";for(;vt.length%4!=0;)vt+="=";return vt}function Yt(vt){return vt<16?"0"+vt.toString(16):vt.toString(16)}function xt(vt,Mt){var Ot;Mt=Mt||1/0;for(var Ft=vt.length,rr=null,ar=[],dr=0;dr<Ft;++dr){if((Ot=vt.charCodeAt(dr))>55295&&Ot<57344){if(!rr){if(Ot>56319){(Mt-=3)>-1&&ar.push(239,191,189);continue}if(dr+1===Ft){(Mt-=3)>-1&&ar.push(239,191,189);continue}rr=Ot;continue}if(Ot<56320){(Mt-=3)>-1&&ar.push(239,191,189),rr=Ot;continue}Ot=65536+(rr-55296<<10|Ot-56320)}else rr&&(Mt-=3)>-1&&ar.push(239,191,189);if(rr=null,Ot<128){if((Mt-=1)<0)break;ar.push(Ot)}else if(Ot<2048){if((Mt-=2)<0)break;ar.push(Ot>>6|192,63&Ot|128)}else if(Ot<65536){if((Mt-=3)<0)break;ar.push(Ot>>12|224,Ot>>6&63|128,63&Ot|128)}else{if(!(Ot<1114112))throw new Error("Invalid code point");if((Mt-=4)<0)break;ar.push(Ot>>18|240,Ot>>12&63|128,Ot>>6&63|128,63&Ot|128)}}return ar}function qt(vt){for(var Mt=[],Ot=0;Ot<vt.length;++Ot)Mt.push(255&vt.charCodeAt(Ot));return Mt}function Rt(vt,Mt){for(var Ot,Ft,rr,ar=[],dr=0;dr<vt.length&&!((Mt-=2)<0);++dr)Ft=(Ot=vt.charCodeAt(dr))>>8,rr=Ot%256,ar.push(rr),ar.push(Ft);return ar}function Nt(vt){return tt.toByteArray(ir(vt))}function Bt(vt,Mt,Ot,Ft){for(var rr=0;rr<Ft&&!(rr+Ot>=Mt.length||rr>=vt.length);++rr)Mt[rr+Ot]=vt[rr];return rr}function Lt(vt,Mt){return vt instanceof Mt||vt!=null&&vt.constructor!=null&&vt.constructor.name!=null&&vt.constructor.name===Mt.name}function Jt(vt){return vt!=vt}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,g,$){var j=d("get-intrinsic"),tt=d("./"),et=tt(j("String.prototype.indexOf"));g.exports=function(rt,nt){var it=j(rt,!!nt);return typeof it=="function"&&et(rt,".prototype.")>-1?tt(it):it}},{"./":34,"get-intrinsic":39}],34:[function(d,g,$){var j=d("function-bind"),tt=d("get-intrinsic"),et=tt("%Function.prototype.apply%"),rt=tt("%Function.prototype.call%"),nt=tt("%Reflect.apply%",!0)||j.call(rt,et),it=tt("%Object.getOwnPropertyDescriptor%",!0),at=tt("%Object.defineProperty%",!0),st=tt("%Math.max%");if(at)try{at({},"a",{value:1})}catch{at=null}g.exports=function(lt){var ut=nt(j,rt,arguments);return it&&at&&it(ut,"length").configurable&&at(ut,"length",{value:1+st(0,lt.length-(arguments.length-1))}),ut};var ot=function(){return nt(j,et,arguments)};at?at(g.exports,"apply",{value:ot}):g.exports.apply=ot},{"function-bind":38,"get-intrinsic":39}],35:[function(d,g,$){var j,tt=typeof Reflect=="object"?Reflect:null,et=tt&&typeof tt.apply=="function"?tt.apply:function(yt,St,wt){return Function.prototype.apply.call(yt,St,wt)};function rt(yt){console&&console.warn&&console.warn(yt)}j=tt&&typeof tt.ownKeys=="function"?tt.ownKeys:Object.getOwnPropertySymbols?function(yt){return Object.getOwnPropertyNames(yt).concat(Object.getOwnPropertySymbols(yt))}:function(yt){return Object.getOwnPropertyNames(yt)};var nt=Number.isNaN||function(yt){return yt!=yt};function it(){it.init.call(this)}g.exports=it,g.exports.once=gt,it.EventEmitter=it,it.prototype._events=void 0,it.prototype._eventsCount=0,it.prototype._maxListeners=void 0;var at=10;function st(yt){if(typeof yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof yt)}function ot(yt){return yt._maxListeners===void 0?it.defaultMaxListeners:yt._maxListeners}function lt(yt,St,wt,kt){var bt,Tt,Dt;if(st(wt),(Tt=yt._events)===void 0?(Tt=yt._events=Object.create(null),yt._eventsCount=0):(Tt.newListener!==void 0&&(yt.emit("newListener",St,wt.listener?wt.listener:wt),Tt=yt._events),Dt=Tt[St]),Dt===void 0)Dt=Tt[St]=wt,++yt._eventsCount;else if(typeof Dt=="function"?Dt=Tt[St]=kt?[wt,Dt]:[Dt,wt]:kt?Dt.unshift(wt):Dt.push(wt),(bt=ot(yt))>0&&Dt.length>bt&&!Dt.warned){Dt.warned=!0;var $t=new Error("Possible EventEmitter memory leak detected. "+Dt.length+" "+String(St)+" listeners added. Use emitter.setMaxListeners() to increase limit");$t.name="MaxListenersExceededWarning",$t.emitter=yt,$t.type=St,$t.count=Dt.length,rt($t)}return yt}function ut(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ct(yt,St,wt){var kt={fired:!1,wrapFn:void 0,target:yt,type:St,listener:wt},bt=ut.bind(kt);return bt.listener=wt,kt.wrapFn=bt,bt}function ft(yt,St,wt){var kt=yt._events;if(kt===void 0)return[];var bt=kt[St];return bt===void 0?[]:typeof bt=="function"?wt?[bt.listener||bt]:[bt]:wt?pt(bt):dt(bt,bt.length)}function mt(yt){var St=this._events;if(St!==void 0){var wt=St[yt];if(typeof wt=="function")return 1;if(wt!==void 0)return wt.length}return 0}function dt(yt,St){for(var wt=new Array(St),kt=0;kt<St;++kt)wt[kt]=yt[kt];return wt}function ht(yt,St){for(;St+1<yt.length;St++)yt[St]=yt[St+1];yt.pop()}function pt(yt){for(var St=new Array(yt.length),wt=0;wt<St.length;++wt)St[wt]=yt[wt].listener||yt[wt];return St}function gt(yt,St){return new Promise(function(wt,kt){function bt(Dt){yt.removeListener(St,Tt),kt(Dt)}function Tt(){typeof yt.removeListener=="function"&&yt.removeListener("error",bt),wt([].slice.call(arguments))}Et(yt,St,Tt,{once:!0}),St!=="error"&&_t(yt,bt,{once:!0})})}function _t(yt,St,wt){typeof yt.on=="function"&&Et(yt,"error",St,wt)}function Et(yt,St,wt,kt){if(typeof yt.on=="function")kt.once?yt.once(St,wt):yt.on(St,wt);else{if(typeof yt.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof yt);yt.addEventListener(St,function bt(Tt){kt.once&&yt.removeEventListener(St,bt),wt(Tt)})}}Object.defineProperty(it,"defaultMaxListeners",{enumerable:!0,get:function(){return at},set:function(yt){if(typeof yt!="number"||yt<0||nt(yt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+yt+".");at=yt}}),it.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},it.prototype.setMaxListeners=function(yt){if(typeof yt!="number"||yt<0||nt(yt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+yt+".");return this._maxListeners=yt,this},it.prototype.getMaxListeners=function(){return ot(this)},it.prototype.emit=function(yt){for(var St=[],wt=1;wt<arguments.length;wt++)St.push(arguments[wt]);var kt=yt==="error",bt=this._events;if(bt!==void 0)kt=kt&&bt.error===void 0;else if(!kt)return!1;if(kt){var Tt;if(St.length>0&&(Tt=St[0]),Tt instanceof Error)throw Tt;var Dt=new Error("Unhandled error."+(Tt?" ("+Tt.message+")":""));throw Dt.context=Tt,Dt}var $t=bt[yt];if($t===void 0)return!1;if(typeof $t=="function")et($t,this,St);else{var At=$t.length,Pt=dt($t,At);for(wt=0;wt<At;++wt)et(Pt[wt],this,St)}return!0},it.prototype.addListener=function(yt,St){return lt(this,yt,St,!1)},it.prototype.on=it.prototype.addListener,it.prototype.prependListener=function(yt,St){return lt(this,yt,St,!0)},it.prototype.once=function(yt,St){return st(St),this.on(yt,ct(this,yt,St)),this},it.prototype.prependOnceListener=function(yt,St){return st(St),this.prependListener(yt,ct(this,yt,St)),this},it.prototype.removeListener=function(yt,St){var wt,kt,bt,Tt,Dt;if(st(St),(kt=this._events)===void 0)return this;if((wt=kt[yt])===void 0)return this;if(wt===St||wt.listener===St)--this._eventsCount==0?this._events=Object.create(null):(delete kt[yt],kt.removeListener&&this.emit("removeListener",yt,wt.listener||St));else if(typeof wt!="function"){for(bt=-1,Tt=wt.length-1;Tt>=0;Tt--)if(wt[Tt]===St||wt[Tt].listener===St){Dt=wt[Tt].listener,bt=Tt;break}if(bt<0)return this;bt===0?wt.shift():ht(wt,bt),wt.length===1&&(kt[yt]=wt[0]),kt.removeListener!==void 0&&this.emit("removeListener",yt,Dt||St)}return this},it.prototype.off=it.prototype.removeListener,it.prototype.removeAllListeners=function(yt){var St,wt,kt;if((wt=this._events)===void 0)return this;if(wt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):wt[yt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete wt[yt]),this;if(arguments.length===0){var bt,Tt=Object.keys(wt);for(kt=0;kt<Tt.length;++kt)(bt=Tt[kt])!=="removeListener"&&this.removeAllListeners(bt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(St=wt[yt])=="function")this.removeListener(yt,St);else if(St!==void 0)for(kt=St.length-1;kt>=0;kt--)this.removeListener(yt,St[kt]);return this},it.prototype.listeners=function(yt){return ft(this,yt,!0)},it.prototype.rawListeners=function(yt){return ft(this,yt,!1)},it.listenerCount=function(yt,St){return typeof yt.listenerCount=="function"?yt.listenerCount(St):mt.call(yt,St)},it.prototype.listenerCount=mt,it.prototype.eventNames=function(){return this._eventsCount>0?j(this._events):[]}},{}],36:[function(d,g,$){var j=d("is-callable"),tt=Object.prototype.toString,et=Object.prototype.hasOwnProperty,rt=function(st,ot,lt){for(var ut=0,ct=st.length;ut<ct;ut++)et.call(st,ut)&&(lt==null?ot(st[ut],ut,st):ot.call(lt,st[ut],ut,st))},nt=function(st,ot,lt){for(var ut=0,ct=st.length;ut<ct;ut++)lt==null?ot(st.charAt(ut),ut,st):ot.call(lt,st.charAt(ut),ut,st)},it=function(st,ot,lt){for(var ut in st)et.call(st,ut)&&(lt==null?ot(st[ut],ut,st):ot.call(lt,st[ut],ut,st))},at=function(st,ot,lt){if(!j(ot))throw new TypeError("iterator must be a function");var ut;arguments.length>=3&&(ut=lt),tt.call(st)==="[object Array]"?rt(st,ot,ut):typeof st=="string"?nt(st,ot,ut):it(st,ot,ut)};g.exports=at},{"is-callable":48}],37:[function(d,g,$){var j="Function.prototype.bind called on incompatible ",tt=Array.prototype.slice,et=Object.prototype.toString,rt="[object Function]";g.exports=function(nt){var it=this;if(typeof it!="function"||et.call(it)!==rt)throw new TypeError(j+it);for(var at,st=tt.call(arguments,1),ot=function(){if(this instanceof at){var mt=it.apply(this,st.concat(tt.call(arguments)));return Object(mt)===mt?mt:this}return it.apply(nt,st.concat(tt.call(arguments)))},lt=Math.max(0,it.length-st.length),ut=[],ct=0;ct<lt;ct++)ut.push("$"+ct);if(at=Function("binder","return function ("+ut.join(",")+"){ return binder.apply(this,arguments); }")(ot),it.prototype){var ft=function(){};ft.prototype=it.prototype,at.prototype=new ft,ft.prototype=null}return at}},{}],38:[function(d,g,$){var j=d("./implementation");g.exports=Function.prototype.bind||j},{"./implementation":37}],39:[function(d,g,$){var j,tt=SyntaxError,et=Function,rt=TypeError,nt=function($t){try{return et('"use strict"; return ('+$t+").constructor;")()}catch{}},it=Object.getOwnPropertyDescriptor;if(it)try{it({},"")}catch{it=null}var at=function(){throw new rt},st=it?function(){try{return at}catch{try{return it(arguments,"callee").get}catch{return at}}}():at,ot=d("has-symbols")(),lt=Object.getPrototypeOf||function($t){return $t.__proto__},ut={},ct=typeof Uint8Array>"u"?j:lt(Uint8Array),ft={"%AggregateError%":typeof AggregateError>"u"?j:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?j:ArrayBuffer,"%ArrayIteratorPrototype%":ot?lt([][Symbol.iterator]()):j,"%AsyncFromSyncIteratorPrototype%":j,"%AsyncFunction%":ut,"%AsyncGenerator%":ut,"%AsyncGeneratorFunction%":ut,"%AsyncIteratorPrototype%":ut,"%Atomics%":typeof Atomics>"u"?j:Atomics,"%BigInt%":typeof BigInt>"u"?j:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?j:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?j:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?j:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?j:Float32Array,"%Float64Array%":typeof Float64Array>"u"?j:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?j:FinalizationRegistry,"%Function%":et,"%GeneratorFunction%":ut,"%Int8Array%":typeof Int8Array>"u"?j:Int8Array,"%Int16Array%":typeof Int16Array>"u"?j:Int16Array,"%Int32Array%":typeof Int32Array>"u"?j:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ot?lt(lt([][Symbol.iterator]())):j,"%JSON%":typeof JSON=="object"?JSON:j,"%Map%":typeof Map>"u"?j:Map,"%MapIteratorPrototype%":typeof Map<"u"&&ot?lt(new Map()[Symbol.iterator]()):j,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?j:Promise,"%Proxy%":typeof Proxy>"u"?j:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?j:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?j:Set,"%SetIteratorPrototype%":typeof Set<"u"&&ot?lt(new Set()[Symbol.iterator]()):j,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?j:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ot?lt(""[Symbol.iterator]()):j,"%Symbol%":ot?Symbol:j,"%SyntaxError%":tt,"%ThrowTypeError%":st,"%TypedArray%":ct,"%TypeError%":rt,"%Uint8Array%":typeof Uint8Array>"u"?j:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?j:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?j:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?j:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?j:WeakMap,"%WeakRef%":typeof WeakRef>"u"?j:WeakRef,"%WeakSet%":typeof WeakSet>"u"?j:WeakSet};try{null.error}catch($t){var mt=lt(lt($t));ft["%Error.prototype%"]=mt}var dt=function $t(At){var Pt;if(At==="%AsyncFunction%")Pt=nt("async function () {}");else if(At==="%GeneratorFunction%")Pt=nt("function* () {}");else if(At==="%AsyncGeneratorFunction%")Pt=nt("async function* () {}");else if(At==="%AsyncGenerator%"){var Kt=$t("%AsyncGeneratorFunction%");Kt&&(Pt=Kt.prototype)}else if(At==="%AsyncIteratorPrototype%"){var Ut=$t("%AsyncGenerator%");Ut&&(Pt=lt(Ut.prototype))}return ft[At]=Pt,Pt},ht={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pt=d("function-bind"),gt=d("has"),_t=pt.call(Function.call,Array.prototype.concat),Et=pt.call(Function.apply,Array.prototype.splice),yt=pt.call(Function.call,String.prototype.replace),St=pt.call(Function.call,String.prototype.slice),wt=pt.call(Function.call,RegExp.prototype.exec),kt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bt=/\\(\\)?/g,Tt=function($t){var At=St($t,0,1),Pt=St($t,-1);if(At==="%"&&Pt!=="%")throw new tt("invalid intrinsic syntax, expected closing `%`");if(Pt==="%"&&At!=="%")throw new tt("invalid intrinsic syntax, expected opening `%`");var Kt=[];return yt($t,kt,function(Ut,It,jt,zt){Kt[Kt.length]=jt?yt(zt,bt,"$1"):It||Ut}),Kt},Dt=function($t,At){var Pt,Kt=$t;if(gt(ht,Kt)&&(Kt="%"+(Pt=ht[Kt])[0]+"%"),gt(ft,Kt)){var Ut=ft[Kt];if(Ut===ut&&(Ut=dt(Kt)),Ut===void 0&&!At)throw new rt("intrinsic "+$t+" exists, but is not available. Please file an issue!");return{alias:Pt,name:Kt,value:Ut}}throw new tt("intrinsic "+$t+" does not exist!")};g.exports=function($t,At){if(typeof $t!="string"||$t.length===0)throw new rt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof At!="boolean")throw new rt('"allowMissing" argument must be a boolean');if(wt(/^%?[^%]*%?$/,$t)===null)throw new tt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Pt=Tt($t),Kt=Pt.length>0?Pt[0]:"",Ut=Dt("%"+Kt+"%",At),It=Ut.name,jt=Ut.value,zt=!1,Ht=Ut.alias;Ht&&(Kt=Ht[0],Et(Pt,_t([0,1],Ht)));for(var Vt=1,Wt=!0;Vt<Pt.length;Vt+=1){var Zt=Pt[Vt],Qt=St(Zt,0,1),Xt=St(Zt,-1);if((Qt==='"'||Qt==="'"||Qt==="`"||Xt==='"'||Xt==="'"||Xt==="`")&&Qt!==Xt)throw new tt("property names with quotes must have matching quotes");if(Zt!=="constructor"&&Wt||(zt=!0),gt(ft,It="%"+(Kt+="."+Zt)+"%"))jt=ft[It];else if(jt!=null){if(!(Zt in jt)){if(!At)throw new rt("base intrinsic for "+$t+" exists, but the property is not available.");return}if(it&&Vt+1>=Pt.length){var er=it(jt,Zt);jt=(Wt=!!er)&&"get"in er&&!("originalValue"in er.get)?er.get:jt[Zt]}else Wt=gt(jt,Zt),jt=jt[Zt];Wt&&!zt&&(ft[It]=jt)}}return jt}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,g,$){var j=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(j)try{j([],"length")}catch{j=null}g.exports=j},{"get-intrinsic":39}],41:[function(d,g,$){var j=typeof Symbol<"u"&&Symbol,tt=d("./shams");g.exports=function(){return typeof j=="function"&&typeof Symbol=="function"&&typeof j("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&tt()}},{"./shams":42}],42:[function(d,g,$){g.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var j={},tt=Symbol("test"),et=Object(tt);if(typeof tt=="string"||Object.prototype.toString.call(tt)!=="[object Symbol]"||Object.prototype.toString.call(et)!=="[object Symbol]")return!1;var rt=42;for(tt in j[tt]=rt,j)return!1;if(typeof Object.keys=="function"&&Object.keys(j).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(j).length!==0)return!1;var nt=Object.getOwnPropertySymbols(j);if(nt.length!==1||nt[0]!==tt||!Object.prototype.propertyIsEnumerable.call(j,tt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var it=Object.getOwnPropertyDescriptor(j,tt);if(it.value!==rt||it.enumerable!==!0)return!1}return!0}},{}],43:[function(d,g,$){var j=d("has-symbols/shams");g.exports=function(){return j()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,g,$){var j=d("function-bind");g.exports=j.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,g,$){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */$.read=function(j,tt,et,rt,nt){var it,at,st=8*nt-rt-1,ot=(1<<st)-1,lt=ot>>1,ut=-7,ct=et?nt-1:0,ft=et?-1:1,mt=j[tt+ct];for(ct+=ft,it=mt&(1<<-ut)-1,mt>>=-ut,ut+=st;ut>0;it=256*it+j[tt+ct],ct+=ft,ut-=8);for(at=it&(1<<-ut)-1,it>>=-ut,ut+=rt;ut>0;at=256*at+j[tt+ct],ct+=ft,ut-=8);if(it===0)it=1-lt;else{if(it===ot)return at?NaN:1/0*(mt?-1:1);at+=Math.pow(2,rt),it-=lt}return(mt?-1:1)*at*Math.pow(2,it-rt)},$.write=function(j,tt,et,rt,nt,it){var at,st,ot,lt=8*it-nt-1,ut=(1<<lt)-1,ct=ut>>1,ft=nt===23?Math.pow(2,-24)-Math.pow(2,-77):0,mt=rt?0:it-1,dt=rt?1:-1,ht=tt<0||tt===0&&1/tt<0?1:0;for(tt=Math.abs(tt),isNaN(tt)||tt===1/0?(st=isNaN(tt)?1:0,at=ut):(at=Math.floor(Math.log(tt)/Math.LN2),tt*(ot=Math.pow(2,-at))<1&&(at--,ot*=2),(tt+=at+ct>=1?ft/ot:ft*Math.pow(2,1-ct))*ot>=2&&(at++,ot/=2),at+ct>=ut?(st=0,at=ut):at+ct>=1?(st=(tt*ot-1)*Math.pow(2,nt),at+=ct):(st=tt*Math.pow(2,ct-1)*Math.pow(2,nt),at=0));nt>=8;j[et+mt]=255&st,mt+=dt,st/=256,nt-=8);for(at=at<<nt|st,lt+=nt;lt>0;j[et+mt]=255&at,mt+=dt,at/=256,lt-=8);j[et+mt-dt]|=128*ht}},{}],46:[function(d,g,$){typeof Object.create=="function"?g.exports=function(j,tt){tt&&(j.super_=tt,j.prototype=Object.create(tt.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}))}:g.exports=function(j,tt){if(tt){j.super_=tt;var et=function(){};et.prototype=tt.prototype,j.prototype=new et,j.prototype.constructor=j}}},{}],47:[function(d,g,$){var j=d("has-tostringtag/shams")(),tt=d("call-bind/callBound")("Object.prototype.toString"),et=function(it){return!(j&&it&&typeof it=="object"&&Symbol.toStringTag in it)&&tt(it)==="[object Arguments]"},rt=function(it){return!!et(it)||it!==null&&typeof it=="object"&&typeof it.length=="number"&&it.length>=0&&tt(it)!=="[object Array]"&&tt(it.callee)==="[object Function]"},nt=function(){return et(arguments)}();et.isLegacyArguments=rt,g.exports=nt?et:rt},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,g,$){var j,tt,et=Function.prototype.toString,rt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof rt=="function"&&typeof Object.defineProperty=="function")try{j=Object.defineProperty({},"length",{get:function(){throw tt}}),tt={},rt(function(){throw 42},null,j)}catch(_t){_t!==tt&&(rt=null)}else rt=null;var nt=/^\s*class\b/,it=function(_t){try{var Et=et.call(_t);return nt.test(Et)}catch{return!1}},at=function(_t){try{return!it(_t)&&(et.call(_t),!0)}catch{return!1}},st=Object.prototype.toString,ot="[object Object]",lt="[object Function]",ut="[object GeneratorFunction]",ct="[object HTMLAllCollection]",ft="[object HTML document.all class]",mt="[object HTMLCollection]",dt=typeof Symbol=="function"&&!!Symbol.toStringTag,ht=!(0 in[,]),pt=function(){return!1};if(typeof document=="object"){var gt=document.all;st.call(gt)===st.call(document.all)&&(pt=function(_t){if((ht||!_t)&&(_t===void 0||typeof _t=="object"))try{var Et=st.call(_t);return(Et===ct||Et===ft||Et===mt||Et===ot)&&_t("")==null}catch{}return!1})}g.exports=rt?function(_t){if(pt(_t))return!0;if(!_t||typeof _t!="function"&&typeof _t!="object")return!1;try{rt(_t,null,j)}catch(Et){if(Et!==tt)return!1}return!it(_t)&&at(_t)}:function(_t){if(pt(_t))return!0;if(!_t||typeof _t!="function"&&typeof _t!="object")return!1;if(dt)return at(_t);if(it(_t))return!1;var Et=st.call(_t);return!(Et!==lt&&Et!==ut&&!/^\[object HTML/.test(Et))&&at(_t)}},{}],49:[function(d,g,$){var j,tt=Object.prototype.toString,et=Function.prototype.toString,rt=/^\s*(?:function)?\*/,nt=d("has-tostringtag/shams")(),it=Object.getPrototypeOf,at=function(){if(!nt)return!1;try{return Function("return function*() {}")()}catch{}};g.exports=function(st){if(typeof st!="function")return!1;if(rt.test(et.call(st)))return!0;if(!nt)return tt.call(st)==="[object GeneratorFunction]";if(!it)return!1;if(j===void 0){var ot=at();j=!!ot&&it(ot)}return it(st)===j}},{"has-tostringtag/shams":43}],50:[function(d,g,$){(function(j){(function(){var tt=d("for-each"),et=d("available-typed-arrays"),rt=d("call-bind/callBound"),nt=rt("Object.prototype.toString"),it=d("has-tostringtag/shams")(),at=d("gopd"),st=typeof globalThis>"u"?j:globalThis,ot=et(),lt=rt("Array.prototype.indexOf",!0)||function(dt,ht){for(var pt=0;pt<dt.length;pt+=1)if(dt[pt]===ht)return pt;return-1},ut=rt("String.prototype.slice"),ct={},ft=Object.getPrototypeOf;it&&at&&ft&&tt(ot,function(dt){var ht=new st[dt];if(Symbol.toStringTag in ht){var pt=ft(ht),gt=at(pt,Symbol.toStringTag);if(!gt){var _t=ft(pt);gt=at(_t,Symbol.toStringTag)}ct[dt]=gt.get}});var mt=function(dt){var ht=!1;return tt(ct,function(pt,gt){if(!ht)try{ht=pt.call(dt)===gt}catch{}}),ht};g.exports=function(dt){if(!dt||typeof dt!="object")return!1;if(!it||!(Symbol.toStringTag in dt)){var ht=ut(nt(dt),8,-1);return lt(ot,ht)>-1}return!!at&&mt(dt)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,g,$){var j=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;function rt(it){if(it==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(it)}function nt(){try{if(!Object.assign)return!1;var it=new String("abc");if(it[5]="de",Object.getOwnPropertyNames(it)[0]==="5")return!1;for(var at={},st=0;st<10;st++)at["_"+String.fromCharCode(st)]=st;var ot=Object.getOwnPropertyNames(at).map(function(ut){return at[ut]});if(ot.join("")!=="0123456789")return!1;var lt={};return"abcdefghijklmnopqrst".split("").forEach(function(ut){lt[ut]=ut}),Object.keys(Object.assign({},lt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}g.exports=nt()?Object.assign:function(it,at){for(var st,ot,lt=rt(it),ut=1;ut<arguments.length;ut++){for(var ct in st=Object(arguments[ut]))tt.call(st,ct)&&(lt[ct]=st[ct]);if(j){ot=j(st);for(var ft=0;ft<ot.length;ft++)et.call(st,ot[ft])&&(lt[ot[ft]]=st[ot[ft]])}}return lt}},{}],52:[function(d,g,$){var j=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function tt(nt,it){return Object.prototype.hasOwnProperty.call(nt,it)}$.assign=function(nt){for(var it=Array.prototype.slice.call(arguments,1);it.length;){var at=it.shift();if(at){if(typeof at!="object")throw new TypeError(at+"must be non-object");for(var st in at)tt(at,st)&&(nt[st]=at[st])}}return nt},$.shrinkBuf=function(nt,it){return nt.length===it?nt:nt.subarray?nt.subarray(0,it):(nt.length=it,nt)};var et={arraySet:function(nt,it,at,st,ot){if(it.subarray&&nt.subarray)nt.set(it.subarray(at,at+st),ot);else for(var lt=0;lt<st;lt++)nt[ot+lt]=it[at+lt]},flattenChunks:function(nt){var it,at,st,ot,lt,ut;for(st=0,it=0,at=nt.length;it<at;it++)st+=nt[it].length;for(ut=new Uint8Array(st),ot=0,it=0,at=nt.length;it<at;it++)lt=nt[it],ut.set(lt,ot),ot+=lt.length;return ut}},rt={arraySet:function(nt,it,at,st,ot){for(var lt=0;lt<st;lt++)nt[ot+lt]=it[at+lt]},flattenChunks:function(nt){return[].concat.apply([],nt)}};$.setTyped=function(nt){nt?($.Buf8=Uint8Array,$.Buf16=Uint16Array,$.Buf32=Int32Array,$.assign($,et)):($.Buf8=Array,$.Buf16=Array,$.Buf32=Array,$.assign($,rt))},$.setTyped(j)},{}],53:[function(d,g,$){function j(tt,et,rt,nt){for(var it=65535&tt,at=tt>>>16&65535,st=0;rt!==0;){rt-=st=rt>2e3?2e3:rt;do at=at+(it=it+et[nt++]|0)|0;while(--st);it%=65521,at%=65521}return it|at<<16}g.exports=j},{}],54:[function(d,g,$){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,g,$){function j(){for(var rt,nt=[],it=0;it<256;it++){rt=it;for(var at=0;at<8;at++)rt=1&rt?3988292384^rt>>>1:rt>>>1;nt[it]=rt}return nt}var tt=j();function et(rt,nt,it,at){var st=tt,ot=at+it;rt^=-1;for(var lt=at;lt<ot;lt++)rt=rt>>>8^st[255&(rt^nt[lt])];return~rt}g.exports=et},{}],56:[function(d,g,$){var j,tt=d("../utils/common"),et=d("./trees"),rt=d("./adler32"),nt=d("./crc32"),it=d("./messages"),at=0,st=1,ot=3,lt=4,ut=5,ct=0,ft=1,mt=-2,dt=-3,ht=-5,pt=-1,gt=1,_t=2,Et=3,yt=4,St=0,wt=2,kt=8,bt=9,Tt=15,Dt=8,$t=286,At=30,Pt=19,Kt=2*$t+1,Ut=15,It=3,jt=258,zt=jt+It+1,Ht=32,Vt=42,Wt=69,Zt=73,Qt=91,Xt=103,er=113,ir=666,Yt=1,xt=2,qt=3,Rt=4,Nt=3;function Bt(Ct,cr){return Ct.msg=it[cr],cr}function Lt(Ct){return(Ct<<1)-(Ct>4?9:0)}function Jt(Ct){for(var cr=Ct.length;--cr>=0;)Ct[cr]=0}function vt(Ct){var cr=Ct.state,or=cr.pending;or>Ct.avail_out&&(or=Ct.avail_out),or!==0&&(tt.arraySet(Ct.output,cr.pending_buf,cr.pending_out,or,Ct.next_out),Ct.next_out+=or,cr.pending_out+=or,Ct.total_out+=or,Ct.avail_out-=or,cr.pending-=or,cr.pending===0&&(cr.pending_out=0))}function Mt(Ct,cr){et._tr_flush_block(Ct,Ct.block_start>=0?Ct.block_start:-1,Ct.strstart-Ct.block_start,cr),Ct.block_start=Ct.strstart,vt(Ct.strm)}function Ot(Ct,cr){Ct.pending_buf[Ct.pending++]=cr}function Ft(Ct,cr){Ct.pending_buf[Ct.pending++]=cr>>>8&255,Ct.pending_buf[Ct.pending++]=255&cr}function rr(Ct,cr,or,tr){var sr=Ct.avail_in;return sr>tr&&(sr=tr),sr===0?0:(Ct.avail_in-=sr,tt.arraySet(cr,Ct.input,Ct.next_in,sr,or),Ct.state.wrap===1?Ct.adler=rt(Ct.adler,cr,sr,or):Ct.state.wrap===2&&(Ct.adler=nt(Ct.adler,cr,sr,or)),Ct.next_in+=sr,Ct.total_in+=sr,sr)}function ar(Ct,cr){var or,tr,sr=Ct.max_chain_length,lr=Ct.strstart,Sr=Ct.prev_length,yr=Ct.nice_match,xr=Ct.strstart>Ct.w_size-zt?Ct.strstart-(Ct.w_size-zt):0,Ar=Ct.window,Dr=Ct.w_mask,Cr=Ct.prev,Ir=Ct.strstart+jt,Rr=Ar[lr+Sr-1],Br=Ar[lr+Sr];Ct.prev_length>=Ct.good_match&&(sr>>=2),yr>Ct.lookahead&&(yr=Ct.lookahead);do if(Ar[(or=cr)+Sr]===Br&&Ar[or+Sr-1]===Rr&&Ar[or]===Ar[lr]&&Ar[++or]===Ar[lr+1]){lr+=2,or++;do;while(Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&Ar[++lr]===Ar[++or]&&lr<Ir);if(tr=jt-(Ir-lr),lr=Ir-jt,tr>Sr){if(Ct.match_start=cr,Sr=tr,tr>=yr)break;Rr=Ar[lr+Sr-1],Br=Ar[lr+Sr]}}while((cr=Cr[cr&Dr])>xr&&--sr!=0);return Sr<=Ct.lookahead?Sr:Ct.lookahead}function dr(Ct){var cr,or,tr,sr,lr,Sr=Ct.w_size;do{if(sr=Ct.window_size-Ct.lookahead-Ct.strstart,Ct.strstart>=Sr+(Sr-zt)){tt.arraySet(Ct.window,Ct.window,Sr,Sr,0),Ct.match_start-=Sr,Ct.strstart-=Sr,Ct.block_start-=Sr,cr=or=Ct.hash_size;do tr=Ct.head[--cr],Ct.head[cr]=tr>=Sr?tr-Sr:0;while(--or);cr=or=Sr;do tr=Ct.prev[--cr],Ct.prev[cr]=tr>=Sr?tr-Sr:0;while(--or);sr+=Sr}if(Ct.strm.avail_in===0)break;if(or=rr(Ct.strm,Ct.window,Ct.strstart+Ct.lookahead,sr),Ct.lookahead+=or,Ct.lookahead+Ct.insert>=It)for(lr=Ct.strstart-Ct.insert,Ct.ins_h=Ct.window[lr],Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[lr+1])&Ct.hash_mask;Ct.insert&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[lr+It-1])&Ct.hash_mask,Ct.prev[lr&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=lr,lr++,Ct.insert--,!(Ct.lookahead+Ct.insert<It)););}while(Ct.lookahead<zt&&Ct.strm.avail_in!==0)}function gr(Ct,cr){var or=65535;for(or>Ct.pending_buf_size-5&&(or=Ct.pending_buf_size-5);;){if(Ct.lookahead<=1){if(dr(Ct),Ct.lookahead===0&&cr===at)return Yt;if(Ct.lookahead===0)break}Ct.strstart+=Ct.lookahead,Ct.lookahead=0;var tr=Ct.block_start+or;if((Ct.strstart===0||Ct.strstart>=tr)&&(Ct.lookahead=Ct.strstart-tr,Ct.strstart=tr,Mt(Ct,!1),Ct.strm.avail_out===0)||Ct.strstart-Ct.block_start>=Ct.w_size-zt&&(Mt(Ct,!1),Ct.strm.avail_out===0))return Yt}return Ct.insert=0,cr===lt?(Mt(Ct,!0),Ct.strm.avail_out===0?qt:Rt):(Ct.strstart>Ct.block_start&&(Mt(Ct,!1),Ct.strm.avail_out),Yt)}function fr(Ct,cr){for(var or,tr;;){if(Ct.lookahead<zt){if(dr(Ct),Ct.lookahead<zt&&cr===at)return Yt;if(Ct.lookahead===0)break}if(or=0,Ct.lookahead>=It&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+It-1])&Ct.hash_mask,or=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),or!==0&&Ct.strstart-or<=Ct.w_size-zt&&(Ct.match_length=ar(Ct,or)),Ct.match_length>=It)if(tr=et._tr_tally(Ct,Ct.strstart-Ct.match_start,Ct.match_length-It),Ct.lookahead-=Ct.match_length,Ct.match_length<=Ct.max_lazy_match&&Ct.lookahead>=It){Ct.match_length--;do Ct.strstart++,Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+It-1])&Ct.hash_mask,or=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart;while(--Ct.match_length!=0);Ct.strstart++}else Ct.strstart+=Ct.match_length,Ct.match_length=0,Ct.ins_h=Ct.window[Ct.strstart],Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+1])&Ct.hash_mask;else tr=et._tr_tally(Ct,0,Ct.window[Ct.strstart]),Ct.lookahead--,Ct.strstart++;if(tr&&(Mt(Ct,!1),Ct.strm.avail_out===0))return Yt}return Ct.insert=Ct.strstart<It-1?Ct.strstart:It-1,cr===lt?(Mt(Ct,!0),Ct.strm.avail_out===0?qt:Rt):Ct.last_lit&&(Mt(Ct,!1),Ct.strm.avail_out===0)?Yt:xt}function _r(Ct,cr){for(var or,tr,sr;;){if(Ct.lookahead<zt){if(dr(Ct),Ct.lookahead<zt&&cr===at)return Yt;if(Ct.lookahead===0)break}if(or=0,Ct.lookahead>=It&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+It-1])&Ct.hash_mask,or=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart),Ct.prev_length=Ct.match_length,Ct.prev_match=Ct.match_start,Ct.match_length=It-1,or!==0&&Ct.prev_length<Ct.max_lazy_match&&Ct.strstart-or<=Ct.w_size-zt&&(Ct.match_length=ar(Ct,or),Ct.match_length<=5&&(Ct.strategy===gt||Ct.match_length===It&&Ct.strstart-Ct.match_start>4096)&&(Ct.match_length=It-1)),Ct.prev_length>=It&&Ct.match_length<=Ct.prev_length){sr=Ct.strstart+Ct.lookahead-It,tr=et._tr_tally(Ct,Ct.strstart-1-Ct.prev_match,Ct.prev_length-It),Ct.lookahead-=Ct.prev_length-1,Ct.prev_length-=2;do++Ct.strstart<=sr&&(Ct.ins_h=(Ct.ins_h<<Ct.hash_shift^Ct.window[Ct.strstart+It-1])&Ct.hash_mask,or=Ct.prev[Ct.strstart&Ct.w_mask]=Ct.head[Ct.ins_h],Ct.head[Ct.ins_h]=Ct.strstart);while(--Ct.prev_length!=0);if(Ct.match_available=0,Ct.match_length=It-1,Ct.strstart++,tr&&(Mt(Ct,!1),Ct.strm.avail_out===0))return Yt}else if(Ct.match_available){if((tr=et._tr_tally(Ct,0,Ct.window[Ct.strstart-1]))&&Mt(Ct,!1),Ct.strstart++,Ct.lookahead--,Ct.strm.avail_out===0)return Yt}else Ct.match_available=1,Ct.strstart++,Ct.lookahead--}return Ct.match_available&&(tr=et._tr_tally(Ct,0,Ct.window[Ct.strstart-1]),Ct.match_available=0),Ct.insert=Ct.strstart<It-1?Ct.strstart:It-1,cr===lt?(Mt(Ct,!0),Ct.strm.avail_out===0?qt:Rt):Ct.last_lit&&(Mt(Ct,!1),Ct.strm.avail_out===0)?Yt:xt}function pr(Ct,cr){for(var or,tr,sr,lr,Sr=Ct.window;;){if(Ct.lookahead<=jt){if(dr(Ct),Ct.lookahead<=jt&&cr===at)return Yt;if(Ct.lookahead===0)break}if(Ct.match_length=0,Ct.lookahead>=It&&Ct.strstart>0&&(tr=Sr[sr=Ct.strstart-1])===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]){lr=Ct.strstart+jt;do;while(tr===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]&&tr===Sr[++sr]&&sr<lr);Ct.match_length=jt-(lr-sr),Ct.match_length>Ct.lookahead&&(Ct.match_length=Ct.lookahead)}if(Ct.match_length>=It?(or=et._tr_tally(Ct,1,Ct.match_length-It),Ct.lookahead-=Ct.match_length,Ct.strstart+=Ct.match_length,Ct.match_length=0):(or=et._tr_tally(Ct,0,Ct.window[Ct.strstart]),Ct.lookahead--,Ct.strstart++),or&&(Mt(Ct,!1),Ct.strm.avail_out===0))return Yt}return Ct.insert=0,cr===lt?(Mt(Ct,!0),Ct.strm.avail_out===0?qt:Rt):Ct.last_lit&&(Mt(Ct,!1),Ct.strm.avail_out===0)?Yt:xt}function Er(Ct,cr){for(var or;;){if(Ct.lookahead===0&&(dr(Ct),Ct.lookahead===0)){if(cr===at)return Yt;break}if(Ct.match_length=0,or=et._tr_tally(Ct,0,Ct.window[Ct.strstart]),Ct.lookahead--,Ct.strstart++,or&&(Mt(Ct,!1),Ct.strm.avail_out===0))return Yt}return Ct.insert=0,cr===lt?(Mt(Ct,!0),Ct.strm.avail_out===0?qt:Rt):Ct.last_lit&&(Mt(Ct,!1),Ct.strm.avail_out===0)?Yt:xt}function vr(Ct,cr,or,tr,sr){this.good_length=Ct,this.max_lazy=cr,this.nice_length=or,this.max_chain=tr,this.func=sr}function wr(Ct){Ct.window_size=2*Ct.w_size,Jt(Ct.head),Ct.max_lazy_match=j[Ct.level].max_lazy,Ct.good_match=j[Ct.level].good_length,Ct.nice_match=j[Ct.level].nice_length,Ct.max_chain_length=j[Ct.level].max_chain,Ct.strstart=0,Ct.block_start=0,Ct.lookahead=0,Ct.insert=0,Ct.match_length=Ct.prev_length=It-1,Ct.match_available=0,Ct.ins_h=0}function Mr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=kt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new tt.Buf16(2*Kt),this.dyn_dtree=new tt.Buf16(2*(2*At+1)),this.bl_tree=new tt.Buf16(2*(2*Pt+1)),Jt(this.dyn_ltree),Jt(this.dyn_dtree),Jt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new tt.Buf16(Ut+1),this.heap=new tt.Buf16(2*$t+1),Jt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new tt.Buf16(2*$t+1),Jt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function br(Ct){var cr;return Ct&&Ct.state?(Ct.total_in=Ct.total_out=0,Ct.data_type=wt,(cr=Ct.state).pending=0,cr.pending_out=0,cr.wrap<0&&(cr.wrap=-cr.wrap),cr.status=cr.wrap?Vt:er,Ct.adler=cr.wrap===2?0:1,cr.last_flush=at,et._tr_init(cr),ct):Bt(Ct,mt)}function _e(Ct){var cr=br(Ct);return cr===ct&&wr(Ct.state),cr}function mr(Ct,cr){return Ct&&Ct.state?Ct.state.wrap!==2?mt:(Ct.state.gzhead=cr,ct):mt}function nr(Ct,cr,or,tr,sr,lr){if(!Ct)return mt;var Sr=1;if(cr===pt&&(cr=6),tr<0?(Sr=0,tr=-tr):tr>15&&(Sr=2,tr-=16),sr<1||sr>bt||or!==kt||tr<8||tr>15||cr<0||cr>9||lr<0||lr>yt)return Bt(Ct,mt);tr===8&&(tr=9);var yr=new Mr;return Ct.state=yr,yr.strm=Ct,yr.wrap=Sr,yr.gzhead=null,yr.w_bits=tr,yr.w_size=1<<yr.w_bits,yr.w_mask=yr.w_size-1,yr.hash_bits=sr+7,yr.hash_size=1<<yr.hash_bits,yr.hash_mask=yr.hash_size-1,yr.hash_shift=~~((yr.hash_bits+It-1)/It),yr.window=new tt.Buf8(2*yr.w_size),yr.head=new tt.Buf16(yr.hash_size),yr.prev=new tt.Buf16(yr.w_size),yr.lit_bufsize=1<<sr+6,yr.pending_buf_size=4*yr.lit_bufsize,yr.pending_buf=new tt.Buf8(yr.pending_buf_size),yr.d_buf=1*yr.lit_bufsize,yr.l_buf=3*yr.lit_bufsize,yr.level=cr,yr.strategy=lr,yr.method=or,_e(Ct)}function ur(Ct,cr){return nr(Ct,cr,kt,Tt,Dt,St)}function Gt(Ct,cr){var or,tr,sr,lr;if(!Ct||!Ct.state||cr>ut||cr<0)return Ct?Bt(Ct,mt):mt;if(tr=Ct.state,!Ct.output||!Ct.input&&Ct.avail_in!==0||tr.status===ir&&cr!==lt)return Bt(Ct,Ct.avail_out===0?ht:mt);if(tr.strm=Ct,or=tr.last_flush,tr.last_flush=cr,tr.status===Vt)if(tr.wrap===2)Ct.adler=0,Ot(tr,31),Ot(tr,139),Ot(tr,8),tr.gzhead?(Ot(tr,(tr.gzhead.text?1:0)+(tr.gzhead.hcrc?2:0)+(tr.gzhead.extra?4:0)+(tr.gzhead.name?8:0)+(tr.gzhead.comment?16:0)),Ot(tr,255&tr.gzhead.time),Ot(tr,tr.gzhead.time>>8&255),Ot(tr,tr.gzhead.time>>16&255),Ot(tr,tr.gzhead.time>>24&255),Ot(tr,tr.level===9?2:tr.strategy>=_t||tr.level<2?4:0),Ot(tr,255&tr.gzhead.os),tr.gzhead.extra&&tr.gzhead.extra.length&&(Ot(tr,255&tr.gzhead.extra.length),Ot(tr,tr.gzhead.extra.length>>8&255)),tr.gzhead.hcrc&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending,0)),tr.gzindex=0,tr.status=Wt):(Ot(tr,0),Ot(tr,0),Ot(tr,0),Ot(tr,0),Ot(tr,0),Ot(tr,tr.level===9?2:tr.strategy>=_t||tr.level<2?4:0),Ot(tr,Nt),tr.status=er);else{var Sr=kt+(tr.w_bits-8<<4)<<8;Sr|=(tr.strategy>=_t||tr.level<2?0:tr.level<6?1:tr.level===6?2:3)<<6,tr.strstart!==0&&(Sr|=Ht),Sr+=31-Sr%31,tr.status=er,Ft(tr,Sr),tr.strstart!==0&&(Ft(tr,Ct.adler>>>16),Ft(tr,65535&Ct.adler)),Ct.adler=1}if(tr.status===Wt)if(tr.gzhead.extra){for(sr=tr.pending;tr.gzindex<(65535&tr.gzhead.extra.length)&&(tr.pending!==tr.pending_buf_size||(tr.gzhead.hcrc&&tr.pending>sr&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending-sr,sr)),vt(Ct),sr=tr.pending,tr.pending!==tr.pending_buf_size));)Ot(tr,255&tr.gzhead.extra[tr.gzindex]),tr.gzindex++;tr.gzhead.hcrc&&tr.pending>sr&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending-sr,sr)),tr.gzindex===tr.gzhead.extra.length&&(tr.gzindex=0,tr.status=Zt)}else tr.status=Zt;if(tr.status===Zt)if(tr.gzhead.name){sr=tr.pending;do{if(tr.pending===tr.pending_buf_size&&(tr.gzhead.hcrc&&tr.pending>sr&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending-sr,sr)),vt(Ct),sr=tr.pending,tr.pending===tr.pending_buf_size)){lr=1;break}lr=tr.gzindex<tr.gzhead.name.length?255&tr.gzhead.name.charCodeAt(tr.gzindex++):0,Ot(tr,lr)}while(lr!==0);tr.gzhead.hcrc&&tr.pending>sr&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending-sr,sr)),lr===0&&(tr.gzindex=0,tr.status=Qt)}else tr.status=Qt;if(tr.status===Qt)if(tr.gzhead.comment){sr=tr.pending;do{if(tr.pending===tr.pending_buf_size&&(tr.gzhead.hcrc&&tr.pending>sr&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending-sr,sr)),vt(Ct),sr=tr.pending,tr.pending===tr.pending_buf_size)){lr=1;break}lr=tr.gzindex<tr.gzhead.comment.length?255&tr.gzhead.comment.charCodeAt(tr.gzindex++):0,Ot(tr,lr)}while(lr!==0);tr.gzhead.hcrc&&tr.pending>sr&&(Ct.adler=nt(Ct.adler,tr.pending_buf,tr.pending-sr,sr)),lr===0&&(tr.status=Xt)}else tr.status=Xt;if(tr.status===Xt&&(tr.gzhead.hcrc?(tr.pending+2>tr.pending_buf_size&&vt(Ct),tr.pending+2<=tr.pending_buf_size&&(Ot(tr,255&Ct.adler),Ot(tr,Ct.adler>>8&255),Ct.adler=0,tr.status=er)):tr.status=er),tr.pending!==0){if(vt(Ct),Ct.avail_out===0)return tr.last_flush=-1,ct}else if(Ct.avail_in===0&&Lt(cr)<=Lt(or)&&cr!==lt)return Bt(Ct,ht);if(tr.status===ir&&Ct.avail_in!==0)return Bt(Ct,ht);if(Ct.avail_in!==0||tr.lookahead!==0||cr!==at&&tr.status!==ir){var yr=tr.strategy===_t?Er(tr,cr):tr.strategy===Et?pr(tr,cr):j[tr.level].func(tr,cr);if(yr!==qt&&yr!==Rt||(tr.status=ir),yr===Yt||yr===qt)return Ct.avail_out===0&&(tr.last_flush=-1),ct;if(yr===xt&&(cr===st?et._tr_align(tr):cr!==ut&&(et._tr_stored_block(tr,0,0,!1),cr===ot&&(Jt(tr.head),tr.lookahead===0&&(tr.strstart=0,tr.block_start=0,tr.insert=0))),vt(Ct),Ct.avail_out===0))return tr.last_flush=-1,ct}return cr!==lt?ct:tr.wrap<=0?ft:(tr.wrap===2?(Ot(tr,255&Ct.adler),Ot(tr,Ct.adler>>8&255),Ot(tr,Ct.adler>>16&255),Ot(tr,Ct.adler>>24&255),Ot(tr,255&Ct.total_in),Ot(tr,Ct.total_in>>8&255),Ot(tr,Ct.total_in>>16&255),Ot(tr,Ct.total_in>>24&255)):(Ft(tr,Ct.adler>>>16),Ft(tr,65535&Ct.adler)),vt(Ct),tr.wrap>0&&(tr.wrap=-tr.wrap),tr.pending!==0?ct:ft)}function hr(Ct){var cr;return Ct&&Ct.state?(cr=Ct.state.status)!==Vt&&cr!==Wt&&cr!==Zt&&cr!==Qt&&cr!==Xt&&cr!==er&&cr!==ir?Bt(Ct,mt):(Ct.state=null,cr===er?Bt(Ct,dt):ct):mt}function kr(Ct,cr){var or,tr,sr,lr,Sr,yr,xr,Ar,Dr=cr.length;if(!Ct||!Ct.state||(lr=(or=Ct.state).wrap)===2||lr===1&&or.status!==Vt||or.lookahead)return mt;for(lr===1&&(Ct.adler=rt(Ct.adler,cr,Dr,0)),or.wrap=0,Dr>=or.w_size&&(lr===0&&(Jt(or.head),or.strstart=0,or.block_start=0,or.insert=0),Ar=new tt.Buf8(or.w_size),tt.arraySet(Ar,cr,Dr-or.w_size,or.w_size,0),cr=Ar,Dr=or.w_size),Sr=Ct.avail_in,yr=Ct.next_in,xr=Ct.input,Ct.avail_in=Dr,Ct.next_in=0,Ct.input=cr,dr(or);or.lookahead>=It;){tr=or.strstart,sr=or.lookahead-(It-1);do or.ins_h=(or.ins_h<<or.hash_shift^or.window[tr+It-1])&or.hash_mask,or.prev[tr&or.w_mask]=or.head[or.ins_h],or.head[or.ins_h]=tr,tr++;while(--sr);or.strstart=tr,or.lookahead=It-1,dr(or)}return or.strstart+=or.lookahead,or.block_start=or.strstart,or.insert=or.lookahead,or.lookahead=0,or.match_length=or.prev_length=It-1,or.match_available=0,Ct.next_in=yr,Ct.input=xr,Ct.avail_in=Sr,or.wrap=lr,ct}j=[new vr(0,0,0,0,gr),new vr(4,4,8,4,fr),new vr(4,5,16,8,fr),new vr(4,6,32,32,fr),new vr(4,4,16,16,_r),new vr(8,16,32,32,_r),new vr(8,16,128,128,_r),new vr(8,32,128,256,_r),new vr(32,128,258,1024,_r),new vr(32,258,258,4096,_r)],$.deflateInit=ur,$.deflateInit2=nr,$.deflateReset=_e,$.deflateResetKeep=br,$.deflateSetHeader=mr,$.deflate=Gt,$.deflateEnd=hr,$.deflateSetDictionary=kr,$.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,g,$){var j=30,tt=12;g.exports=function(et,rt){var nt,it,at,st,ot,lt,ut,ct,ft,mt,dt,ht,pt,gt,_t,Et,yt,St,wt,kt,bt,Tt,Dt,$t,At;nt=et.state,it=et.next_in,$t=et.input,at=it+(et.avail_in-5),st=et.next_out,At=et.output,ot=st-(rt-et.avail_out),lt=st+(et.avail_out-257),ut=nt.dmax,ct=nt.wsize,ft=nt.whave,mt=nt.wnext,dt=nt.window,ht=nt.hold,pt=nt.bits,gt=nt.lencode,_t=nt.distcode,Et=(1<<nt.lenbits)-1,yt=(1<<nt.distbits)-1;t:do{pt<15&&(ht+=$t[it++]<<pt,pt+=8,ht+=$t[it++]<<pt,pt+=8),St=gt[ht&Et];e:for(;;){if(ht>>>=wt=St>>>24,pt-=wt,(wt=St>>>16&255)==0)At[st++]=65535&St;else{if(!(16&wt)){if(64&wt){if(32&wt){nt.mode=tt;break t}et.msg="invalid literal/length code",nt.mode=j;break t}St=gt[(65535&St)+(ht&(1<<wt)-1)];continue e}for(kt=65535&St,(wt&=15)&&(pt<wt&&(ht+=$t[it++]<<pt,pt+=8),kt+=ht&(1<<wt)-1,ht>>>=wt,pt-=wt),pt<15&&(ht+=$t[it++]<<pt,pt+=8,ht+=$t[it++]<<pt,pt+=8),St=_t[ht&yt];;){if(ht>>>=wt=St>>>24,pt-=wt,16&(wt=St>>>16&255)){if(bt=65535&St,pt<(wt&=15)&&(ht+=$t[it++]<<pt,(pt+=8)<wt&&(ht+=$t[it++]<<pt,pt+=8)),(bt+=ht&(1<<wt)-1)>ut){et.msg="invalid distance too far back",nt.mode=j;break t}if(ht>>>=wt,pt-=wt,bt>(wt=st-ot)){if((wt=bt-wt)>ft&&nt.sane){et.msg="invalid distance too far back",nt.mode=j;break t}if(Tt=0,Dt=dt,mt===0){if(Tt+=ct-wt,wt<kt){kt-=wt;do At[st++]=dt[Tt++];while(--wt);Tt=st-bt,Dt=At}}else if(mt<wt){if(Tt+=ct+mt-wt,(wt-=mt)<kt){kt-=wt;do At[st++]=dt[Tt++];while(--wt);if(Tt=0,mt<kt){kt-=wt=mt;do At[st++]=dt[Tt++];while(--wt);Tt=st-bt,Dt=At}}}else if(Tt+=mt-wt,wt<kt){kt-=wt;do At[st++]=dt[Tt++];while(--wt);Tt=st-bt,Dt=At}for(;kt>2;)At[st++]=Dt[Tt++],At[st++]=Dt[Tt++],At[st++]=Dt[Tt++],kt-=3;kt&&(At[st++]=Dt[Tt++],kt>1&&(At[st++]=Dt[Tt++]))}else{Tt=st-bt;do At[st++]=At[Tt++],At[st++]=At[Tt++],At[st++]=At[Tt++],kt-=3;while(kt>2);kt&&(At[st++]=At[Tt++],kt>1&&(At[st++]=At[Tt++]))}break}if(64&wt){et.msg="invalid distance code",nt.mode=j;break t}St=_t[(65535&St)+(ht&(1<<wt)-1)]}}break}}while(it<at&&st<lt);it-=kt=pt>>3,ht&=(1<<(pt-=kt<<3))-1,et.next_in=it,et.next_out=st,et.avail_in=it<at?at-it+5:5-(it-at),et.avail_out=st<lt?lt-st+257:257-(st-lt),nt.hold=ht,nt.bits=pt}},{}],58:[function(d,g,$){var j=d("../utils/common"),tt=d("./adler32"),et=d("./crc32"),rt=d("./inffast"),nt=d("./inftrees"),it=0,at=1,st=2,ot=4,lt=5,ut=6,ct=0,ft=1,mt=2,dt=-2,ht=-3,pt=-4,gt=-5,_t=8,Et=1,yt=2,St=3,wt=4,kt=5,bt=6,Tt=7,Dt=8,$t=9,At=10,Pt=11,Kt=12,Ut=13,It=14,jt=15,zt=16,Ht=17,Vt=18,Wt=19,Zt=20,Qt=21,Xt=22,er=23,ir=24,Yt=25,xt=26,qt=27,Rt=28,Nt=29,Bt=30,Lt=31,Jt=852,vt=592,Mt=15;function Ot(nr){return(nr>>>24&255)+(nr>>>8&65280)+((65280&nr)<<8)+((255&nr)<<24)}function Ft(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new j.Buf16(320),this.work=new j.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function rr(nr){var ur;return nr&&nr.state?(ur=nr.state,nr.total_in=nr.total_out=ur.total=0,nr.msg="",ur.wrap&&(nr.adler=1&ur.wrap),ur.mode=Et,ur.last=0,ur.havedict=0,ur.dmax=32768,ur.head=null,ur.hold=0,ur.bits=0,ur.lencode=ur.lendyn=new j.Buf32(Jt),ur.distcode=ur.distdyn=new j.Buf32(vt),ur.sane=1,ur.back=-1,ct):dt}function ar(nr){var ur;return nr&&nr.state?((ur=nr.state).wsize=0,ur.whave=0,ur.wnext=0,rr(nr)):dt}function dr(nr,ur){var Gt,hr;return nr&&nr.state?(hr=nr.state,ur<0?(Gt=0,ur=-ur):(Gt=1+(ur>>4),ur<48&&(ur&=15)),ur&&(ur<8||ur>15)?dt:(hr.window!==null&&hr.wbits!==ur&&(hr.window=null),hr.wrap=Gt,hr.wbits=ur,ar(nr))):dt}function gr(nr,ur){var Gt,hr;return nr?(hr=new Ft,nr.state=hr,hr.window=null,(Gt=dr(nr,ur))!==ct&&(nr.state=null),Gt):dt}function fr(nr){return gr(nr,Mt)}var _r,pr,Er=!0;function vr(nr){if(Er){var ur;for(_r=new j.Buf32(512),pr=new j.Buf32(32),ur=0;ur<144;)nr.lens[ur++]=8;for(;ur<256;)nr.lens[ur++]=9;for(;ur<280;)nr.lens[ur++]=7;for(;ur<288;)nr.lens[ur++]=8;for(nt(at,nr.lens,0,288,_r,0,nr.work,{bits:9}),ur=0;ur<32;)nr.lens[ur++]=5;nt(st,nr.lens,0,32,pr,0,nr.work,{bits:5}),Er=!1}nr.lencode=_r,nr.lenbits=9,nr.distcode=pr,nr.distbits=5}function wr(nr,ur,Gt,hr){var kr,Ct=nr.state;return Ct.window===null&&(Ct.wsize=1<<Ct.wbits,Ct.wnext=0,Ct.whave=0,Ct.window=new j.Buf8(Ct.wsize)),hr>=Ct.wsize?(j.arraySet(Ct.window,ur,Gt-Ct.wsize,Ct.wsize,0),Ct.wnext=0,Ct.whave=Ct.wsize):((kr=Ct.wsize-Ct.wnext)>hr&&(kr=hr),j.arraySet(Ct.window,ur,Gt-hr,kr,Ct.wnext),(hr-=kr)?(j.arraySet(Ct.window,ur,Gt-hr,hr,0),Ct.wnext=hr,Ct.whave=Ct.wsize):(Ct.wnext+=kr,Ct.wnext===Ct.wsize&&(Ct.wnext=0),Ct.whave<Ct.wsize&&(Ct.whave+=kr))),0}function Mr(nr,ur){var Gt,hr,kr,Ct,cr,or,tr,sr,lr,Sr,yr,xr,Ar,Dr,Cr,Ir,Rr,Br,Lr,jr,$r,Nr,Fr,Or,zr=0,Pr=new j.Buf8(4),Ur=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!nr||!nr.state||!nr.output||!nr.input&&nr.avail_in!==0)return dt;(Gt=nr.state).mode===Kt&&(Gt.mode=Ut),cr=nr.next_out,kr=nr.output,tr=nr.avail_out,Ct=nr.next_in,hr=nr.input,or=nr.avail_in,sr=Gt.hold,lr=Gt.bits,Sr=or,yr=tr,Nr=ct;t:for(;;)switch(Gt.mode){case Et:if(Gt.wrap===0){Gt.mode=Ut;break}for(;lr<16;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(2&Gt.wrap&&sr===35615){Gt.check=0,Pr[0]=255&sr,Pr[1]=sr>>>8&255,Gt.check=et(Gt.check,Pr,2,0),sr=0,lr=0,Gt.mode=yt;break}if(Gt.flags=0,Gt.head&&(Gt.head.done=!1),!(1&Gt.wrap)||(((255&sr)<<8)+(sr>>8))%31){nr.msg="incorrect header check",Gt.mode=Bt;break}if((15&sr)!==_t){nr.msg="unknown compression method",Gt.mode=Bt;break}if(lr-=4,$r=8+(15&(sr>>>=4)),Gt.wbits===0)Gt.wbits=$r;else if($r>Gt.wbits){nr.msg="invalid window size",Gt.mode=Bt;break}Gt.dmax=1<<$r,nr.adler=Gt.check=1,Gt.mode=512&sr?At:Kt,sr=0,lr=0;break;case yt:for(;lr<16;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(Gt.flags=sr,(255&Gt.flags)!==_t){nr.msg="unknown compression method",Gt.mode=Bt;break}if(57344&Gt.flags){nr.msg="unknown header flags set",Gt.mode=Bt;break}Gt.head&&(Gt.head.text=sr>>8&1),512&Gt.flags&&(Pr[0]=255&sr,Pr[1]=sr>>>8&255,Gt.check=et(Gt.check,Pr,2,0)),sr=0,lr=0,Gt.mode=St;case St:for(;lr<32;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}Gt.head&&(Gt.head.time=sr),512&Gt.flags&&(Pr[0]=255&sr,Pr[1]=sr>>>8&255,Pr[2]=sr>>>16&255,Pr[3]=sr>>>24&255,Gt.check=et(Gt.check,Pr,4,0)),sr=0,lr=0,Gt.mode=wt;case wt:for(;lr<16;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}Gt.head&&(Gt.head.xflags=255&sr,Gt.head.os=sr>>8),512&Gt.flags&&(Pr[0]=255&sr,Pr[1]=sr>>>8&255,Gt.check=et(Gt.check,Pr,2,0)),sr=0,lr=0,Gt.mode=kt;case kt:if(1024&Gt.flags){for(;lr<16;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}Gt.length=sr,Gt.head&&(Gt.head.extra_len=sr),512&Gt.flags&&(Pr[0]=255&sr,Pr[1]=sr>>>8&255,Gt.check=et(Gt.check,Pr,2,0)),sr=0,lr=0}else Gt.head&&(Gt.head.extra=null);Gt.mode=bt;case bt:if(1024&Gt.flags&&((xr=Gt.length)>or&&(xr=or),xr&&(Gt.head&&($r=Gt.head.extra_len-Gt.length,Gt.head.extra||(Gt.head.extra=new Array(Gt.head.extra_len)),j.arraySet(Gt.head.extra,hr,Ct,xr,$r)),512&Gt.flags&&(Gt.check=et(Gt.check,hr,xr,Ct)),or-=xr,Ct+=xr,Gt.length-=xr),Gt.length))break t;Gt.length=0,Gt.mode=Tt;case Tt:if(2048&Gt.flags){if(or===0)break t;xr=0;do $r=hr[Ct+xr++],Gt.head&&$r&&Gt.length<65536&&(Gt.head.name+=String.fromCharCode($r));while($r&&xr<or);if(512&Gt.flags&&(Gt.check=et(Gt.check,hr,xr,Ct)),or-=xr,Ct+=xr,$r)break t}else Gt.head&&(Gt.head.name=null);Gt.length=0,Gt.mode=Dt;case Dt:if(4096&Gt.flags){if(or===0)break t;xr=0;do $r=hr[Ct+xr++],Gt.head&&$r&&Gt.length<65536&&(Gt.head.comment+=String.fromCharCode($r));while($r&&xr<or);if(512&Gt.flags&&(Gt.check=et(Gt.check,hr,xr,Ct)),or-=xr,Ct+=xr,$r)break t}else Gt.head&&(Gt.head.comment=null);Gt.mode=$t;case $t:if(512&Gt.flags){for(;lr<16;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(sr!==(65535&Gt.check)){nr.msg="header crc mismatch",Gt.mode=Bt;break}sr=0,lr=0}Gt.head&&(Gt.head.hcrc=Gt.flags>>9&1,Gt.head.done=!0),nr.adler=Gt.check=0,Gt.mode=Kt;break;case At:for(;lr<32;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}nr.adler=Gt.check=Ot(sr),sr=0,lr=0,Gt.mode=Pt;case Pt:if(Gt.havedict===0)return nr.next_out=cr,nr.avail_out=tr,nr.next_in=Ct,nr.avail_in=or,Gt.hold=sr,Gt.bits=lr,mt;nr.adler=Gt.check=1,Gt.mode=Kt;case Kt:if(ur===lt||ur===ut)break t;case Ut:if(Gt.last){sr>>>=7&lr,lr-=7&lr,Gt.mode=qt;break}for(;lr<3;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}switch(Gt.last=1&sr,lr-=1,3&(sr>>>=1)){case 0:Gt.mode=It;break;case 1:if(vr(Gt),Gt.mode=Zt,ur===ut){sr>>>=2,lr-=2;break t}break;case 2:Gt.mode=Ht;break;case 3:nr.msg="invalid block type",Gt.mode=Bt}sr>>>=2,lr-=2;break;case It:for(sr>>>=7&lr,lr-=7&lr;lr<32;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if((65535&sr)!=(sr>>>16^65535)){nr.msg="invalid stored block lengths",Gt.mode=Bt;break}if(Gt.length=65535&sr,sr=0,lr=0,Gt.mode=jt,ur===ut)break t;case jt:Gt.mode=zt;case zt:if(xr=Gt.length){if(xr>or&&(xr=or),xr>tr&&(xr=tr),xr===0)break t;j.arraySet(kr,hr,Ct,xr,cr),or-=xr,Ct+=xr,tr-=xr,cr+=xr,Gt.length-=xr;break}Gt.mode=Kt;break;case Ht:for(;lr<14;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(Gt.nlen=257+(31&sr),sr>>>=5,lr-=5,Gt.ndist=1+(31&sr),sr>>>=5,lr-=5,Gt.ncode=4+(15&sr),sr>>>=4,lr-=4,Gt.nlen>286||Gt.ndist>30){nr.msg="too many length or distance symbols",Gt.mode=Bt;break}Gt.have=0,Gt.mode=Vt;case Vt:for(;Gt.have<Gt.ncode;){for(;lr<3;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}Gt.lens[Ur[Gt.have++]]=7&sr,sr>>>=3,lr-=3}for(;Gt.have<19;)Gt.lens[Ur[Gt.have++]]=0;if(Gt.lencode=Gt.lendyn,Gt.lenbits=7,Fr={bits:Gt.lenbits},Nr=nt(it,Gt.lens,0,19,Gt.lencode,0,Gt.work,Fr),Gt.lenbits=Fr.bits,Nr){nr.msg="invalid code lengths set",Gt.mode=Bt;break}Gt.have=0,Gt.mode=Wt;case Wt:for(;Gt.have<Gt.nlen+Gt.ndist;){for(;Ir=(zr=Gt.lencode[sr&(1<<Gt.lenbits)-1])>>>16&255,Rr=65535&zr,!((Cr=zr>>>24)<=lr);){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(Rr<16)sr>>>=Cr,lr-=Cr,Gt.lens[Gt.have++]=Rr;else{if(Rr===16){for(Or=Cr+2;lr<Or;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(sr>>>=Cr,lr-=Cr,Gt.have===0){nr.msg="invalid bit length repeat",Gt.mode=Bt;break}$r=Gt.lens[Gt.have-1],xr=3+(3&sr),sr>>>=2,lr-=2}else if(Rr===17){for(Or=Cr+3;lr<Or;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}lr-=Cr,$r=0,xr=3+(7&(sr>>>=Cr)),sr>>>=3,lr-=3}else{for(Or=Cr+7;lr<Or;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}lr-=Cr,$r=0,xr=11+(127&(sr>>>=Cr)),sr>>>=7,lr-=7}if(Gt.have+xr>Gt.nlen+Gt.ndist){nr.msg="invalid bit length repeat",Gt.mode=Bt;break}for(;xr--;)Gt.lens[Gt.have++]=$r}}if(Gt.mode===Bt)break;if(Gt.lens[256]===0){nr.msg="invalid code -- missing end-of-block",Gt.mode=Bt;break}if(Gt.lenbits=9,Fr={bits:Gt.lenbits},Nr=nt(at,Gt.lens,0,Gt.nlen,Gt.lencode,0,Gt.work,Fr),Gt.lenbits=Fr.bits,Nr){nr.msg="invalid literal/lengths set",Gt.mode=Bt;break}if(Gt.distbits=6,Gt.distcode=Gt.distdyn,Fr={bits:Gt.distbits},Nr=nt(st,Gt.lens,Gt.nlen,Gt.ndist,Gt.distcode,0,Gt.work,Fr),Gt.distbits=Fr.bits,Nr){nr.msg="invalid distances set",Gt.mode=Bt;break}if(Gt.mode=Zt,ur===ut)break t;case Zt:Gt.mode=Qt;case Qt:if(or>=6&&tr>=258){nr.next_out=cr,nr.avail_out=tr,nr.next_in=Ct,nr.avail_in=or,Gt.hold=sr,Gt.bits=lr,rt(nr,yr),cr=nr.next_out,kr=nr.output,tr=nr.avail_out,Ct=nr.next_in,hr=nr.input,or=nr.avail_in,sr=Gt.hold,lr=Gt.bits,Gt.mode===Kt&&(Gt.back=-1);break}for(Gt.back=0;Ir=(zr=Gt.lencode[sr&(1<<Gt.lenbits)-1])>>>16&255,Rr=65535&zr,!((Cr=zr>>>24)<=lr);){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(Ir&&!(240&Ir)){for(Br=Cr,Lr=Ir,jr=Rr;Ir=(zr=Gt.lencode[jr+((sr&(1<<Br+Lr)-1)>>Br)])>>>16&255,Rr=65535&zr,!(Br+(Cr=zr>>>24)<=lr);){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}sr>>>=Br,lr-=Br,Gt.back+=Br}if(sr>>>=Cr,lr-=Cr,Gt.back+=Cr,Gt.length=Rr,Ir===0){Gt.mode=xt;break}if(32&Ir){Gt.back=-1,Gt.mode=Kt;break}if(64&Ir){nr.msg="invalid literal/length code",Gt.mode=Bt;break}Gt.extra=15&Ir,Gt.mode=Xt;case Xt:if(Gt.extra){for(Or=Gt.extra;lr<Or;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}Gt.length+=sr&(1<<Gt.extra)-1,sr>>>=Gt.extra,lr-=Gt.extra,Gt.back+=Gt.extra}Gt.was=Gt.length,Gt.mode=er;case er:for(;Ir=(zr=Gt.distcode[sr&(1<<Gt.distbits)-1])>>>16&255,Rr=65535&zr,!((Cr=zr>>>24)<=lr);){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(!(240&Ir)){for(Br=Cr,Lr=Ir,jr=Rr;Ir=(zr=Gt.distcode[jr+((sr&(1<<Br+Lr)-1)>>Br)])>>>16&255,Rr=65535&zr,!(Br+(Cr=zr>>>24)<=lr);){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}sr>>>=Br,lr-=Br,Gt.back+=Br}if(sr>>>=Cr,lr-=Cr,Gt.back+=Cr,64&Ir){nr.msg="invalid distance code",Gt.mode=Bt;break}Gt.offset=Rr,Gt.extra=15&Ir,Gt.mode=ir;case ir:if(Gt.extra){for(Or=Gt.extra;lr<Or;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}Gt.offset+=sr&(1<<Gt.extra)-1,sr>>>=Gt.extra,lr-=Gt.extra,Gt.back+=Gt.extra}if(Gt.offset>Gt.dmax){nr.msg="invalid distance too far back",Gt.mode=Bt;break}Gt.mode=Yt;case Yt:if(tr===0)break t;if(xr=yr-tr,Gt.offset>xr){if((xr=Gt.offset-xr)>Gt.whave&&Gt.sane){nr.msg="invalid distance too far back",Gt.mode=Bt;break}xr>Gt.wnext?(xr-=Gt.wnext,Ar=Gt.wsize-xr):Ar=Gt.wnext-xr,xr>Gt.length&&(xr=Gt.length),Dr=Gt.window}else Dr=kr,Ar=cr-Gt.offset,xr=Gt.length;xr>tr&&(xr=tr),tr-=xr,Gt.length-=xr;do kr[cr++]=Dr[Ar++];while(--xr);Gt.length===0&&(Gt.mode=Qt);break;case xt:if(tr===0)break t;kr[cr++]=Gt.length,tr--,Gt.mode=Qt;break;case qt:if(Gt.wrap){for(;lr<32;){if(or===0)break t;or--,sr|=hr[Ct++]<<lr,lr+=8}if(yr-=tr,nr.total_out+=yr,Gt.total+=yr,yr&&(nr.adler=Gt.check=Gt.flags?et(Gt.check,kr,yr,cr-yr):tt(Gt.check,kr,yr,cr-yr)),yr=tr,(Gt.flags?sr:Ot(sr))!==Gt.check){nr.msg="incorrect data check",Gt.mode=Bt;break}sr=0,lr=0}Gt.mode=Rt;case Rt:if(Gt.wrap&&Gt.flags){for(;lr<32;){if(or===0)break t;or--,sr+=hr[Ct++]<<lr,lr+=8}if(sr!==(4294967295&Gt.total)){nr.msg="incorrect length check",Gt.mode=Bt;break}sr=0,lr=0}Gt.mode=Nt;case Nt:Nr=ft;break t;case Bt:Nr=ht;break t;case Lt:return pt;default:return dt}return nr.next_out=cr,nr.avail_out=tr,nr.next_in=Ct,nr.avail_in=or,Gt.hold=sr,Gt.bits=lr,(Gt.wsize||yr!==nr.avail_out&&Gt.mode<Bt&&(Gt.mode<qt||ur!==ot))&&wr(nr,nr.output,nr.next_out,yr-nr.avail_out),Sr-=nr.avail_in,yr-=nr.avail_out,nr.total_in+=Sr,nr.total_out+=yr,Gt.total+=yr,Gt.wrap&&yr&&(nr.adler=Gt.check=Gt.flags?et(Gt.check,kr,yr,nr.next_out-yr):tt(Gt.check,kr,yr,nr.next_out-yr)),nr.data_type=Gt.bits+(Gt.last?64:0)+(Gt.mode===Kt?128:0)+(Gt.mode===Zt||Gt.mode===jt?256:0),(Sr===0&&yr===0||ur===ot)&&Nr===ct&&(Nr=gt),Nr}function br(nr){if(!nr||!nr.state)return dt;var ur=nr.state;return ur.window&&(ur.window=null),nr.state=null,ct}function _e(nr,ur){var Gt;return nr&&nr.state&&2&(Gt=nr.state).wrap?(Gt.head=ur,ur.done=!1,ct):dt}function mr(nr,ur){var Gt,hr=ur.length;return nr&&nr.state?(Gt=nr.state).wrap!==0&&Gt.mode!==Pt?dt:Gt.mode===Pt&&tt(1,ur,hr,0)!==Gt.check?ht:wr(nr,ur,hr,hr)?(Gt.mode=Lt,pt):(Gt.havedict=1,ct):dt}$.inflateReset=ar,$.inflateReset2=dr,$.inflateResetKeep=rr,$.inflateInit=fr,$.inflateInit2=gr,$.inflate=Mr,$.inflateEnd=br,$.inflateGetHeader=_e,$.inflateSetDictionary=mr,$.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,g,$){var j=d("../utils/common"),tt=15,et=852,rt=592,nt=0,it=1,at=2,st=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ot=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],lt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ut=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(ct,ft,mt,dt,ht,pt,gt,_t){var Et,yt,St,wt,kt,bt,Tt,Dt,$t,At=_t.bits,Pt=0,Kt=0,Ut=0,It=0,jt=0,zt=0,Ht=0,Vt=0,Wt=0,Zt=0,Qt=null,Xt=0,er=new j.Buf16(tt+1),ir=new j.Buf16(tt+1),Yt=null,xt=0;for(Pt=0;Pt<=tt;Pt++)er[Pt]=0;for(Kt=0;Kt<dt;Kt++)er[ft[mt+Kt]]++;for(jt=At,It=tt;It>=1&&er[It]===0;It--);if(jt>It&&(jt=It),It===0)return ht[pt++]=20971520,ht[pt++]=20971520,_t.bits=1,0;for(Ut=1;Ut<It&&er[Ut]===0;Ut++);for(jt<Ut&&(jt=Ut),Vt=1,Pt=1;Pt<=tt;Pt++)if(Vt<<=1,(Vt-=er[Pt])<0)return-1;if(Vt>0&&(ct===nt||It!==1))return-1;for(ir[1]=0,Pt=1;Pt<tt;Pt++)ir[Pt+1]=ir[Pt]+er[Pt];for(Kt=0;Kt<dt;Kt++)ft[mt+Kt]!==0&&(gt[ir[ft[mt+Kt]]++]=Kt);if(ct===nt?(Qt=Yt=gt,bt=19):ct===it?(Qt=st,Xt-=257,Yt=ot,xt-=257,bt=256):(Qt=lt,Yt=ut,bt=-1),Zt=0,Kt=0,Pt=Ut,kt=pt,zt=jt,Ht=0,St=-1,wt=(Wt=1<<jt)-1,ct===it&&Wt>et||ct===at&&Wt>rt)return 1;for(;;){Tt=Pt-Ht,gt[Kt]<bt?(Dt=0,$t=gt[Kt]):gt[Kt]>bt?(Dt=Yt[xt+gt[Kt]],$t=Qt[Xt+gt[Kt]]):(Dt=96,$t=0),Et=1<<Pt-Ht,Ut=yt=1<<zt;do ht[kt+(Zt>>Ht)+(yt-=Et)]=Tt<<24|Dt<<16|$t;while(yt!==0);for(Et=1<<Pt-1;Zt&Et;)Et>>=1;if(Et!==0?(Zt&=Et-1,Zt+=Et):Zt=0,Kt++,--er[Pt]==0){if(Pt===It)break;Pt=ft[mt+gt[Kt]]}if(Pt>jt&&(Zt&wt)!==St){for(Ht===0&&(Ht=jt),kt+=Ut,Vt=1<<(zt=Pt-Ht);zt+Ht<It&&!((Vt-=er[zt+Ht])<=0);)zt++,Vt<<=1;if(Wt+=1<<zt,ct===it&&Wt>et||ct===at&&Wt>rt)return 1;ht[St=Zt&wt]=jt<<24|zt<<16|kt-pt}}return Zt!==0&&(ht[kt+Zt]=Pt-Ht<<24|64<<16),_t.bits=jt,0}},{"../utils/common":52}],60:[function(d,g,$){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,g,$){var j=d("../utils/common"),tt=4,et=0,rt=1,nt=2;function it(_e){for(var mr=_e.length;--mr>=0;)_e[mr]=0}var at=0,st=1,ot=2,lt=3,ut=258,ct=29,ft=256,mt=ft+1+ct,dt=30,ht=19,pt=2*mt+1,gt=15,_t=16,Et=7,yt=256,St=16,wt=17,kt=18,bt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],At=512,Pt=new Array(2*(mt+2));it(Pt);var Kt=new Array(2*dt);it(Kt);var Ut=new Array(At);it(Ut);var It=new Array(ut-lt+1);it(It);var jt=new Array(ct);it(jt);var zt,Ht,Vt,Wt=new Array(dt);function Zt(_e,mr,nr,ur,Gt){this.static_tree=_e,this.extra_bits=mr,this.extra_base=nr,this.elems=ur,this.max_length=Gt,this.has_stree=_e&&_e.length}function Qt(_e,mr){this.dyn_tree=_e,this.max_code=0,this.stat_desc=mr}function Xt(_e){return _e<256?Ut[_e]:Ut[256+(_e>>>7)]}function er(_e,mr){_e.pending_buf[_e.pending++]=255&mr,_e.pending_buf[_e.pending++]=mr>>>8&255}function ir(_e,mr,nr){_e.bi_valid>_t-nr?(_e.bi_buf|=mr<<_e.bi_valid&65535,er(_e,_e.bi_buf),_e.bi_buf=mr>>_t-_e.bi_valid,_e.bi_valid+=nr-_t):(_e.bi_buf|=mr<<_e.bi_valid&65535,_e.bi_valid+=nr)}function Yt(_e,mr,nr){ir(_e,nr[2*mr],nr[2*mr+1])}function xt(_e,mr){var nr=0;do nr|=1&_e,_e>>>=1,nr<<=1;while(--mr>0);return nr>>>1}function qt(_e){_e.bi_valid===16?(er(_e,_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0):_e.bi_valid>=8&&(_e.pending_buf[_e.pending++]=255&_e.bi_buf,_e.bi_buf>>=8,_e.bi_valid-=8)}function Rt(_e,mr){var nr,ur,Gt,hr,kr,Ct,cr=mr.dyn_tree,or=mr.max_code,tr=mr.stat_desc.static_tree,sr=mr.stat_desc.has_stree,lr=mr.stat_desc.extra_bits,Sr=mr.stat_desc.extra_base,yr=mr.stat_desc.max_length,xr=0;for(hr=0;hr<=gt;hr++)_e.bl_count[hr]=0;for(cr[2*_e.heap[_e.heap_max]+1]=0,nr=_e.heap_max+1;nr<pt;nr++)(hr=cr[2*cr[2*(ur=_e.heap[nr])+1]+1]+1)>yr&&(hr=yr,xr++),cr[2*ur+1]=hr,ur>or||(_e.bl_count[hr]++,kr=0,ur>=Sr&&(kr=lr[ur-Sr]),Ct=cr[2*ur],_e.opt_len+=Ct*(hr+kr),sr&&(_e.static_len+=Ct*(tr[2*ur+1]+kr)));if(xr!==0){do{for(hr=yr-1;_e.bl_count[hr]===0;)hr--;_e.bl_count[hr]--,_e.bl_count[hr+1]+=2,_e.bl_count[yr]--,xr-=2}while(xr>0);for(hr=yr;hr!==0;hr--)for(ur=_e.bl_count[hr];ur!==0;)(Gt=_e.heap[--nr])>or||(cr[2*Gt+1]!==hr&&(_e.opt_len+=(hr-cr[2*Gt+1])*cr[2*Gt],cr[2*Gt+1]=hr),ur--)}}function Nt(_e,mr,nr){var ur,Gt,hr=new Array(gt+1),kr=0;for(ur=1;ur<=gt;ur++)hr[ur]=kr=kr+nr[ur-1]<<1;for(Gt=0;Gt<=mr;Gt++){var Ct=_e[2*Gt+1];Ct!==0&&(_e[2*Gt]=xt(hr[Ct]++,Ct))}}function Bt(){var _e,mr,nr,ur,Gt,hr=new Array(gt+1);for(nr=0,ur=0;ur<ct-1;ur++)for(jt[ur]=nr,_e=0;_e<1<<bt[ur];_e++)It[nr++]=ur;for(It[nr-1]=ur,Gt=0,ur=0;ur<16;ur++)for(Wt[ur]=Gt,_e=0;_e<1<<Tt[ur];_e++)Ut[Gt++]=ur;for(Gt>>=7;ur<dt;ur++)for(Wt[ur]=Gt<<7,_e=0;_e<1<<Tt[ur]-7;_e++)Ut[256+Gt++]=ur;for(mr=0;mr<=gt;mr++)hr[mr]=0;for(_e=0;_e<=143;)Pt[2*_e+1]=8,_e++,hr[8]++;for(;_e<=255;)Pt[2*_e+1]=9,_e++,hr[9]++;for(;_e<=279;)Pt[2*_e+1]=7,_e++,hr[7]++;for(;_e<=287;)Pt[2*_e+1]=8,_e++,hr[8]++;for(Nt(Pt,mt+1,hr),_e=0;_e<dt;_e++)Kt[2*_e+1]=5,Kt[2*_e]=xt(_e,5);zt=new Zt(Pt,bt,ft+1,mt,gt),Ht=new Zt(Kt,Tt,0,dt,gt),Vt=new Zt(new Array(0),Dt,0,ht,Et)}function Lt(_e){var mr;for(mr=0;mr<mt;mr++)_e.dyn_ltree[2*mr]=0;for(mr=0;mr<dt;mr++)_e.dyn_dtree[2*mr]=0;for(mr=0;mr<ht;mr++)_e.bl_tree[2*mr]=0;_e.dyn_ltree[2*yt]=1,_e.opt_len=_e.static_len=0,_e.last_lit=_e.matches=0}function Jt(_e){_e.bi_valid>8?er(_e,_e.bi_buf):_e.bi_valid>0&&(_e.pending_buf[_e.pending++]=_e.bi_buf),_e.bi_buf=0,_e.bi_valid=0}function vt(_e,mr,nr,ur){Jt(_e),er(_e,nr),er(_e,~nr),j.arraySet(_e.pending_buf,_e.window,mr,nr,_e.pending),_e.pending+=nr}function Mt(_e,mr,nr,ur){var Gt=2*mr,hr=2*nr;return _e[Gt]<_e[hr]||_e[Gt]===_e[hr]&&ur[mr]<=ur[nr]}function Ot(_e,mr,nr){for(var ur=_e.heap[nr],Gt=nr<<1;Gt<=_e.heap_len&&(Gt<_e.heap_len&&Mt(mr,_e.heap[Gt+1],_e.heap[Gt],_e.depth)&&Gt++,!Mt(mr,ur,_e.heap[Gt],_e.depth));)_e.heap[nr]=_e.heap[Gt],nr=Gt,Gt<<=1;_e.heap[nr]=ur}function Ft(_e,mr,nr){var ur,Gt,hr,kr,Ct=0;if(_e.last_lit!==0)do ur=_e.pending_buf[_e.d_buf+2*Ct]<<8|_e.pending_buf[_e.d_buf+2*Ct+1],Gt=_e.pending_buf[_e.l_buf+Ct],Ct++,ur===0?Yt(_e,Gt,mr):(Yt(_e,(hr=It[Gt])+ft+1,mr),(kr=bt[hr])!==0&&ir(_e,Gt-=jt[hr],kr),Yt(_e,hr=Xt(--ur),nr),(kr=Tt[hr])!==0&&ir(_e,ur-=Wt[hr],kr));while(Ct<_e.last_lit);Yt(_e,yt,mr)}function rr(_e,mr){var nr,ur,Gt,hr=mr.dyn_tree,kr=mr.stat_desc.static_tree,Ct=mr.stat_desc.has_stree,cr=mr.stat_desc.elems,or=-1;for(_e.heap_len=0,_e.heap_max=pt,nr=0;nr<cr;nr++)hr[2*nr]!==0?(_e.heap[++_e.heap_len]=or=nr,_e.depth[nr]=0):hr[2*nr+1]=0;for(;_e.heap_len<2;)hr[2*(Gt=_e.heap[++_e.heap_len]=or<2?++or:0)]=1,_e.depth[Gt]=0,_e.opt_len--,Ct&&(_e.static_len-=kr[2*Gt+1]);for(mr.max_code=or,nr=_e.heap_len>>1;nr>=1;nr--)Ot(_e,hr,nr);Gt=cr;do nr=_e.heap[1],_e.heap[1]=_e.heap[_e.heap_len--],Ot(_e,hr,1),ur=_e.heap[1],_e.heap[--_e.heap_max]=nr,_e.heap[--_e.heap_max]=ur,hr[2*Gt]=hr[2*nr]+hr[2*ur],_e.depth[Gt]=(_e.depth[nr]>=_e.depth[ur]?_e.depth[nr]:_e.depth[ur])+1,hr[2*nr+1]=hr[2*ur+1]=Gt,_e.heap[1]=Gt++,Ot(_e,hr,1);while(_e.heap_len>=2);_e.heap[--_e.heap_max]=_e.heap[1],Rt(_e,mr),Nt(hr,or,_e.bl_count)}function ar(_e,mr,nr){var ur,Gt,hr=-1,kr=mr[1],Ct=0,cr=7,or=4;for(kr===0&&(cr=138,or=3),mr[2*(nr+1)+1]=65535,ur=0;ur<=nr;ur++)Gt=kr,kr=mr[2*(ur+1)+1],++Ct<cr&&Gt===kr||(Ct<or?_e.bl_tree[2*Gt]+=Ct:Gt!==0?(Gt!==hr&&_e.bl_tree[2*Gt]++,_e.bl_tree[2*St]++):Ct<=10?_e.bl_tree[2*wt]++:_e.bl_tree[2*kt]++,Ct=0,hr=Gt,kr===0?(cr=138,or=3):Gt===kr?(cr=6,or=3):(cr=7,or=4))}function dr(_e,mr,nr){var ur,Gt,hr=-1,kr=mr[1],Ct=0,cr=7,or=4;for(kr===0&&(cr=138,or=3),ur=0;ur<=nr;ur++)if(Gt=kr,kr=mr[2*(ur+1)+1],!(++Ct<cr&&Gt===kr)){if(Ct<or)do Yt(_e,Gt,_e.bl_tree);while(--Ct!=0);else Gt!==0?(Gt!==hr&&(Yt(_e,Gt,_e.bl_tree),Ct--),Yt(_e,St,_e.bl_tree),ir(_e,Ct-3,2)):Ct<=10?(Yt(_e,wt,_e.bl_tree),ir(_e,Ct-3,3)):(Yt(_e,kt,_e.bl_tree),ir(_e,Ct-11,7));Ct=0,hr=Gt,kr===0?(cr=138,or=3):Gt===kr?(cr=6,or=3):(cr=7,or=4)}}function gr(_e){var mr;for(ar(_e,_e.dyn_ltree,_e.l_desc.max_code),ar(_e,_e.dyn_dtree,_e.d_desc.max_code),rr(_e,_e.bl_desc),mr=ht-1;mr>=3&&_e.bl_tree[2*$t[mr]+1]===0;mr--);return _e.opt_len+=3*(mr+1)+5+5+4,mr}function fr(_e,mr,nr,ur){var Gt;for(ir(_e,mr-257,5),ir(_e,nr-1,5),ir(_e,ur-4,4),Gt=0;Gt<ur;Gt++)ir(_e,_e.bl_tree[2*$t[Gt]+1],3);dr(_e,_e.dyn_ltree,mr-1),dr(_e,_e.dyn_dtree,nr-1)}function _r(_e){var mr,nr=4093624447;for(mr=0;mr<=31;mr++,nr>>>=1)if(1&nr&&_e.dyn_ltree[2*mr]!==0)return et;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return rt;for(mr=32;mr<ft;mr++)if(_e.dyn_ltree[2*mr]!==0)return rt;return et}it(Wt);var pr=!1;function Er(_e){pr||(Bt(),pr=!0),_e.l_desc=new Qt(_e.dyn_ltree,zt),_e.d_desc=new Qt(_e.dyn_dtree,Ht),_e.bl_desc=new Qt(_e.bl_tree,Vt),_e.bi_buf=0,_e.bi_valid=0,Lt(_e)}function vr(_e,mr,nr,ur){ir(_e,(at<<1)+(ur?1:0),3),vt(_e,mr,nr)}function wr(_e){ir(_e,st<<1,3),Yt(_e,yt,Pt),qt(_e)}function Mr(_e,mr,nr,ur){var Gt,hr,kr=0;_e.level>0?(_e.strm.data_type===nt&&(_e.strm.data_type=_r(_e)),rr(_e,_e.l_desc),rr(_e,_e.d_desc),kr=gr(_e),Gt=_e.opt_len+3+7>>>3,(hr=_e.static_len+3+7>>>3)<=Gt&&(Gt=hr)):Gt=hr=nr+5,nr+4<=Gt&&mr!==-1?vr(_e,mr,nr,ur):_e.strategy===tt||hr===Gt?(ir(_e,(st<<1)+(ur?1:0),3),Ft(_e,Pt,Kt)):(ir(_e,(ot<<1)+(ur?1:0),3),fr(_e,_e.l_desc.max_code+1,_e.d_desc.max_code+1,kr+1),Ft(_e,_e.dyn_ltree,_e.dyn_dtree)),Lt(_e),ur&&Jt(_e)}function br(_e,mr,nr){return _e.pending_buf[_e.d_buf+2*_e.last_lit]=mr>>>8&255,_e.pending_buf[_e.d_buf+2*_e.last_lit+1]=255&mr,_e.pending_buf[_e.l_buf+_e.last_lit]=255&nr,_e.last_lit++,mr===0?_e.dyn_ltree[2*nr]++:(_e.matches++,mr--,_e.dyn_ltree[2*(It[nr]+ft+1)]++,_e.dyn_dtree[2*Xt(mr)]++),_e.last_lit===_e.lit_bufsize-1}$._tr_init=Er,$._tr_stored_block=vr,$._tr_flush_block=Mr,$._tr_tally=br,$._tr_align=wr},{"../utils/common":52}],62:[function(d,g,$){function j(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}g.exports=j},{}],63:[function(d,g,$){var j,tt,et=g.exports={};function rt(){throw new Error("setTimeout has not been defined")}function nt(){throw new Error("clearTimeout has not been defined")}function it(ht){if(j===setTimeout)return setTimeout(ht,0);if((j===rt||!j)&&setTimeout)return j=setTimeout,setTimeout(ht,0);try{return j(ht,0)}catch{try{return j.call(null,ht,0)}catch{return j.call(this,ht,0)}}}function at(ht){if(tt===clearTimeout)return clearTimeout(ht);if((tt===nt||!tt)&&clearTimeout)return tt=clearTimeout,clearTimeout(ht);try{return tt(ht)}catch{try{return tt.call(null,ht)}catch{return tt.call(this,ht)}}}(function(){try{j=typeof setTimeout=="function"?setTimeout:rt}catch{j=rt}try{tt=typeof clearTimeout=="function"?clearTimeout:nt}catch{tt=nt}})();var st,ot=[],lt=!1,ut=-1;function ct(){lt&&st&&(lt=!1,st.length?ot=st.concat(ot):ut=-1,ot.length&&ft())}function ft(){if(!lt){var ht=it(ct);lt=!0;for(var pt=ot.length;pt;){for(st=ot,ot=[];++ut<pt;)st&&st[ut].run();ut=-1,pt=ot.length}st=null,lt=!1,at(ht)}}function mt(ht,pt){this.fun=ht,this.array=pt}function dt(){}et.nextTick=function(ht){var pt=new Array(arguments.length-1);if(arguments.length>1)for(var gt=1;gt<arguments.length;gt++)pt[gt-1]=arguments[gt];ot.push(new mt(ht,pt)),ot.length!==1||lt||it(ft)},mt.prototype.run=function(){this.fun.apply(null,this.array)},et.title="browser",et.browser=!0,et.env={},et.argv=[],et.version="",et.versions={},et.on=dt,et.addListener=dt,et.once=dt,et.off=dt,et.removeListener=dt,et.removeAllListeners=dt,et.emit=dt,et.prependListener=dt,et.prependOnceListener=dt,et.listeners=function(ht){return[]},et.binding=function(ht){throw new Error("process.binding is not supported")},et.cwd=function(){return"/"},et.chdir=function(ht){throw new Error("process.chdir is not supported")},et.umask=function(){return 0}},{}],64:[function(d,g,$){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var j=d("buffer"),tt=j.Buffer;function et(nt,it){for(var at in nt)it[at]=nt[at]}function rt(nt,it,at){return tt(nt,it,at)}tt.from&&tt.alloc&&tt.allocUnsafe&&tt.allocUnsafeSlow?g.exports=j:(et(j,$),$.Buffer=rt),rt.prototype=Object.create(tt.prototype),et(tt,rt),rt.from=function(nt,it,at){if(typeof nt=="number")throw new TypeError("Argument must not be a number");return tt(nt,it,at)},rt.alloc=function(nt,it,at){if(typeof nt!="number")throw new TypeError("Argument must be a number");var st=tt(nt);return it!==void 0?typeof at=="string"?st.fill(it,at):st.fill(it):st.fill(0),st},rt.allocUnsafe=function(nt){if(typeof nt!="number")throw new TypeError("Argument must be a number");return tt(nt)},rt.allocUnsafeSlow=function(nt){if(typeof nt!="number")throw new TypeError("Argument must be a number");return j.SlowBuffer(nt)}},{buffer:32}],65:[function(d,g,$){g.exports=tt;var j=d("events").EventEmitter;function tt(){j.call(this)}d("inherits")(tt,j),tt.Readable=d("readable-stream/lib/_stream_readable.js"),tt.Writable=d("readable-stream/lib/_stream_writable.js"),tt.Duplex=d("readable-stream/lib/_stream_duplex.js"),tt.Transform=d("readable-stream/lib/_stream_transform.js"),tt.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),tt.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),tt.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),tt.Stream=tt,tt.prototype.pipe=function(et,rt){var nt=this;function it(ft){et.writable&&et.write(ft)===!1&&nt.pause&&nt.pause()}function at(){nt.readable&&nt.resume&&nt.resume()}nt.on("data",it),et.on("drain",at),et._isStdio||rt&&rt.end===!1||(nt.on("end",ot),nt.on("close",lt));var st=!1;function ot(){st||(st=!0,et.end())}function lt(){st||(st=!0,typeof et.destroy=="function"&&et.destroy())}function ut(ft){if(ct(),j.listenerCount(this,"error")===0)throw ft}function ct(){nt.removeListener("data",it),et.removeListener("drain",at),nt.removeListener("end",ot),nt.removeListener("close",lt),nt.removeListener("error",ut),et.removeListener("error",ut),nt.removeListener("end",ct),nt.removeListener("close",ct),et.removeListener("close",ct)}return nt.on("error",ut),et.on("error",ut),nt.on("end",ct),nt.on("close",ct),et.on("close",ct),et.emit("pipe",nt),et}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,g,$){function j(st,ot){st.prototype=Object.create(ot.prototype),st.prototype.constructor=st,st.__proto__=ot}var tt={};function et(st,ot,lt){function ut(ft,mt,dt){return typeof ot=="string"?ot:ot(ft,mt,dt)}lt||(lt=Error);var ct=function(ft){function mt(dt,ht,pt){return ft.call(this,ut(dt,ht,pt))||this}return j(mt,ft),mt}(lt);ct.prototype.name=lt.name,ct.prototype.code=st,tt[st]=ct}function rt(st,ot){if(Array.isArray(st)){var lt=st.length;return st=st.map(function(ut){return String(ut)}),lt>2?"one of ".concat(ot," ").concat(st.slice(0,lt-1).join(", "),", or ")+st[lt-1]:lt===2?"one of ".concat(ot," ").concat(st[0]," or ").concat(st[1]):"of ".concat(ot," ").concat(st[0])}return"of ".concat(ot," ").concat(String(st))}function nt(st,ot,lt){return st.substr(0,ot.length)===ot}function it(st,ot,lt){return(lt===void 0||lt>st.length)&&(lt=st.length),st.substring(lt-ot.length,lt)===ot}function at(st,ot,lt){return typeof lt!="number"&&(lt=0),!(lt+ot.length>st.length)&&st.indexOf(ot,lt)!==-1}et("ERR_INVALID_OPT_VALUE",function(st,ot){return'The value "'+ot+'" is invalid for option "'+st+'"'},TypeError),et("ERR_INVALID_ARG_TYPE",function(st,ot,lt){var ut,ct;if(typeof ot=="string"&&nt(ot,"not ")?(ut="must not be",ot=ot.replace(/^not /,"")):ut="must be",it(st," argument"))ct="The ".concat(st," ").concat(ut," ").concat(rt(ot,"type"));else{var ft=at(st,".")?"property":"argument";ct='The "'.concat(st,'" ').concat(ft," ").concat(ut," ").concat(rt(ot,"type"))}return ct+=". Received type ".concat(typeof lt)},TypeError),et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),et("ERR_METHOD_NOT_IMPLEMENTED",function(st){return"The "+st+" method is not implemented"}),et("ERR_STREAM_PREMATURE_CLOSE","Premature close"),et("ERR_STREAM_DESTROYED",function(st){return"Cannot call "+st+" after a stream was destroyed"}),et("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),et("ERR_STREAM_WRITE_AFTER_END","write after end"),et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),et("ERR_UNKNOWN_ENCODING",function(st){return"Unknown encoding: "+st},TypeError),et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),g.exports.codes=tt},{}],67:[function(d,g,$){(function(j){(function(){var tt=Object.keys||function(ut){var ct=[];for(var ft in ut)ct.push(ft);return ct};g.exports=st;var et=d("./_stream_readable"),rt=d("./_stream_writable");d("inherits")(st,et);for(var nt=tt(rt.prototype),it=0;it<nt.length;it++){var at=nt[it];st.prototype[at]||(st.prototype[at]=rt.prototype[at])}function st(ut){if(!(this instanceof st))return new st(ut);et.call(this,ut),rt.call(this,ut),this.allowHalfOpen=!0,ut&&(ut.readable===!1&&(this.readable=!1),ut.writable===!1&&(this.writable=!1),ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ot)))}function ot(){this._writableState.ended||j.nextTick(lt,this)}function lt(ut){ut.end()}Object.defineProperty(st.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(st.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(st.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(st.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ut){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ut,this._writableState.destroyed=ut)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,g,$){g.exports=tt;var j=d("./_stream_transform");function tt(et){if(!(this instanceof tt))return new tt(et);j.call(this,et)}d("inherits")(tt,j),tt.prototype._transform=function(et,rt,nt){nt(null,et)}},{"./_stream_transform":70,inherits:46}],69:[function(d,g,$){(function(j,tt){(function(){var et;g.exports=Dt,Dt.ReadableState=Tt,d("events").EventEmitter;var rt=function(Bt,Lt){return Bt.listeners(Lt).length},nt=d("./internal/streams/stream"),it=d("buffer").Buffer,at=tt.Uint8Array||function(){};function st(Bt){return it.from(Bt)}function ot(Bt){return it.isBuffer(Bt)||Bt instanceof at}var lt,ut=d("util");lt=ut&&ut.debuglog?ut.debuglog("stream"):function(){};var ct,ft,mt,dt=d("./internal/streams/buffer_list"),ht=d("./internal/streams/destroy"),pt=d("./internal/streams/state").getHighWaterMark,gt=d("../errors").codes,_t=gt.ERR_INVALID_ARG_TYPE,Et=gt.ERR_STREAM_PUSH_AFTER_EOF,yt=gt.ERR_METHOD_NOT_IMPLEMENTED,St=gt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(Dt,nt);var wt=ht.errorOrDestroy,kt=["error","close","destroy","pause","resume"];function bt(Bt,Lt,Jt){if(typeof Bt.prependListener=="function")return Bt.prependListener(Lt,Jt);Bt._events&&Bt._events[Lt]?Array.isArray(Bt._events[Lt])?Bt._events[Lt].unshift(Jt):Bt._events[Lt]=[Jt,Bt._events[Lt]]:Bt.on(Lt,Jt)}function Tt(Bt,Lt,Jt){et=et||d("./_stream_duplex"),Bt=Bt||{},typeof Jt!="boolean"&&(Jt=Lt instanceof et),this.objectMode=!!Bt.objectMode,Jt&&(this.objectMode=this.objectMode||!!Bt.readableObjectMode),this.highWaterMark=pt(this,Bt,"readableHighWaterMark",Jt),this.buffer=new dt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Bt.emitClose!==!1,this.autoDestroy=!!Bt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Bt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Bt.encoding&&(ct||(ct=d("string_decoder/").StringDecoder),this.decoder=new ct(Bt.encoding),this.encoding=Bt.encoding)}function Dt(Bt){if(et=et||d("./_stream_duplex"),!(this instanceof Dt))return new Dt(Bt);var Lt=this instanceof et;this._readableState=new Tt(Bt,this,Lt),this.readable=!0,Bt&&(typeof Bt.read=="function"&&(this._read=Bt.read),typeof Bt.destroy=="function"&&(this._destroy=Bt.destroy)),nt.call(this)}function $t(Bt,Lt,Jt,vt,Mt){lt("readableAddChunk",Lt);var Ot,Ft=Bt._readableState;if(Lt===null)Ft.reading=!1,jt(Bt,Ft);else if(Mt||(Ot=Pt(Ft,Lt)),Ot)wt(Bt,Ot);else if(Ft.objectMode||Lt&&Lt.length>0)if(typeof Lt=="string"||Ft.objectMode||Object.getPrototypeOf(Lt)===it.prototype||(Lt=st(Lt)),vt)Ft.endEmitted?wt(Bt,new St):At(Bt,Ft,Lt,!0);else if(Ft.ended)wt(Bt,new Et);else{if(Ft.destroyed)return!1;Ft.reading=!1,Ft.decoder&&!Jt?(Lt=Ft.decoder.write(Lt),Ft.objectMode||Lt.length!==0?At(Bt,Ft,Lt,!1):Vt(Bt,Ft)):At(Bt,Ft,Lt,!1)}else vt||(Ft.reading=!1,Vt(Bt,Ft));return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}function At(Bt,Lt,Jt,vt){Lt.flowing&&Lt.length===0&&!Lt.sync?(Lt.awaitDrain=0,Bt.emit("data",Jt)):(Lt.length+=Lt.objectMode?1:Jt.length,vt?Lt.buffer.unshift(Jt):Lt.buffer.push(Jt),Lt.needReadable&&zt(Bt)),Vt(Bt,Lt)}function Pt(Bt,Lt){var Jt;return ot(Lt)||typeof Lt=="string"||Lt===void 0||Bt.objectMode||(Jt=new _t("chunk",["string","Buffer","Uint8Array"],Lt)),Jt}Object.defineProperty(Dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Bt){this._readableState&&(this._readableState.destroyed=Bt)}}),Dt.prototype.destroy=ht.destroy,Dt.prototype._undestroy=ht.undestroy,Dt.prototype._destroy=function(Bt,Lt){Lt(Bt)},Dt.prototype.push=function(Bt,Lt){var Jt,vt=this._readableState;return vt.objectMode?Jt=!0:typeof Bt=="string"&&((Lt=Lt||vt.defaultEncoding)!==vt.encoding&&(Bt=it.from(Bt,Lt),Lt=""),Jt=!0),$t(this,Bt,Lt,!1,Jt)},Dt.prototype.unshift=function(Bt){return $t(this,Bt,null,!0,!1)},Dt.prototype.isPaused=function(){return this._readableState.flowing===!1},Dt.prototype.setEncoding=function(Bt){ct||(ct=d("string_decoder/").StringDecoder);var Lt=new ct(Bt);this._readableState.decoder=Lt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Jt=this._readableState.buffer.head,vt="";Jt!==null;)vt+=Lt.write(Jt.data),Jt=Jt.next;return this._readableState.buffer.clear(),vt!==""&&this._readableState.buffer.push(vt),this._readableState.length=vt.length,this};var Kt=1073741824;function Ut(Bt){return Bt>=Kt?Bt=Kt:(Bt--,Bt|=Bt>>>1,Bt|=Bt>>>2,Bt|=Bt>>>4,Bt|=Bt>>>8,Bt|=Bt>>>16,Bt++),Bt}function It(Bt,Lt){return Bt<=0||Lt.length===0&&Lt.ended?0:Lt.objectMode?1:Bt!=Bt?Lt.flowing&&Lt.length?Lt.buffer.head.data.length:Lt.length:(Bt>Lt.highWaterMark&&(Lt.highWaterMark=Ut(Bt)),Bt<=Lt.length?Bt:Lt.ended?Lt.length:(Lt.needReadable=!0,0))}function jt(Bt,Lt){if(lt("onEofChunk"),!Lt.ended){if(Lt.decoder){var Jt=Lt.decoder.end();Jt&&Jt.length&&(Lt.buffer.push(Jt),Lt.length+=Lt.objectMode?1:Jt.length)}Lt.ended=!0,Lt.sync?zt(Bt):(Lt.needReadable=!1,Lt.emittedReadable||(Lt.emittedReadable=!0,Ht(Bt)))}}function zt(Bt){var Lt=Bt._readableState;lt("emitReadable",Lt.needReadable,Lt.emittedReadable),Lt.needReadable=!1,Lt.emittedReadable||(lt("emitReadable",Lt.flowing),Lt.emittedReadable=!0,j.nextTick(Ht,Bt))}function Ht(Bt){var Lt=Bt._readableState;lt("emitReadable_",Lt.destroyed,Lt.length,Lt.ended),Lt.destroyed||!Lt.length&&!Lt.ended||(Bt.emit("readable"),Lt.emittedReadable=!1),Lt.needReadable=!Lt.flowing&&!Lt.ended&&Lt.length<=Lt.highWaterMark,Yt(Bt)}function Vt(Bt,Lt){Lt.readingMore||(Lt.readingMore=!0,j.nextTick(Wt,Bt,Lt))}function Wt(Bt,Lt){for(;!Lt.reading&&!Lt.ended&&(Lt.length<Lt.highWaterMark||Lt.flowing&&Lt.length===0);){var Jt=Lt.length;if(lt("maybeReadMore read 0"),Bt.read(0),Jt===Lt.length)break}Lt.readingMore=!1}function Zt(Bt){return function(){var Lt=Bt._readableState;lt("pipeOnDrain",Lt.awaitDrain),Lt.awaitDrain&&Lt.awaitDrain--,Lt.awaitDrain===0&&rt(Bt,"data")&&(Lt.flowing=!0,Yt(Bt))}}function Qt(Bt){var Lt=Bt._readableState;Lt.readableListening=Bt.listenerCount("readable")>0,Lt.resumeScheduled&&!Lt.paused?Lt.flowing=!0:Bt.listenerCount("data")>0&&Bt.resume()}function Xt(Bt){lt("readable nexttick read 0"),Bt.read(0)}function er(Bt,Lt){Lt.resumeScheduled||(Lt.resumeScheduled=!0,j.nextTick(ir,Bt,Lt))}function ir(Bt,Lt){lt("resume",Lt.reading),Lt.reading||Bt.read(0),Lt.resumeScheduled=!1,Bt.emit("resume"),Yt(Bt),Lt.flowing&&!Lt.reading&&Bt.read(0)}function Yt(Bt){var Lt=Bt._readableState;for(lt("flow",Lt.flowing);Lt.flowing&&Bt.read()!==null;);}function xt(Bt,Lt){return Lt.length===0?null:(Lt.objectMode?Jt=Lt.buffer.shift():!Bt||Bt>=Lt.length?(Jt=Lt.decoder?Lt.buffer.join(""):Lt.buffer.length===1?Lt.buffer.first():Lt.buffer.concat(Lt.length),Lt.buffer.clear()):Jt=Lt.buffer.consume(Bt,Lt.decoder),Jt);var Jt}function qt(Bt){var Lt=Bt._readableState;lt("endReadable",Lt.endEmitted),Lt.endEmitted||(Lt.ended=!0,j.nextTick(Rt,Lt,Bt))}function Rt(Bt,Lt){if(lt("endReadableNT",Bt.endEmitted,Bt.length),!Bt.endEmitted&&Bt.length===0&&(Bt.endEmitted=!0,Lt.readable=!1,Lt.emit("end"),Bt.autoDestroy)){var Jt=Lt._writableState;(!Jt||Jt.autoDestroy&&Jt.finished)&&Lt.destroy()}}function Nt(Bt,Lt){for(var Jt=0,vt=Bt.length;Jt<vt;Jt++)if(Bt[Jt]===Lt)return Jt;return-1}Dt.prototype.read=function(Bt){lt("read",Bt),Bt=parseInt(Bt,10);var Lt=this._readableState,Jt=Bt;if(Bt!==0&&(Lt.emittedReadable=!1),Bt===0&&Lt.needReadable&&((Lt.highWaterMark!==0?Lt.length>=Lt.highWaterMark:Lt.length>0)||Lt.ended))return lt("read: emitReadable",Lt.length,Lt.ended),Lt.length===0&&Lt.ended?qt(this):zt(this),null;if((Bt=It(Bt,Lt))===0&&Lt.ended)return Lt.length===0&&qt(this),null;var vt,Mt=Lt.needReadable;return lt("need readable",Mt),(Lt.length===0||Lt.length-Bt<Lt.highWaterMark)&&lt("length less than watermark",Mt=!0),Lt.ended||Lt.reading?lt("reading or ended",Mt=!1):Mt&&(lt("do read"),Lt.reading=!0,Lt.sync=!0,Lt.length===0&&(Lt.needReadable=!0),this._read(Lt.highWaterMark),Lt.sync=!1,Lt.reading||(Bt=It(Jt,Lt))),(vt=Bt>0?xt(Bt,Lt):null)===null?(Lt.needReadable=Lt.length<=Lt.highWaterMark,Bt=0):(Lt.length-=Bt,Lt.awaitDrain=0),Lt.length===0&&(Lt.ended||(Lt.needReadable=!0),Jt!==Bt&&Lt.ended&&qt(this)),vt!==null&&this.emit("data",vt),vt},Dt.prototype._read=function(Bt){wt(this,new yt("_read()"))},Dt.prototype.pipe=function(Bt,Lt){var Jt=this,vt=this._readableState;switch(vt.pipesCount){case 0:vt.pipes=Bt;break;case 1:vt.pipes=[vt.pipes,Bt];break;default:vt.pipes.push(Bt)}vt.pipesCount+=1,lt("pipe count=%d opts=%j",vt.pipesCount,Lt);var Mt=Lt&&Lt.end===!1||Bt===j.stdout||Bt===j.stderr?Er:Ft;function Ot(vr,wr){lt("onunpipe"),vr===Jt&&wr&&wr.hasUnpiped===!1&&(wr.hasUnpiped=!0,dr())}function Ft(){lt("onend"),Bt.end()}vt.endEmitted?j.nextTick(Mt):Jt.once("end",Mt),Bt.on("unpipe",Ot);var rr=Zt(Jt);Bt.on("drain",rr);var ar=!1;function dr(){lt("cleanup"),Bt.removeListener("close",_r),Bt.removeListener("finish",pr),Bt.removeListener("drain",rr),Bt.removeListener("error",fr),Bt.removeListener("unpipe",Ot),Jt.removeListener("end",Ft),Jt.removeListener("end",Er),Jt.removeListener("data",gr),ar=!0,!vt.awaitDrain||Bt._writableState&&!Bt._writableState.needDrain||rr()}function gr(vr){lt("ondata");var wr=Bt.write(vr);lt("dest.write",wr),wr===!1&&((vt.pipesCount===1&&vt.pipes===Bt||vt.pipesCount>1&&Nt(vt.pipes,Bt)!==-1)&&!ar&&(lt("false write response, pause",vt.awaitDrain),vt.awaitDrain++),Jt.pause())}function fr(vr){lt("onerror",vr),Er(),Bt.removeListener("error",fr),rt(Bt,"error")===0&&wt(Bt,vr)}function _r(){Bt.removeListener("finish",pr),Er()}function pr(){lt("onfinish"),Bt.removeListener("close",_r),Er()}function Er(){lt("unpipe"),Jt.unpipe(Bt)}return Jt.on("data",gr),bt(Bt,"error",fr),Bt.once("close",_r),Bt.once("finish",pr),Bt.emit("pipe",Jt),vt.flowing||(lt("pipe resume"),Jt.resume()),Bt},Dt.prototype.unpipe=function(Bt){var Lt=this._readableState,Jt={hasUnpiped:!1};if(Lt.pipesCount===0)return this;if(Lt.pipesCount===1)return Bt&&Bt!==Lt.pipes||(Bt||(Bt=Lt.pipes),Lt.pipes=null,Lt.pipesCount=0,Lt.flowing=!1,Bt&&Bt.emit("unpipe",this,Jt)),this;if(!Bt){var vt=Lt.pipes,Mt=Lt.pipesCount;Lt.pipes=null,Lt.pipesCount=0,Lt.flowing=!1;for(var Ot=0;Ot<Mt;Ot++)vt[Ot].emit("unpipe",this,{hasUnpiped:!1});return this}var Ft=Nt(Lt.pipes,Bt);return Ft===-1||(Lt.pipes.splice(Ft,1),Lt.pipesCount-=1,Lt.pipesCount===1&&(Lt.pipes=Lt.pipes[0]),Bt.emit("unpipe",this,Jt)),this},Dt.prototype.on=function(Bt,Lt){var Jt=nt.prototype.on.call(this,Bt,Lt),vt=this._readableState;return Bt==="data"?(vt.readableListening=this.listenerCount("readable")>0,vt.flowing!==!1&&this.resume()):Bt==="readable"&&(vt.endEmitted||vt.readableListening||(vt.readableListening=vt.needReadable=!0,vt.flowing=!1,vt.emittedReadable=!1,lt("on readable",vt.length,vt.reading),vt.length?zt(this):vt.reading||j.nextTick(Xt,this))),Jt},Dt.prototype.addListener=Dt.prototype.on,Dt.prototype.removeListener=function(Bt,Lt){var Jt=nt.prototype.removeListener.call(this,Bt,Lt);return Bt==="readable"&&j.nextTick(Qt,this),Jt},Dt.prototype.removeAllListeners=function(Bt){var Lt=nt.prototype.removeAllListeners.apply(this,arguments);return Bt!=="readable"&&Bt!==void 0||j.nextTick(Qt,this),Lt},Dt.prototype.resume=function(){var Bt=this._readableState;return Bt.flowing||(lt("resume"),Bt.flowing=!Bt.readableListening,er(this,Bt)),Bt.paused=!1,this},Dt.prototype.pause=function(){return lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Dt.prototype.wrap=function(Bt){var Lt=this,Jt=this._readableState,vt=!1;for(var Mt in Bt.on("end",function(){if(lt("wrapped end"),Jt.decoder&&!Jt.ended){var Ft=Jt.decoder.end();Ft&&Ft.length&&Lt.push(Ft)}Lt.push(null)}),Bt.on("data",function(Ft){lt("wrapped data"),Jt.decoder&&(Ft=Jt.decoder.write(Ft)),Jt.objectMode&&Ft==null||(Jt.objectMode||Ft&&Ft.length)&&(Lt.push(Ft)||(vt=!0,Bt.pause()))}),Bt)this[Mt]===void 0&&typeof Bt[Mt]=="function"&&(this[Mt]=function(Ft){return function(){return Bt[Ft].apply(Bt,arguments)}}(Mt));for(var Ot=0;Ot<kt.length;Ot++)Bt.on(kt[Ot],this.emit.bind(this,kt[Ot]));return this._read=function(Ft){lt("wrapped _read",Ft),vt&&(vt=!1,Bt.resume())},this},typeof Symbol=="function"&&(Dt.prototype[Symbol.asyncIterator]=function(){return ft===void 0&&(ft=d("./internal/streams/async_iterator")),ft(this)}),Object.defineProperty(Dt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Dt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Dt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Bt){this._readableState&&(this._readableState.flowing=Bt)}}),Dt._fromList=xt,Object.defineProperty(Dt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Dt.from=function(Bt,Lt){return mt===void 0&&(mt=d("./internal/streams/from")),mt(Dt,Bt,Lt)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,g,$){g.exports=st;var j=d("../errors").codes,tt=j.ERR_METHOD_NOT_IMPLEMENTED,et=j.ERR_MULTIPLE_CALLBACK,rt=j.ERR_TRANSFORM_ALREADY_TRANSFORMING,nt=j.ERR_TRANSFORM_WITH_LENGTH_0,it=d("./_stream_duplex");function at(ut,ct){var ft=this._transformState;ft.transforming=!1;var mt=ft.writecb;if(mt===null)return this.emit("error",new et);ft.writechunk=null,ft.writecb=null,ct!=null&&this.push(ct),mt(ut);var dt=this._readableState;dt.reading=!1,(dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}function st(ut){if(!(this instanceof st))return new st(ut);it.call(this,ut),this._transformState={afterTransform:at.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ut&&(typeof ut.transform=="function"&&(this._transform=ut.transform),typeof ut.flush=="function"&&(this._flush=ut.flush)),this.on("prefinish",ot)}function ot(){var ut=this;typeof this._flush!="function"||this._readableState.destroyed?lt(this,null,null):this._flush(function(ct,ft){lt(ut,ct,ft)})}function lt(ut,ct,ft){if(ct)return ut.emit("error",ct);if(ft!=null&&ut.push(ft),ut._writableState.length)throw new nt;if(ut._transformState.transforming)throw new rt;return ut.push(null)}d("inherits")(st,it),st.prototype.push=function(ut,ct){return this._transformState.needTransform=!1,it.prototype.push.call(this,ut,ct)},st.prototype._transform=function(ut,ct,ft){ft(new tt("_transform()"))},st.prototype._write=function(ut,ct,ft){var mt=this._transformState;if(mt.writecb=ft,mt.writechunk=ut,mt.writeencoding=ct,!mt.transforming){var dt=this._readableState;(mt.needTransform||dt.needReadable||dt.length<dt.highWaterMark)&&this._read(dt.highWaterMark)}},st.prototype._read=function(ut){var ct=this._transformState;ct.writechunk===null||ct.transforming?ct.needTransform=!0:(ct.transforming=!0,this._transform(ct.writechunk,ct.writeencoding,ct.afterTransform))},st.prototype._destroy=function(ut,ct){it.prototype._destroy.call(this,ut,function(ft){ct(ft)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,g,$){(function(j,tt){(function(){function et(Yt){var xt=this;this.next=null,this.entry=null,this.finish=function(){ir(xt,Yt)}}var rt;g.exports=Tt,Tt.WritableState=bt;var nt={deprecate:d("util-deprecate")},it=d("./internal/streams/stream"),at=d("buffer").Buffer,st=tt.Uint8Array||function(){};function ot(Yt){return at.from(Yt)}function lt(Yt){return at.isBuffer(Yt)||Yt instanceof st}var ut,ct=d("./internal/streams/destroy"),ft=d("./internal/streams/state").getHighWaterMark,mt=d("../errors").codes,dt=mt.ERR_INVALID_ARG_TYPE,ht=mt.ERR_METHOD_NOT_IMPLEMENTED,pt=mt.ERR_MULTIPLE_CALLBACK,gt=mt.ERR_STREAM_CANNOT_PIPE,_t=mt.ERR_STREAM_DESTROYED,Et=mt.ERR_STREAM_NULL_VALUES,yt=mt.ERR_STREAM_WRITE_AFTER_END,St=mt.ERR_UNKNOWN_ENCODING,wt=ct.errorOrDestroy;function kt(){}function bt(Yt,xt,qt){rt=rt||d("./_stream_duplex"),Yt=Yt||{},typeof qt!="boolean"&&(qt=xt instanceof rt),this.objectMode=!!Yt.objectMode,qt&&(this.objectMode=this.objectMode||!!Yt.writableObjectMode),this.highWaterMark=ft(this,Yt,"writableHighWaterMark",qt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Rt=Yt.decodeStrings===!1;this.decodeStrings=!Rt,this.defaultEncoding=Yt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Nt){jt(xt,Nt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Yt.emitClose!==!1,this.autoDestroy=!!Yt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new et(this)}function Tt(Yt){var xt=this instanceof(rt=rt||d("./_stream_duplex"));if(!xt&&!ut.call(Tt,this))return new Tt(Yt);this._writableState=new bt(Yt,this,xt),this.writable=!0,Yt&&(typeof Yt.write=="function"&&(this._write=Yt.write),typeof Yt.writev=="function"&&(this._writev=Yt.writev),typeof Yt.destroy=="function"&&(this._destroy=Yt.destroy),typeof Yt.final=="function"&&(this._final=Yt.final)),it.call(this)}function Dt(Yt,xt){var qt=new yt;wt(Yt,qt),j.nextTick(xt,qt)}function $t(Yt,xt,qt,Rt){var Nt;return qt===null?Nt=new Et:typeof qt=="string"||xt.objectMode||(Nt=new dt("chunk",["string","Buffer"],qt)),!Nt||(wt(Yt,Nt),j.nextTick(Rt,Nt),!1)}function At(Yt,xt,qt){return Yt.objectMode||Yt.decodeStrings===!1||typeof xt!="string"||(xt=at.from(xt,qt)),xt}function Pt(Yt,xt,qt,Rt,Nt,Bt){if(!qt){var Lt=At(xt,Rt,Nt);Rt!==Lt&&(qt=!0,Nt="buffer",Rt=Lt)}var Jt=xt.objectMode?1:Rt.length;xt.length+=Jt;var vt=xt.length<xt.highWaterMark;if(vt||(xt.needDrain=!0),xt.writing||xt.corked){var Mt=xt.lastBufferedRequest;xt.lastBufferedRequest={chunk:Rt,encoding:Nt,isBuf:qt,callback:Bt,next:null},Mt?Mt.next=xt.lastBufferedRequest:xt.bufferedRequest=xt.lastBufferedRequest,xt.bufferedRequestCount+=1}else Kt(Yt,xt,!1,Jt,Rt,Nt,Bt);return vt}function Kt(Yt,xt,qt,Rt,Nt,Bt,Lt){xt.writelen=Rt,xt.writecb=Lt,xt.writing=!0,xt.sync=!0,xt.destroyed?xt.onwrite(new _t("write")):qt?Yt._writev(Nt,xt.onwrite):Yt._write(Nt,Bt,xt.onwrite),xt.sync=!1}function Ut(Yt,xt,qt,Rt,Nt){--xt.pendingcb,qt?(j.nextTick(Nt,Rt),j.nextTick(Xt,Yt,xt),Yt._writableState.errorEmitted=!0,wt(Yt,Rt)):(Nt(Rt),Yt._writableState.errorEmitted=!0,wt(Yt,Rt),Xt(Yt,xt))}function It(Yt){Yt.writing=!1,Yt.writecb=null,Yt.length-=Yt.writelen,Yt.writelen=0}function jt(Yt,xt){var qt=Yt._writableState,Rt=qt.sync,Nt=qt.writecb;if(typeof Nt!="function")throw new pt;if(It(qt),xt)Ut(Yt,qt,Rt,xt,Nt);else{var Bt=Wt(qt)||Yt.destroyed;Bt||qt.corked||qt.bufferProcessing||!qt.bufferedRequest||Vt(Yt,qt),Rt?j.nextTick(zt,Yt,qt,Bt,Nt):zt(Yt,qt,Bt,Nt)}}function zt(Yt,xt,qt,Rt){qt||Ht(Yt,xt),xt.pendingcb--,Rt(),Xt(Yt,xt)}function Ht(Yt,xt){xt.length===0&&xt.needDrain&&(xt.needDrain=!1,Yt.emit("drain"))}function Vt(Yt,xt){xt.bufferProcessing=!0;var qt=xt.bufferedRequest;if(Yt._writev&&qt&&qt.next){var Rt=xt.bufferedRequestCount,Nt=new Array(Rt),Bt=xt.corkedRequestsFree;Bt.entry=qt;for(var Lt=0,Jt=!0;qt;)Nt[Lt]=qt,qt.isBuf||(Jt=!1),qt=qt.next,Lt+=1;Nt.allBuffers=Jt,Kt(Yt,xt,!0,xt.length,Nt,"",Bt.finish),xt.pendingcb++,xt.lastBufferedRequest=null,Bt.next?(xt.corkedRequestsFree=Bt.next,Bt.next=null):xt.corkedRequestsFree=new et(xt),xt.bufferedRequestCount=0}else{for(;qt;){var vt=qt.chunk,Mt=qt.encoding,Ot=qt.callback;if(Kt(Yt,xt,!1,xt.objectMode?1:vt.length,vt,Mt,Ot),qt=qt.next,xt.bufferedRequestCount--,xt.writing)break}qt===null&&(xt.lastBufferedRequest=null)}xt.bufferedRequest=qt,xt.bufferProcessing=!1}function Wt(Yt){return Yt.ending&&Yt.length===0&&Yt.bufferedRequest===null&&!Yt.finished&&!Yt.writing}function Zt(Yt,xt){Yt._final(function(qt){xt.pendingcb--,qt&&wt(Yt,qt),xt.prefinished=!0,Yt.emit("prefinish"),Xt(Yt,xt)})}function Qt(Yt,xt){xt.prefinished||xt.finalCalled||(typeof Yt._final!="function"||xt.destroyed?(xt.prefinished=!0,Yt.emit("prefinish")):(xt.pendingcb++,xt.finalCalled=!0,j.nextTick(Zt,Yt,xt)))}function Xt(Yt,xt){var qt=Wt(xt);if(qt&&(Qt(Yt,xt),xt.pendingcb===0&&(xt.finished=!0,Yt.emit("finish"),xt.autoDestroy))){var Rt=Yt._readableState;(!Rt||Rt.autoDestroy&&Rt.endEmitted)&&Yt.destroy()}return qt}function er(Yt,xt,qt){xt.ending=!0,Xt(Yt,xt),qt&&(xt.finished?j.nextTick(qt):Yt.once("finish",qt)),xt.ended=!0,Yt.writable=!1}function ir(Yt,xt,qt){var Rt=Yt.entry;for(Yt.entry=null;Rt;){var Nt=Rt.callback;xt.pendingcb--,Nt(qt),Rt=Rt.next}xt.corkedRequestsFree.next=Yt}d("inherits")(Tt,it),bt.prototype.getBuffer=function(){for(var Yt=this.bufferedRequest,xt=[];Yt;)xt.push(Yt),Yt=Yt.next;return xt},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:nt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(Yt){return!!ut.call(this,Yt)||this===Tt&&Yt&&Yt._writableState instanceof bt}})):ut=function(Yt){return Yt instanceof this},Tt.prototype.pipe=function(){wt(this,new gt)},Tt.prototype.write=function(Yt,xt,qt){var Rt=this._writableState,Nt=!1,Bt=!Rt.objectMode&&lt(Yt);return Bt&&!at.isBuffer(Yt)&&(Yt=ot(Yt)),typeof xt=="function"&&(qt=xt,xt=null),Bt?xt="buffer":xt||(xt=Rt.defaultEncoding),typeof qt!="function"&&(qt=kt),Rt.ending?Dt(this,qt):(Bt||$t(this,Rt,Yt,qt))&&(Rt.pendingcb++,Nt=Pt(this,Rt,Bt,Yt,xt,qt)),Nt},Tt.prototype.cork=function(){this._writableState.corked++},Tt.prototype.uncork=function(){var Yt=this._writableState;Yt.corked&&(Yt.corked--,Yt.writing||Yt.corked||Yt.bufferProcessing||!Yt.bufferedRequest||Vt(this,Yt))},Tt.prototype.setDefaultEncoding=function(Yt){if(typeof Yt=="string"&&(Yt=Yt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Yt+"").toLowerCase())>-1))throw new St(Yt);return this._writableState.defaultEncoding=Yt,this},Object.defineProperty(Tt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Tt.prototype._write=function(Yt,xt,qt){qt(new ht("_write()"))},Tt.prototype._writev=null,Tt.prototype.end=function(Yt,xt,qt){var Rt=this._writableState;return typeof Yt=="function"?(qt=Yt,Yt=null,xt=null):typeof xt=="function"&&(qt=xt,xt=null),Yt!=null&&this.write(Yt,xt),Rt.corked&&(Rt.corked=1,this.uncork()),Rt.ending||er(this,Rt,qt),this},Object.defineProperty(Tt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Tt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Yt){this._writableState&&(this._writableState.destroyed=Yt)}}),Tt.prototype.destroy=ct.destroy,Tt.prototype._undestroy=ct.undestroy,Tt.prototype._destroy=function(Yt,xt){xt(Yt)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,g,$){(function(j){(function(){var tt;function et(_t,Et,yt){return Et in _t?Object.defineProperty(_t,Et,{value:yt,enumerable:!0,configurable:!0,writable:!0}):_t[Et]=yt,_t}var rt=d("./end-of-stream"),nt=Symbol("lastResolve"),it=Symbol("lastReject"),at=Symbol("error"),st=Symbol("ended"),ot=Symbol("lastPromise"),lt=Symbol("handlePromise"),ut=Symbol("stream");function ct(_t,Et){return{value:_t,done:Et}}function ft(_t){var Et=_t[nt];if(Et!==null){var yt=_t[ut].read();yt!==null&&(_t[ot]=null,_t[nt]=null,_t[it]=null,Et(ct(yt,!1)))}}function mt(_t){j.nextTick(ft,_t)}function dt(_t,Et){return function(yt,St){_t.then(function(){Et[st]?yt(ct(void 0,!0)):Et[lt](yt,St)},St)}}var ht=Object.getPrototypeOf(function(){}),pt=Object.setPrototypeOf((tt={get stream(){return this[ut]},next:function(){var _t=this,Et=this[at];if(Et!==null)return Promise.reject(Et);if(this[st])return Promise.resolve(ct(void 0,!0));if(this[ut].destroyed)return new Promise(function(kt,bt){j.nextTick(function(){_t[at]?bt(_t[at]):kt(ct(void 0,!0))})});var yt,St=this[ot];if(St)yt=new Promise(dt(St,this));else{var wt=this[ut].read();if(wt!==null)return Promise.resolve(ct(wt,!1));yt=new Promise(this[lt])}return this[ot]=yt,yt}},et(tt,Symbol.asyncIterator,function(){return this}),et(tt,"return",function(){var _t=this;return new Promise(function(Et,yt){_t[ut].destroy(null,function(St){St?yt(St):Et(ct(void 0,!0))})})}),tt),ht),gt=function(_t){var Et,yt=Object.create(pt,(et(Et={},ut,{value:_t,writable:!0}),et(Et,nt,{value:null,writable:!0}),et(Et,it,{value:null,writable:!0}),et(Et,at,{value:null,writable:!0}),et(Et,st,{value:_t._readableState.endEmitted,writable:!0}),et(Et,lt,{value:function(St,wt){var kt=yt[ut].read();kt?(yt[ot]=null,yt[nt]=null,yt[it]=null,St(ct(kt,!1))):(yt[nt]=St,yt[it]=wt)},writable:!0}),Et));return yt[ot]=null,rt(_t,function(St){if(St&&St.code!=="ERR_STREAM_PREMATURE_CLOSE"){var wt=yt[it];return wt!==null&&(yt[ot]=null,yt[nt]=null,yt[it]=null,wt(St)),void(yt[at]=St)}var kt=yt[nt];kt!==null&&(yt[ot]=null,yt[nt]=null,yt[it]=null,kt(ct(void 0,!0))),yt[st]=!0}),_t.on("readable",mt.bind(null,yt)),yt};g.exports=gt}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,g,$){function j(ut,ct){var ft=Object.keys(ut);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(ut);ct&&(mt=mt.filter(function(dt){return Object.getOwnPropertyDescriptor(ut,dt).enumerable})),ft.push.apply(ft,mt)}return ft}function tt(ut){for(var ct=1;ct<arguments.length;ct++){var ft=arguments[ct]!=null?arguments[ct]:{};ct%2?j(Object(ft),!0).forEach(function(mt){et(ut,mt,ft[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(ft)):j(Object(ft)).forEach(function(mt){Object.defineProperty(ut,mt,Object.getOwnPropertyDescriptor(ft,mt))})}return ut}function et(ut,ct,ft){return ct in ut?Object.defineProperty(ut,ct,{value:ft,enumerable:!0,configurable:!0,writable:!0}):ut[ct]=ft,ut}function rt(ut,ct){if(!(ut instanceof ct))throw new TypeError("Cannot call a class as a function")}function nt(ut,ct){for(var ft=0;ft<ct.length;ft++){var mt=ct[ft];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(ut,mt.key,mt)}}function it(ut,ct,ft){return ct&&nt(ut.prototype,ct),ut}var at=d("buffer").Buffer,st=d("util").inspect,ot=st&&st.custom||"inspect";function lt(ut,ct,ft){at.prototype.copy.call(ut,ct,ft)}g.exports=function(){function ut(){rt(this,ut),this.head=null,this.tail=null,this.length=0}return it(ut,[{key:"push",value:function(ct){var ft={data:ct,next:null};this.length>0?this.tail.next=ft:this.head=ft,this.tail=ft,++this.length}},{key:"unshift",value:function(ct){var ft={data:ct,next:this.head};this.length===0&&(this.tail=ft),this.head=ft,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ct=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ct}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ct){if(this.length===0)return"";for(var ft=this.head,mt=""+ft.data;ft=ft.next;)mt+=ct+ft.data;return mt}},{key:"concat",value:function(ct){if(this.length===0)return at.alloc(0);for(var ft=at.allocUnsafe(ct>>>0),mt=this.head,dt=0;mt;)lt(mt.data,ft,dt),dt+=mt.data.length,mt=mt.next;return ft}},{key:"consume",value:function(ct,ft){var mt;return ct<this.head.data.length?(mt=this.head.data.slice(0,ct),this.head.data=this.head.data.slice(ct)):mt=ct===this.head.data.length?this.shift():ft?this._getString(ct):this._getBuffer(ct),mt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ct){var ft=this.head,mt=1,dt=ft.data;for(ct-=dt.length;ft=ft.next;){var ht=ft.data,pt=ct>ht.length?ht.length:ct;if(pt===ht.length?dt+=ht:dt+=ht.slice(0,ct),(ct-=pt)==0){pt===ht.length?(++mt,ft.next?this.head=ft.next:this.head=this.tail=null):(this.head=ft,ft.data=ht.slice(pt));break}++mt}return this.length-=mt,dt}},{key:"_getBuffer",value:function(ct){var ft=at.allocUnsafe(ct),mt=this.head,dt=1;for(mt.data.copy(ft),ct-=mt.data.length;mt=mt.next;){var ht=mt.data,pt=ct>ht.length?ht.length:ct;if(ht.copy(ft,ft.length-ct,0,pt),(ct-=pt)==0){pt===ht.length?(++dt,mt.next?this.head=mt.next:this.head=this.tail=null):(this.head=mt,mt.data=ht.slice(pt));break}++dt}return this.length-=dt,ft}},{key:ot,value:function(ct,ft){return st(this,tt({},ft,{depth:0,customInspect:!1}))}}]),ut}()},{buffer:32,util:29}],74:[function(d,g,$){(function(j){(function(){function tt(st,ot){var lt=this,ut=this._readableState&&this._readableState.destroyed,ct=this._writableState&&this._writableState.destroyed;return ut||ct?(ot?ot(st):st&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,j.nextTick(it,this,st)):j.nextTick(it,this,st)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(st||null,function(ft){!ot&&ft?lt._writableState?lt._writableState.errorEmitted?j.nextTick(rt,lt):(lt._writableState.errorEmitted=!0,j.nextTick(et,lt,ft)):j.nextTick(et,lt,ft):ot?(j.nextTick(rt,lt),ot(ft)):j.nextTick(rt,lt)}),this)}function et(st,ot){it(st,ot),rt(st)}function rt(st){st._writableState&&!st._writableState.emitClose||st._readableState&&!st._readableState.emitClose||st.emit("close")}function nt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function it(st,ot){st.emit("error",ot)}function at(st,ot){var lt=st._readableState,ut=st._writableState;lt&&lt.autoDestroy||ut&&ut.autoDestroy?st.destroy(ot):st.emit("error",ot)}g.exports={destroy:tt,undestroy:nt,errorOrDestroy:at}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,g,$){var j=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function tt(it){var at=!1;return function(){if(!at){at=!0;for(var st=arguments.length,ot=new Array(st),lt=0;lt<st;lt++)ot[lt]=arguments[lt];it.apply(this,ot)}}}function et(){}function rt(it){return it.setHeader&&typeof it.abort=="function"}function nt(it,at,st){if(typeof at=="function")return nt(it,null,at);at||(at={}),st=tt(st||et);var ot=at.readable||at.readable!==!1&&it.readable,lt=at.writable||at.writable!==!1&&it.writable,ut=function(){it.writable||ft()},ct=it._writableState&&it._writableState.finished,ft=function(){lt=!1,ct=!0,ot||st.call(it)},mt=it._readableState&&it._readableState.endEmitted,dt=function(){ot=!1,mt=!0,lt||st.call(it)},ht=function(_t){st.call(it,_t)},pt=function(){var _t;return ot&&!mt?(it._readableState&&it._readableState.ended||(_t=new j),st.call(it,_t)):lt&&!ct?(it._writableState&&it._writableState.ended||(_t=new j),st.call(it,_t)):void 0},gt=function(){it.req.on("finish",ft)};return rt(it)?(it.on("complete",ft),it.on("abort",pt),it.req?gt():it.on("request",gt)):lt&&!it._writableState&&(it.on("end",ut),it.on("close",ut)),it.on("end",dt),it.on("finish",ft),at.error!==!1&&it.on("error",ht),it.on("close",pt),function(){it.removeListener("complete",ft),it.removeListener("abort",pt),it.removeListener("request",gt),it.req&&it.req.removeListener("finish",ft),it.removeListener("end",ut),it.removeListener("close",ut),it.removeListener("finish",ft),it.removeListener("end",dt),it.removeListener("error",ht),it.removeListener("close",pt)}}g.exports=nt},{"../../../errors":66}],76:[function(d,g,$){g.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,g,$){var j;function tt(ft){var mt=!1;return function(){mt||(mt=!0,ft.apply(void 0,arguments))}}var et=d("../../../errors").codes,rt=et.ERR_MISSING_ARGS,nt=et.ERR_STREAM_DESTROYED;function it(ft){if(ft)throw ft}function at(ft){return ft.setHeader&&typeof ft.abort=="function"}function st(ft,mt,dt,ht){ht=tt(ht);var pt=!1;ft.on("close",function(){pt=!0}),j===void 0&&(j=d("./end-of-stream")),j(ft,{readable:mt,writable:dt},function(_t){if(_t)return ht(_t);pt=!0,ht()});var gt=!1;return function(_t){if(!pt&&!gt)return gt=!0,at(ft)?ft.abort():typeof ft.destroy=="function"?ft.destroy():void ht(_t||new nt("pipe"))}}function ot(ft){ft()}function lt(ft,mt){return ft.pipe(mt)}function ut(ft){return ft.length?typeof ft[ft.length-1]!="function"?it:ft.pop():it}function ct(){for(var ft=arguments.length,mt=new Array(ft),dt=0;dt<ft;dt++)mt[dt]=arguments[dt];var ht,pt=ut(mt);if(Array.isArray(mt[0])&&(mt=mt[0]),mt.length<2)throw new rt("streams");var gt=mt.map(function(_t,Et){var yt=Et<mt.length-1;return st(_t,yt,Et>0,function(St){ht||(ht=St),St&&gt.forEach(ot),yt||(gt.forEach(ot),pt(ht))})});return mt.reduce(lt)}g.exports=ct},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,g,$){var j=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function tt(rt,nt,it){return rt.highWaterMark!=null?rt.highWaterMark:nt?rt[it]:null}function et(rt,nt,it,at){var st=tt(nt,at,it);if(st!=null){if(!isFinite(st)||Math.floor(st)!==st||st<0)throw new j(at?it:"highWaterMark",st);return Math.floor(st)}return rt.objectMode?16:16384}g.exports={getHighWaterMark:et}},{"../../../errors":66}],79:[function(d,g,$){g.exports=d("events").EventEmitter},{events:35}],80:[function(d,g,$){var j=d("safe-buffer").Buffer,tt=j.isEncoding||function(gt){switch((gt=""+gt)&&gt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function et(gt){if(!gt)return"utf8";for(var _t;;)switch(gt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return gt;default:if(_t)return;gt=(""+gt).toLowerCase(),_t=!0}}function rt(gt){var _t=et(gt);if(typeof _t!="string"&&(j.isEncoding===tt||!tt(gt)))throw new Error("Unknown encoding: "+gt);return _t||gt}function nt(gt){var _t;switch(this.encoding=rt(gt),this.encoding){case"utf16le":this.text=ct,this.end=ft,_t=4;break;case"utf8":this.fillLast=ot,_t=4;break;case"base64":this.text=mt,this.end=dt,_t=3;break;default:return this.write=ht,void(this.end=pt)}this.lastNeed=0,this.lastTotal=0,this.lastChar=j.allocUnsafe(_t)}function it(gt){return gt<=127?0:gt>>5==6?2:gt>>4==14?3:gt>>3==30?4:gt>>6==2?-1:-2}function at(gt,_t,Et){var yt=_t.length-1;if(yt<Et)return 0;var St=it(_t[yt]);return St>=0?(St>0&&(gt.lastNeed=St-1),St):--yt<Et||St===-2?0:(St=it(_t[yt]))>=0?(St>0&&(gt.lastNeed=St-2),St):--yt<Et||St===-2?0:(St=it(_t[yt]))>=0?(St>0&&(St===2?St=0:gt.lastNeed=St-3),St):0}function st(gt,_t,Et){if((192&_t[0])!=128)return gt.lastNeed=0,"�";if(gt.lastNeed>1&&_t.length>1){if((192&_t[1])!=128)return gt.lastNeed=1,"�";if(gt.lastNeed>2&&_t.length>2&&(192&_t[2])!=128)return gt.lastNeed=2,"�"}}function ot(gt){var _t=this.lastTotal-this.lastNeed,Et=st(this,gt);return Et!==void 0?Et:this.lastNeed<=gt.length?(gt.copy(this.lastChar,_t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(gt.copy(this.lastChar,_t,0,gt.length),void(this.lastNeed-=gt.length))}function lt(gt,_t){var Et=at(this,gt,_t);if(!this.lastNeed)return gt.toString("utf8",_t);this.lastTotal=Et;var yt=gt.length-(Et-this.lastNeed);return gt.copy(this.lastChar,0,yt),gt.toString("utf8",_t,yt)}function ut(gt){var _t=gt&&gt.length?this.write(gt):"";return this.lastNeed?_t+"�":_t}function ct(gt,_t){if((gt.length-_t)%2==0){var Et=gt.toString("utf16le",_t);if(Et){var yt=Et.charCodeAt(Et.length-1);if(yt>=55296&&yt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=gt[gt.length-2],this.lastChar[1]=gt[gt.length-1],Et.slice(0,-1)}return Et}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=gt[gt.length-1],gt.toString("utf16le",_t,gt.length-1)}function ft(gt){var _t=gt&&gt.length?this.write(gt):"";if(this.lastNeed){var Et=this.lastTotal-this.lastNeed;return _t+this.lastChar.toString("utf16le",0,Et)}return _t}function mt(gt,_t){var Et=(gt.length-_t)%3;return Et===0?gt.toString("base64",_t):(this.lastNeed=3-Et,this.lastTotal=3,Et===1?this.lastChar[0]=gt[gt.length-1]:(this.lastChar[0]=gt[gt.length-2],this.lastChar[1]=gt[gt.length-1]),gt.toString("base64",_t,gt.length-Et))}function dt(gt){var _t=gt&&gt.length?this.write(gt):"";return this.lastNeed?_t+this.lastChar.toString("base64",0,3-this.lastNeed):_t}function ht(gt){return gt.toString(this.encoding)}function pt(gt){return gt&&gt.length?this.write(gt):""}$.StringDecoder=nt,nt.prototype.write=function(gt){if(gt.length===0)return"";var _t,Et;if(this.lastNeed){if((_t=this.fillLast(gt))===void 0)return"";Et=this.lastNeed,this.lastNeed=0}else Et=0;return Et<gt.length?_t?_t+this.text(gt,Et):this.text(gt,Et):_t||""},nt.prototype.end=ut,nt.prototype.text=lt,nt.prototype.fillLast=function(gt){if(this.lastNeed<=gt.length)return gt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);gt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,gt.length),this.lastNeed-=gt.length}},{"safe-buffer":64}],81:[function(d,g,$){(function(j){(function(){function tt(rt,nt){if(et("noDeprecation"))return rt;var it=!1;function at(){if(!it){if(et("throwDeprecation"))throw new Error(nt);et("traceDeprecation")?console.trace(nt):console.warn(nt),it=!0}return rt.apply(this,arguments)}return at}function et(rt){try{if(!j.localStorage)return!1}catch{return!1}var nt=j.localStorage[rt];return nt!=null&&String(nt).toLowerCase()==="true"}g.exports=tt}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,g,$){arguments[4][25][0].apply($,arguments)},{dup:25}],83:[function(d,g,$){var j=d("is-arguments"),tt=d("is-generator-function"),et=d("which-typed-array"),rt=d("is-typed-array");function nt(Ft){return Ft.call.bind(Ft)}var it=typeof BigInt<"u",at=typeof Symbol<"u",st=nt(Object.prototype.toString),ot=nt(Number.prototype.valueOf),lt=nt(String.prototype.valueOf),ut=nt(Boolean.prototype.valueOf);if(it)var ct=nt(BigInt.prototype.valueOf);if(at)var ft=nt(Symbol.prototype.valueOf);function mt(Ft,rr){if(typeof Ft!="object")return!1;try{return rr(Ft),!0}catch{return!1}}function dt(Ft){return typeof Promise<"u"&&Ft instanceof Promise||Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"&&typeof Ft.catch=="function"}function ht(Ft){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ft):rt(Ft)||Zt(Ft)}function pt(Ft){return et(Ft)==="Uint8Array"}function gt(Ft){return et(Ft)==="Uint8ClampedArray"}function _t(Ft){return et(Ft)==="Uint16Array"}function Et(Ft){return et(Ft)==="Uint32Array"}function yt(Ft){return et(Ft)==="Int8Array"}function St(Ft){return et(Ft)==="Int16Array"}function wt(Ft){return et(Ft)==="Int32Array"}function kt(Ft){return et(Ft)==="Float32Array"}function bt(Ft){return et(Ft)==="Float64Array"}function Tt(Ft){return et(Ft)==="BigInt64Array"}function Dt(Ft){return et(Ft)==="BigUint64Array"}function $t(Ft){return st(Ft)==="[object Map]"}function At(Ft){return typeof Map<"u"&&($t.working?$t(Ft):Ft instanceof Map)}function Pt(Ft){return st(Ft)==="[object Set]"}function Kt(Ft){return typeof Set<"u"&&(Pt.working?Pt(Ft):Ft instanceof Set)}function Ut(Ft){return st(Ft)==="[object WeakMap]"}function It(Ft){return typeof WeakMap<"u"&&(Ut.working?Ut(Ft):Ft instanceof WeakMap)}function jt(Ft){return st(Ft)==="[object WeakSet]"}function zt(Ft){return jt(Ft)}function Ht(Ft){return st(Ft)==="[object ArrayBuffer]"}function Vt(Ft){return typeof ArrayBuffer<"u"&&(Ht.working?Ht(Ft):Ft instanceof ArrayBuffer)}function Wt(Ft){return st(Ft)==="[object DataView]"}function Zt(Ft){return typeof DataView<"u"&&(Wt.working?Wt(Ft):Ft instanceof DataView)}$.isArgumentsObject=j,$.isGeneratorFunction=tt,$.isTypedArray=rt,$.isPromise=dt,$.isArrayBufferView=ht,$.isUint8Array=pt,$.isUint8ClampedArray=gt,$.isUint16Array=_t,$.isUint32Array=Et,$.isInt8Array=yt,$.isInt16Array=St,$.isInt32Array=wt,$.isFloat32Array=kt,$.isFloat64Array=bt,$.isBigInt64Array=Tt,$.isBigUint64Array=Dt,$t.working=typeof Map<"u"&&$t(new Map),$.isMap=At,Pt.working=typeof Set<"u"&&Pt(new Set),$.isSet=Kt,Ut.working=typeof WeakMap<"u"&&Ut(new WeakMap),$.isWeakMap=It,jt.working=typeof WeakSet<"u"&&jt(new WeakSet),$.isWeakSet=zt,Ht.working=typeof ArrayBuffer<"u"&&Ht(new ArrayBuffer),$.isArrayBuffer=Vt,Wt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Wt(new DataView(new ArrayBuffer(1),0,1)),$.isDataView=Zt;var Qt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Xt(Ft){return st(Ft)==="[object SharedArrayBuffer]"}function er(Ft){return Qt!==void 0&&(Xt.working===void 0&&(Xt.working=Xt(new Qt)),Xt.working?Xt(Ft):Ft instanceof Qt)}function ir(Ft){return st(Ft)==="[object AsyncFunction]"}function Yt(Ft){return st(Ft)==="[object Map Iterator]"}function xt(Ft){return st(Ft)==="[object Set Iterator]"}function qt(Ft){return st(Ft)==="[object Generator]"}function Rt(Ft){return st(Ft)==="[object WebAssembly.Module]"}function Nt(Ft){return mt(Ft,ot)}function Bt(Ft){return mt(Ft,lt)}function Lt(Ft){return mt(Ft,ut)}function Jt(Ft){return it&&mt(Ft,ct)}function vt(Ft){return at&&mt(Ft,ft)}function Mt(Ft){return Nt(Ft)||Bt(Ft)||Lt(Ft)||Jt(Ft)||vt(Ft)}function Ot(Ft){return typeof Uint8Array<"u"&&(Vt(Ft)||er(Ft))}$.isSharedArrayBuffer=er,$.isAsyncFunction=ir,$.isMapIterator=Yt,$.isSetIterator=xt,$.isGeneratorObject=qt,$.isWebAssemblyCompiledModule=Rt,$.isNumberObject=Nt,$.isStringObject=Bt,$.isBooleanObject=Lt,$.isBigIntObject=Jt,$.isSymbolObject=vt,$.isBoxedPrimitive=Mt,$.isAnyArrayBuffer=Ot,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ft){Object.defineProperty($,Ft,{enumerable:!1,value:function(){throw new Error(Ft+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,g,$){(function(j){(function(){var tt=Object.getOwnPropertyDescriptors||function(Zt){for(var Qt=Object.keys(Zt),Xt={},er=0;er<Qt.length;er++)Xt[Qt[er]]=Object.getOwnPropertyDescriptor(Zt,Qt[er]);return Xt},et=/%[sdj%]/g;$.format=function(Zt){if(!St(Zt)){for(var Qt=[],Xt=0;Xt<arguments.length;Xt++)Qt.push(at(arguments[Xt]));return Qt.join(" ")}Xt=1;for(var er=arguments,ir=er.length,Yt=String(Zt).replace(et,function(qt){if(qt==="%%")return"%";if(Xt>=ir)return qt;switch(qt){case"%s":return String(er[Xt++]);case"%d":return Number(er[Xt++]);case"%j":try{return JSON.stringify(er[Xt++])}catch{return"[Circular]"}default:return qt}}),xt=er[Xt];Xt<ir;xt=er[++Xt])_t(xt)||!Tt(xt)?Yt+=" "+xt:Yt+=" "+at(xt);return Yt},$.deprecate=function(Zt,Qt){if(j!==void 0&&j.noDeprecation===!0)return Zt;if(j===void 0)return function(){return $.deprecate(Zt,Qt).apply(this,arguments)};var Xt=!1;function er(){if(!Xt){if(j.throwDeprecation)throw new Error(Qt);j.traceDeprecation?console.trace(Qt):console.error(Qt),Xt=!0}return Zt.apply(this,arguments)}return er};var rt={},nt=/^$/;if(j.env.NODE_DEBUG){var it=j.env.NODE_DEBUG;it=it.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),nt=new RegExp("^"+it+"$","i")}function at(Zt,Qt){var Xt={seen:[],stylize:ot};return arguments.length>=3&&(Xt.depth=arguments[2]),arguments.length>=4&&(Xt.colors=arguments[3]),gt(Qt)?Xt.showHidden=Qt:Qt&&$._extend(Xt,Qt),kt(Xt.showHidden)&&(Xt.showHidden=!1),kt(Xt.depth)&&(Xt.depth=2),kt(Xt.colors)&&(Xt.colors=!1),kt(Xt.customInspect)&&(Xt.customInspect=!0),Xt.colors&&(Xt.stylize=st),ut(Xt,Zt,Xt.depth)}function st(Zt,Qt){var Xt=at.styles[Qt];return Xt?"\x1B["+at.colors[Xt][0]+"m"+Zt+"\x1B["+at.colors[Xt][1]+"m":Zt}function ot(Zt,Qt){return Zt}function lt(Zt){var Qt={};return Zt.forEach(function(Xt,er){Qt[Xt]=!0}),Qt}function ut(Zt,Qt,Xt){if(Zt.customInspect&&Qt&&At(Qt.inspect)&&Qt.inspect!==$.inspect&&(!Qt.constructor||Qt.constructor.prototype!==Qt)){var er=Qt.inspect(Xt,Zt);return St(er)||(er=ut(Zt,er,Xt)),er}var ir=ct(Zt,Qt);if(ir)return ir;var Yt=Object.keys(Qt),xt=lt(Yt);if(Zt.showHidden&&(Yt=Object.getOwnPropertyNames(Qt)),$t(Qt)&&(Yt.indexOf("message")>=0||Yt.indexOf("description")>=0))return ft(Qt);if(Yt.length===0){if(At(Qt)){var qt=Qt.name?": "+Qt.name:"";return Zt.stylize("[Function"+qt+"]","special")}if(bt(Qt))return Zt.stylize(RegExp.prototype.toString.call(Qt),"regexp");if(Dt(Qt))return Zt.stylize(Date.prototype.toString.call(Qt),"date");if($t(Qt))return ft(Qt)}var Rt,Nt="",Bt=!1,Lt=["{","}"];return pt(Qt)&&(Bt=!0,Lt=["[","]"]),At(Qt)&&(Nt=" [Function"+(Qt.name?": "+Qt.name:"")+"]"),bt(Qt)&&(Nt=" "+RegExp.prototype.toString.call(Qt)),Dt(Qt)&&(Nt=" "+Date.prototype.toUTCString.call(Qt)),$t(Qt)&&(Nt=" "+ft(Qt)),Yt.length!==0||Bt&&Qt.length!=0?Xt<0?bt(Qt)?Zt.stylize(RegExp.prototype.toString.call(Qt),"regexp"):Zt.stylize("[Object]","special"):(Zt.seen.push(Qt),Rt=Bt?mt(Zt,Qt,Xt,xt,Yt):Yt.map(function(Jt){return dt(Zt,Qt,Xt,xt,Jt,Bt)}),Zt.seen.pop(),ht(Rt,Nt,Lt)):Lt[0]+Nt+Lt[1]}function ct(Zt,Qt){if(kt(Qt))return Zt.stylize("undefined","undefined");if(St(Qt)){var Xt="'"+JSON.stringify(Qt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Zt.stylize(Xt,"string")}return yt(Qt)?Zt.stylize(""+Qt,"number"):gt(Qt)?Zt.stylize(""+Qt,"boolean"):_t(Qt)?Zt.stylize("null","null"):void 0}function ft(Zt){return"["+Error.prototype.toString.call(Zt)+"]"}function mt(Zt,Qt,Xt,er,ir){for(var Yt=[],xt=0,qt=Qt.length;xt<qt;++xt)zt(Qt,String(xt))?Yt.push(dt(Zt,Qt,Xt,er,String(xt),!0)):Yt.push("");return ir.forEach(function(Rt){Rt.match(/^\d+$/)||Yt.push(dt(Zt,Qt,Xt,er,Rt,!0))}),Yt}function dt(Zt,Qt,Xt,er,ir,Yt){var xt,qt,Rt;if((Rt=Object.getOwnPropertyDescriptor(Qt,ir)||{value:Qt[ir]}).get?qt=Rt.set?Zt.stylize("[Getter/Setter]","special"):Zt.stylize("[Getter]","special"):Rt.set&&(qt=Zt.stylize("[Setter]","special")),zt(er,ir)||(xt="["+ir+"]"),qt||(Zt.seen.indexOf(Rt.value)<0?(qt=_t(Xt)?ut(Zt,Rt.value,null):ut(Zt,Rt.value,Xt-1)).indexOf(`
`)>-1&&(qt=Yt?qt.split(`
`).map(function(Nt){return"  "+Nt}).join(`
`).slice(2):`
`+qt.split(`
`).map(function(Nt){return"   "+Nt}).join(`
`)):qt=Zt.stylize("[Circular]","special")),kt(xt)){if(Yt&&ir.match(/^\d+$/))return qt;(xt=JSON.stringify(""+ir)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(xt=xt.slice(1,-1),xt=Zt.stylize(xt,"name")):(xt=xt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),xt=Zt.stylize(xt,"string"))}return xt+": "+qt}function ht(Zt,Qt,Xt){return Zt.reduce(function(er,ir){return ir.indexOf(`
`),er+ir.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Xt[0]+(Qt===""?"":Qt+`
 `)+" "+Zt.join(`,
  `)+" "+Xt[1]:Xt[0]+Qt+" "+Zt.join(", ")+" "+Xt[1]}function pt(Zt){return Array.isArray(Zt)}function gt(Zt){return typeof Zt=="boolean"}function _t(Zt){return Zt===null}function Et(Zt){return Zt==null}function yt(Zt){return typeof Zt=="number"}function St(Zt){return typeof Zt=="string"}function wt(Zt){return typeof Zt=="symbol"}function kt(Zt){return Zt===void 0}function bt(Zt){return Tt(Zt)&&Kt(Zt)==="[object RegExp]"}function Tt(Zt){return typeof Zt=="object"&&Zt!==null}function Dt(Zt){return Tt(Zt)&&Kt(Zt)==="[object Date]"}function $t(Zt){return Tt(Zt)&&(Kt(Zt)==="[object Error]"||Zt instanceof Error)}function At(Zt){return typeof Zt=="function"}function Pt(Zt){return Zt===null||typeof Zt=="boolean"||typeof Zt=="number"||typeof Zt=="string"||typeof Zt=="symbol"||Zt===void 0}function Kt(Zt){return Object.prototype.toString.call(Zt)}function Ut(Zt){return Zt<10?"0"+Zt.toString(10):Zt.toString(10)}$.debuglog=function(Zt){if(Zt=Zt.toUpperCase(),!rt[Zt])if(nt.test(Zt)){var Qt=j.pid;rt[Zt]=function(){var Xt=$.format.apply($,arguments);console.error("%s %d: %s",Zt,Qt,Xt)}}else rt[Zt]=function(){};return rt[Zt]},$.inspect=at,at.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},at.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},$.types=d("./support/types"),$.isArray=pt,$.isBoolean=gt,$.isNull=_t,$.isNullOrUndefined=Et,$.isNumber=yt,$.isString=St,$.isSymbol=wt,$.isUndefined=kt,$.isRegExp=bt,$.types.isRegExp=bt,$.isObject=Tt,$.isDate=Dt,$.types.isDate=Dt,$.isError=$t,$.types.isNativeError=$t,$.isFunction=At,$.isPrimitive=Pt,$.isBuffer=d("./support/isBuffer");var It=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function jt(){var Zt=new Date,Qt=[Ut(Zt.getHours()),Ut(Zt.getMinutes()),Ut(Zt.getSeconds())].join(":");return[Zt.getDate(),It[Zt.getMonth()],Qt].join(" ")}function zt(Zt,Qt){return Object.prototype.hasOwnProperty.call(Zt,Qt)}$.log=function(){console.log("%s - %s",jt(),$.format.apply($,arguments))},$.inherits=d("inherits"),$._extend=function(Zt,Qt){if(!Qt||!Tt(Qt))return Zt;for(var Xt=Object.keys(Qt),er=Xt.length;er--;)Zt[Xt[er]]=Qt[Xt[er]];return Zt};var Ht=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Vt(Zt,Qt){if(!Zt){var Xt=new Error("Promise was rejected with a falsy value");Xt.reason=Zt,Zt=Xt}return Qt(Zt)}function Wt(Zt){if(typeof Zt!="function")throw new TypeError('The "original" argument must be of type Function');function Qt(){for(var Xt=[],er=0;er<arguments.length;er++)Xt.push(arguments[er]);var ir=Xt.pop();if(typeof ir!="function")throw new TypeError("The last argument must be of type Function");var Yt=this,xt=function(){return ir.apply(Yt,arguments)};Zt.apply(this,Xt).then(function(qt){j.nextTick(xt.bind(null,null,qt))},function(qt){j.nextTick(Vt.bind(null,qt,xt))})}return Object.setPrototypeOf(Qt,Object.getPrototypeOf(Zt)),Object.defineProperties(Qt,tt(Zt)),Qt}$.promisify=function(Zt){if(typeof Zt!="function")throw new TypeError('The "original" argument must be of type Function');if(Ht&&Zt[Ht]){var Qt;if(typeof(Qt=Zt[Ht])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Qt,Ht,{value:Qt,enumerable:!1,writable:!1,configurable:!0}),Qt}function Qt(){for(var Xt,er,ir=new Promise(function(qt,Rt){Xt=qt,er=Rt}),Yt=[],xt=0;xt<arguments.length;xt++)Yt.push(arguments[xt]);Yt.push(function(qt,Rt){qt?er(qt):Xt(Rt)});try{Zt.apply(this,Yt)}catch(qt){er(qt)}return ir}return Object.setPrototypeOf(Qt,Object.getPrototypeOf(Zt)),Ht&&Object.defineProperty(Qt,Ht,{value:Qt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Qt,tt(Zt))},$.promisify.custom=Ht,$.callbackify=Wt}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,g,$){(function(j){(function(){var tt=d("for-each"),et=d("available-typed-arrays"),rt=d("call-bind/callBound"),nt=d("gopd"),it=rt("Object.prototype.toString"),at=d("has-tostringtag/shams")(),st=typeof globalThis>"u"?j:globalThis,ot=et(),lt=rt("String.prototype.slice"),ut={},ct=Object.getPrototypeOf;at&&nt&&ct&&tt(ot,function(dt){if(typeof st[dt]=="function"){var ht=new st[dt];if(Symbol.toStringTag in ht){var pt=ct(ht),gt=nt(pt,Symbol.toStringTag);if(!gt){var _t=ct(pt);gt=nt(_t,Symbol.toStringTag)}ut[dt]=gt.get}}});var ft=function(dt){var ht=!1;return tt(ut,function(pt,gt){if(!ht)try{var _t=pt.call(dt);_t===gt&&(ht=_t)}catch{}}),ht},mt=d("is-typed-array");g.exports=function(dt){return!!mt(dt)&&(at&&Symbol.toStringTag in dt?ft(dt):lt(it(dt),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:g=9,deflateStrategy:$=3,filterType:j=PNGFilterType.AUTO,colorType:tt,inputHasAlpha:et=!0,...rt}={})=>{const nt=new browserExports.PNG({width:d.width,height:d.height});return nt.data=d.data,browserExports.PNG.sync.write(nt,{...rt,deflateLevel:g,deflateStrategy:$,filterType:j,colorType:tt!==void 0?tt:et?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:et})},decode:(d,g)=>{const $=browserExports.PNG.sync.read(d,g);return{data:$.data,width:$.width,height:$.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(d){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function $(et,rt){return Object.prototype.hasOwnProperty.call(et,rt)}d.assign=function(et){for(var rt=Array.prototype.slice.call(arguments,1);rt.length;){var nt=rt.shift();if(nt){if(typeof nt!="object")throw new TypeError(nt+"must be non-object");for(var it in nt)$(nt,it)&&(et[it]=nt[it])}}return et},d.shrinkBuf=function(et,rt){return et.length===rt?et:et.subarray?et.subarray(0,rt):(et.length=rt,et)};var j={arraySet:function(et,rt,nt,it,at){if(rt.subarray&&et.subarray)et.set(rt.subarray(nt,nt+it),at);else for(var st=0;st<it;st++)et[at+st]=rt[nt+st]},flattenChunks:function(et){var rt,nt,it,at,st,ot;for(it=0,rt=0,nt=et.length;rt<nt;rt++)it+=et[rt].length;for(ot=new Uint8Array(it),at=0,rt=0,nt=et.length;rt<nt;rt++)st=et[rt],ot.set(st,at),at+=st.length;return ot}},tt={arraySet:function(et,rt,nt,it,at){for(var st=0;st<it;st++)et[at+st]=rt[nt+st]},flattenChunks:function(et){return[].concat.apply([],et)}};d.setTyped=function(et){et?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,j)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,tt))},d.setTyped(g)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),g=0,$=1;function j(Rt){for(var Nt=Rt.length;--Nt>=0;)Rt[Nt]=0}var tt=0,et=29,rt=256,nt=rt+1+et,it=30,at=19,st=2*nt+1,ot=15,lt=16,ut=7,ct=256,ft=16,mt=17,dt=18,ht=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Et=new Array(2*(nt+2));j(Et);var yt=new Array(2*it);j(yt);var St=new Array(512);j(St);var wt=new Array(256);j(wt);var kt=new Array(et);j(kt);var bt,Tt,Dt,$t=new Array(it);function At(Rt,Nt,Bt,Lt,Jt){this.static_tree=Rt,this.extra_bits=Nt,this.extra_base=Bt,this.elems=Lt,this.max_length=Jt,this.has_stree=Rt&&Rt.length}function Pt(Rt,Nt){this.dyn_tree=Rt,this.max_code=0,this.stat_desc=Nt}function Kt(Rt){return Rt<256?St[Rt]:St[256+(Rt>>>7)]}function Ut(Rt,Nt){Rt.pending_buf[Rt.pending++]=255&Nt,Rt.pending_buf[Rt.pending++]=Nt>>>8&255}function It(Rt,Nt,Bt){Rt.bi_valid>lt-Bt?(Rt.bi_buf|=Nt<<Rt.bi_valid&65535,Ut(Rt,Rt.bi_buf),Rt.bi_buf=Nt>>lt-Rt.bi_valid,Rt.bi_valid+=Bt-lt):(Rt.bi_buf|=Nt<<Rt.bi_valid&65535,Rt.bi_valid+=Bt)}function jt(Rt,Nt,Bt){It(Rt,Bt[2*Nt],Bt[2*Nt+1])}function zt(Rt,Nt){var Bt=0;do Bt|=1&Rt,Rt>>>=1,Bt<<=1;while(--Nt>0);return Bt>>>1}function Ht(Rt,Nt,Bt){var Lt,Jt,vt=new Array(ot+1),Mt=0;for(Lt=1;Lt<=ot;Lt++)vt[Lt]=Mt=Mt+Bt[Lt-1]<<1;for(Jt=0;Jt<=Nt;Jt++){var Ot=Rt[2*Jt+1];Ot!==0&&(Rt[2*Jt]=zt(vt[Ot]++,Ot))}}function Vt(Rt){var Nt;for(Nt=0;Nt<nt;Nt++)Rt.dyn_ltree[2*Nt]=0;for(Nt=0;Nt<it;Nt++)Rt.dyn_dtree[2*Nt]=0;for(Nt=0;Nt<at;Nt++)Rt.bl_tree[2*Nt]=0;Rt.dyn_ltree[2*ct]=1,Rt.opt_len=Rt.static_len=0,Rt.last_lit=Rt.matches=0}function Wt(Rt){Rt.bi_valid>8?Ut(Rt,Rt.bi_buf):Rt.bi_valid>0&&(Rt.pending_buf[Rt.pending++]=Rt.bi_buf),Rt.bi_buf=0,Rt.bi_valid=0}function Zt(Rt,Nt,Bt,Lt){var Jt=2*Nt,vt=2*Bt;return Rt[Jt]<Rt[vt]||Rt[Jt]===Rt[vt]&&Lt[Nt]<=Lt[Bt]}function Qt(Rt,Nt,Bt){for(var Lt=Rt.heap[Bt],Jt=Bt<<1;Jt<=Rt.heap_len&&(Jt<Rt.heap_len&&Zt(Nt,Rt.heap[Jt+1],Rt.heap[Jt],Rt.depth)&&Jt++,!Zt(Nt,Lt,Rt.heap[Jt],Rt.depth));)Rt.heap[Bt]=Rt.heap[Jt],Bt=Jt,Jt<<=1;Rt.heap[Bt]=Lt}function Xt(Rt,Nt,Bt){var Lt,Jt,vt,Mt,Ot=0;if(Rt.last_lit!==0)do Lt=Rt.pending_buf[Rt.d_buf+2*Ot]<<8|Rt.pending_buf[Rt.d_buf+2*Ot+1],Jt=Rt.pending_buf[Rt.l_buf+Ot],Ot++,Lt===0?jt(Rt,Jt,Nt):(jt(Rt,(vt=wt[Jt])+rt+1,Nt),(Mt=ht[vt])!==0&&It(Rt,Jt-=kt[vt],Mt),jt(Rt,vt=Kt(--Lt),Bt),(Mt=pt[vt])!==0&&It(Rt,Lt-=$t[vt],Mt));while(Ot<Rt.last_lit);jt(Rt,ct,Nt)}function er(Rt,Nt){var Bt,Lt,Jt,vt=Nt.dyn_tree,Mt=Nt.stat_desc.static_tree,Ot=Nt.stat_desc.has_stree,Ft=Nt.stat_desc.elems,rr=-1;for(Rt.heap_len=0,Rt.heap_max=st,Bt=0;Bt<Ft;Bt++)vt[2*Bt]!==0?(Rt.heap[++Rt.heap_len]=rr=Bt,Rt.depth[Bt]=0):vt[2*Bt+1]=0;for(;Rt.heap_len<2;)vt[2*(Jt=Rt.heap[++Rt.heap_len]=rr<2?++rr:0)]=1,Rt.depth[Jt]=0,Rt.opt_len--,Ot&&(Rt.static_len-=Mt[2*Jt+1]);for(Nt.max_code=rr,Bt=Rt.heap_len>>1;Bt>=1;Bt--)Qt(Rt,vt,Bt);Jt=Ft;do Bt=Rt.heap[1],Rt.heap[1]=Rt.heap[Rt.heap_len--],Qt(Rt,vt,1),Lt=Rt.heap[1],Rt.heap[--Rt.heap_max]=Bt,Rt.heap[--Rt.heap_max]=Lt,vt[2*Jt]=vt[2*Bt]+vt[2*Lt],Rt.depth[Jt]=(Rt.depth[Bt]>=Rt.depth[Lt]?Rt.depth[Bt]:Rt.depth[Lt])+1,vt[2*Bt+1]=vt[2*Lt+1]=Jt,Rt.heap[1]=Jt++,Qt(Rt,vt,1);while(Rt.heap_len>=2);Rt.heap[--Rt.heap_max]=Rt.heap[1],function(ar,dr){var gr,fr,_r,pr,Er,vr,wr=dr.dyn_tree,Mr=dr.max_code,br=dr.stat_desc.static_tree,_e=dr.stat_desc.has_stree,mr=dr.stat_desc.extra_bits,nr=dr.stat_desc.extra_base,ur=dr.stat_desc.max_length,Gt=0;for(pr=0;pr<=ot;pr++)ar.bl_count[pr]=0;for(wr[2*ar.heap[ar.heap_max]+1]=0,gr=ar.heap_max+1;gr<st;gr++)(pr=wr[2*wr[2*(fr=ar.heap[gr])+1]+1]+1)>ur&&(pr=ur,Gt++),wr[2*fr+1]=pr,fr>Mr||(ar.bl_count[pr]++,Er=0,fr>=nr&&(Er=mr[fr-nr]),vr=wr[2*fr],ar.opt_len+=vr*(pr+Er),_e&&(ar.static_len+=vr*(br[2*fr+1]+Er)));if(Gt!==0){do{for(pr=ur-1;ar.bl_count[pr]===0;)pr--;ar.bl_count[pr]--,ar.bl_count[pr+1]+=2,ar.bl_count[ur]--,Gt-=2}while(Gt>0);for(pr=ur;pr!==0;pr--)for(fr=ar.bl_count[pr];fr!==0;)(_r=ar.heap[--gr])>Mr||(wr[2*_r+1]!==pr&&(ar.opt_len+=(pr-wr[2*_r+1])*wr[2*_r],wr[2*_r+1]=pr),fr--)}}(Rt,Nt),Ht(vt,rr,Rt.bl_count)}function ir(Rt,Nt,Bt){var Lt,Jt,vt=-1,Mt=Nt[1],Ot=0,Ft=7,rr=4;for(Mt===0&&(Ft=138,rr=3),Nt[2*(Bt+1)+1]=65535,Lt=0;Lt<=Bt;Lt++)Jt=Mt,Mt=Nt[2*(Lt+1)+1],++Ot<Ft&&Jt===Mt||(Ot<rr?Rt.bl_tree[2*Jt]+=Ot:Jt!==0?(Jt!==vt&&Rt.bl_tree[2*Jt]++,Rt.bl_tree[2*ft]++):Ot<=10?Rt.bl_tree[2*mt]++:Rt.bl_tree[2*dt]++,Ot=0,vt=Jt,Mt===0?(Ft=138,rr=3):Jt===Mt?(Ft=6,rr=3):(Ft=7,rr=4))}function Yt(Rt,Nt,Bt){var Lt,Jt,vt=-1,Mt=Nt[1],Ot=0,Ft=7,rr=4;for(Mt===0&&(Ft=138,rr=3),Lt=0;Lt<=Bt;Lt++)if(Jt=Mt,Mt=Nt[2*(Lt+1)+1],!(++Ot<Ft&&Jt===Mt)){if(Ot<rr)do jt(Rt,Jt,Rt.bl_tree);while(--Ot!=0);else Jt!==0?(Jt!==vt&&(jt(Rt,Jt,Rt.bl_tree),Ot--),jt(Rt,ft,Rt.bl_tree),It(Rt,Ot-3,2)):Ot<=10?(jt(Rt,mt,Rt.bl_tree),It(Rt,Ot-3,3)):(jt(Rt,dt,Rt.bl_tree),It(Rt,Ot-11,7));Ot=0,vt=Jt,Mt===0?(Ft=138,rr=3):Jt===Mt?(Ft=6,rr=3):(Ft=7,rr=4)}}j($t);var xt=!1;function qt(Rt,Nt,Bt,Lt){It(Rt,(tt<<1)+(Lt?1:0),3),function(Jt,vt,Mt,Ot){Wt(Jt),Ut(Jt,Mt),Ut(Jt,~Mt),d.arraySet(Jt.pending_buf,Jt.window,vt,Mt,Jt.pending),Jt.pending+=Mt}(Rt,Nt,Bt)}return trees._tr_init=function(Rt){xt||(function(){var Nt,Bt,Lt,Jt,vt,Mt=new Array(ot+1);for(Lt=0,Jt=0;Jt<et-1;Jt++)for(kt[Jt]=Lt,Nt=0;Nt<1<<ht[Jt];Nt++)wt[Lt++]=Jt;for(wt[Lt-1]=Jt,vt=0,Jt=0;Jt<16;Jt++)for($t[Jt]=vt,Nt=0;Nt<1<<pt[Jt];Nt++)St[vt++]=Jt;for(vt>>=7;Jt<it;Jt++)for($t[Jt]=vt<<7,Nt=0;Nt<1<<pt[Jt]-7;Nt++)St[256+vt++]=Jt;for(Bt=0;Bt<=ot;Bt++)Mt[Bt]=0;for(Nt=0;Nt<=143;)Et[2*Nt+1]=8,Nt++,Mt[8]++;for(;Nt<=255;)Et[2*Nt+1]=9,Nt++,Mt[9]++;for(;Nt<=279;)Et[2*Nt+1]=7,Nt++,Mt[7]++;for(;Nt<=287;)Et[2*Nt+1]=8,Nt++,Mt[8]++;for(Ht(Et,nt+1,Mt),Nt=0;Nt<it;Nt++)yt[2*Nt+1]=5,yt[2*Nt]=zt(Nt,5);bt=new At(Et,ht,rt+1,nt,ot),Tt=new At(yt,pt,0,it,ot),Dt=new At(new Array(0),gt,0,at,ut)}(),xt=!0),Rt.l_desc=new Pt(Rt.dyn_ltree,bt),Rt.d_desc=new Pt(Rt.dyn_dtree,Tt),Rt.bl_desc=new Pt(Rt.bl_tree,Dt),Rt.bi_buf=0,Rt.bi_valid=0,Vt(Rt)},trees._tr_stored_block=qt,trees._tr_flush_block=function(Rt,Nt,Bt,Lt){var Jt,vt,Mt=0;Rt.level>0?(Rt.strm.data_type===2&&(Rt.strm.data_type=function(Ot){var Ft,rr=4093624447;for(Ft=0;Ft<=31;Ft++,rr>>>=1)if(1&rr&&Ot.dyn_ltree[2*Ft]!==0)return g;if(Ot.dyn_ltree[18]!==0||Ot.dyn_ltree[20]!==0||Ot.dyn_ltree[26]!==0)return $;for(Ft=32;Ft<rt;Ft++)if(Ot.dyn_ltree[2*Ft]!==0)return $;return g}(Rt)),er(Rt,Rt.l_desc),er(Rt,Rt.d_desc),Mt=function(Ot){var Ft;for(ir(Ot,Ot.dyn_ltree,Ot.l_desc.max_code),ir(Ot,Ot.dyn_dtree,Ot.d_desc.max_code),er(Ot,Ot.bl_desc),Ft=at-1;Ft>=3&&Ot.bl_tree[2*_t[Ft]+1]===0;Ft--);return Ot.opt_len+=3*(Ft+1)+5+5+4,Ft}(Rt),Jt=Rt.opt_len+3+7>>>3,(vt=Rt.static_len+3+7>>>3)<=Jt&&(Jt=vt)):Jt=vt=Bt+5,Bt+4<=Jt&&Nt!==-1?qt(Rt,Nt,Bt,Lt):Rt.strategy===4||vt===Jt?(It(Rt,2+(Lt?1:0),3),Xt(Rt,Et,yt)):(It(Rt,4+(Lt?1:0),3),function(Ot,Ft,rr,ar){var dr;for(It(Ot,Ft-257,5),It(Ot,rr-1,5),It(Ot,ar-4,4),dr=0;dr<ar;dr++)It(Ot,Ot.bl_tree[2*_t[dr]+1],3);Yt(Ot,Ot.dyn_ltree,Ft-1),Yt(Ot,Ot.dyn_dtree,rr-1)}(Rt,Rt.l_desc.max_code+1,Rt.d_desc.max_code+1,Mt+1),Xt(Rt,Rt.dyn_ltree,Rt.dyn_dtree)),Vt(Rt),Lt&&Wt(Rt)},trees._tr_tally=function(Rt,Nt,Bt){return Rt.pending_buf[Rt.d_buf+2*Rt.last_lit]=Nt>>>8&255,Rt.pending_buf[Rt.d_buf+2*Rt.last_lit+1]=255&Nt,Rt.pending_buf[Rt.l_buf+Rt.last_lit]=255&Bt,Rt.last_lit++,Nt===0?Rt.dyn_ltree[2*Bt]++:(Rt.matches++,Nt--,Rt.dyn_ltree[2*(wt[Bt]+rt+1)]++,Rt.dyn_dtree[2*Kt(Nt)]++),Rt.last_lit===Rt.lit_bufsize-1},trees._tr_align=function(Rt){It(Rt,2,3),jt(Rt,ct,Et),function(Nt){Nt.bi_valid===16?(Ut(Nt,Nt.bi_buf),Nt.bi_buf=0,Nt.bi_valid=0):Nt.bi_valid>=8&&(Nt.pending_buf[Nt.pending++]=255&Nt.bi_buf,Nt.bi_buf>>=8,Nt.bi_valid-=8)}(Rt)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,g,$,j){for(var tt=65535&d,et=d>>>16&65535,rt=0;$!==0;){$-=rt=$>2e3?2e3:$;do et=et+(tt=tt+g[j++]|0)|0;while(--rt);tt%=65521,et%=65521}return tt|et<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=function(){for(var g,$=[],j=0;j<256;j++){g=j;for(var tt=0;tt<8;tt++)g=1&g?3988292384^g>>>1:g>>>1;$[j]=g}return $}();return crc32_1=function(g,$,j,tt){var et=d,rt=tt+j;g^=-1;for(var nt=tt;nt<rt;nt++)g=g>>>8^et[255&(g^$[nt])];return~g},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,g=requireCommon(),$=requireTrees(),j=requireAdler32(),tt=requireCrc32(),et=requireMessages(),rt=0,nt=4,it=0,at=-2,st=-1,ot=4,lt=2,ut=8,ct=9,ft=286,mt=30,dt=19,ht=2*ft+1,pt=15,gt=3,_t=258,Et=_t+gt+1,yt=42,St=103,wt=113,kt=666,bt=1,Tt=2,Dt=3,$t=4;function At(xt,qt){return xt.msg=et[qt],qt}function Pt(xt){return(xt<<1)-(xt>4?9:0)}function Kt(xt){for(var qt=xt.length;--qt>=0;)xt[qt]=0}function Ut(xt){var qt=xt.state,Rt=qt.pending;Rt>xt.avail_out&&(Rt=xt.avail_out),Rt!==0&&(g.arraySet(xt.output,qt.pending_buf,qt.pending_out,Rt,xt.next_out),xt.next_out+=Rt,qt.pending_out+=Rt,xt.total_out+=Rt,xt.avail_out-=Rt,qt.pending-=Rt,qt.pending===0&&(qt.pending_out=0))}function It(xt,qt){$._tr_flush_block(xt,xt.block_start>=0?xt.block_start:-1,xt.strstart-xt.block_start,qt),xt.block_start=xt.strstart,Ut(xt.strm)}function jt(xt,qt){xt.pending_buf[xt.pending++]=qt}function zt(xt,qt){xt.pending_buf[xt.pending++]=qt>>>8&255,xt.pending_buf[xt.pending++]=255&qt}function Ht(xt,qt){var Rt,Nt,Bt=xt.max_chain_length,Lt=xt.strstart,Jt=xt.prev_length,vt=xt.nice_match,Mt=xt.strstart>xt.w_size-Et?xt.strstart-(xt.w_size-Et):0,Ot=xt.window,Ft=xt.w_mask,rr=xt.prev,ar=xt.strstart+_t,dr=Ot[Lt+Jt-1],gr=Ot[Lt+Jt];xt.prev_length>=xt.good_match&&(Bt>>=2),vt>xt.lookahead&&(vt=xt.lookahead);do if(Ot[(Rt=qt)+Jt]===gr&&Ot[Rt+Jt-1]===dr&&Ot[Rt]===Ot[Lt]&&Ot[++Rt]===Ot[Lt+1]){Lt+=2,Rt++;do;while(Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Ot[++Lt]===Ot[++Rt]&&Lt<ar);if(Nt=_t-(ar-Lt),Lt=ar-_t,Nt>Jt){if(xt.match_start=qt,Jt=Nt,Nt>=vt)break;dr=Ot[Lt+Jt-1],gr=Ot[Lt+Jt]}}while((qt=rr[qt&Ft])>Mt&&--Bt!=0);return Jt<=xt.lookahead?Jt:xt.lookahead}function Vt(xt){var qt,Rt,Nt,Bt,Lt,Jt,vt,Mt,Ot,Ft,rr=xt.w_size;do{if(Bt=xt.window_size-xt.lookahead-xt.strstart,xt.strstart>=rr+(rr-Et)){g.arraySet(xt.window,xt.window,rr,rr,0),xt.match_start-=rr,xt.strstart-=rr,xt.block_start-=rr,qt=Rt=xt.hash_size;do Nt=xt.head[--qt],xt.head[qt]=Nt>=rr?Nt-rr:0;while(--Rt);qt=Rt=rr;do Nt=xt.prev[--qt],xt.prev[qt]=Nt>=rr?Nt-rr:0;while(--Rt);Bt+=rr}if(xt.strm.avail_in===0)break;if(Jt=xt.strm,vt=xt.window,Mt=xt.strstart+xt.lookahead,Ot=Bt,Ft=void 0,(Ft=Jt.avail_in)>Ot&&(Ft=Ot),Rt=Ft===0?0:(Jt.avail_in-=Ft,g.arraySet(vt,Jt.input,Jt.next_in,Ft,Mt),Jt.state.wrap===1?Jt.adler=j(Jt.adler,vt,Ft,Mt):Jt.state.wrap===2&&(Jt.adler=tt(Jt.adler,vt,Ft,Mt)),Jt.next_in+=Ft,Jt.total_in+=Ft,Ft),xt.lookahead+=Rt,xt.lookahead+xt.insert>=gt)for(Lt=xt.strstart-xt.insert,xt.ins_h=xt.window[Lt],xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[Lt+1])&xt.hash_mask;xt.insert&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[Lt+gt-1])&xt.hash_mask,xt.prev[Lt&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=Lt,Lt++,xt.insert--,!(xt.lookahead+xt.insert<gt)););}while(xt.lookahead<Et&&xt.strm.avail_in!==0)}function Wt(xt,qt){for(var Rt,Nt;;){if(xt.lookahead<Et){if(Vt(xt),xt.lookahead<Et&&qt===rt)return bt;if(xt.lookahead===0)break}if(Rt=0,xt.lookahead>=gt&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+gt-1])&xt.hash_mask,Rt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart),Rt!==0&&xt.strstart-Rt<=xt.w_size-Et&&(xt.match_length=Ht(xt,Rt)),xt.match_length>=gt)if(Nt=$._tr_tally(xt,xt.strstart-xt.match_start,xt.match_length-gt),xt.lookahead-=xt.match_length,xt.match_length<=xt.max_lazy_match&&xt.lookahead>=gt){xt.match_length--;do xt.strstart++,xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+gt-1])&xt.hash_mask,Rt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart;while(--xt.match_length!=0);xt.strstart++}else xt.strstart+=xt.match_length,xt.match_length=0,xt.ins_h=xt.window[xt.strstart],xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+1])&xt.hash_mask;else Nt=$._tr_tally(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++;if(Nt&&(It(xt,!1),xt.strm.avail_out===0))return bt}return xt.insert=xt.strstart<gt-1?xt.strstart:gt-1,qt===nt?(It(xt,!0),xt.strm.avail_out===0?Dt:$t):xt.last_lit&&(It(xt,!1),xt.strm.avail_out===0)?bt:Tt}function Zt(xt,qt){for(var Rt,Nt,Bt;;){if(xt.lookahead<Et){if(Vt(xt),xt.lookahead<Et&&qt===rt)return bt;if(xt.lookahead===0)break}if(Rt=0,xt.lookahead>=gt&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+gt-1])&xt.hash_mask,Rt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart),xt.prev_length=xt.match_length,xt.prev_match=xt.match_start,xt.match_length=gt-1,Rt!==0&&xt.prev_length<xt.max_lazy_match&&xt.strstart-Rt<=xt.w_size-Et&&(xt.match_length=Ht(xt,Rt),xt.match_length<=5&&(xt.strategy===1||xt.match_length===gt&&xt.strstart-xt.match_start>4096)&&(xt.match_length=gt-1)),xt.prev_length>=gt&&xt.match_length<=xt.prev_length){Bt=xt.strstart+xt.lookahead-gt,Nt=$._tr_tally(xt,xt.strstart-1-xt.prev_match,xt.prev_length-gt),xt.lookahead-=xt.prev_length-1,xt.prev_length-=2;do++xt.strstart<=Bt&&(xt.ins_h=(xt.ins_h<<xt.hash_shift^xt.window[xt.strstart+gt-1])&xt.hash_mask,Rt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart);while(--xt.prev_length!=0);if(xt.match_available=0,xt.match_length=gt-1,xt.strstart++,Nt&&(It(xt,!1),xt.strm.avail_out===0))return bt}else if(xt.match_available){if((Nt=$._tr_tally(xt,0,xt.window[xt.strstart-1]))&&It(xt,!1),xt.strstart++,xt.lookahead--,xt.strm.avail_out===0)return bt}else xt.match_available=1,xt.strstart++,xt.lookahead--}return xt.match_available&&(Nt=$._tr_tally(xt,0,xt.window[xt.strstart-1]),xt.match_available=0),xt.insert=xt.strstart<gt-1?xt.strstart:gt-1,qt===nt?(It(xt,!0),xt.strm.avail_out===0?Dt:$t):xt.last_lit&&(It(xt,!1),xt.strm.avail_out===0)?bt:Tt}function Qt(xt,qt,Rt,Nt,Bt){this.good_length=xt,this.max_lazy=qt,this.nice_length=Rt,this.max_chain=Nt,this.func=Bt}function Xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(2*ht),this.dyn_dtree=new g.Buf16(2*(2*mt+1)),this.bl_tree=new g.Buf16(2*(2*dt+1)),Kt(this.dyn_ltree),Kt(this.dyn_dtree),Kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(pt+1),this.heap=new g.Buf16(2*ft+1),Kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(2*ft+1),Kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function er(xt){var qt;return xt&&xt.state?(xt.total_in=xt.total_out=0,xt.data_type=lt,(qt=xt.state).pending=0,qt.pending_out=0,qt.wrap<0&&(qt.wrap=-qt.wrap),qt.status=qt.wrap?yt:wt,xt.adler=qt.wrap===2?0:1,qt.last_flush=rt,$._tr_init(qt),it):At(xt,at)}function ir(xt){var qt=er(xt);return qt===it&&function(Rt){Rt.window_size=2*Rt.w_size,Kt(Rt.head),Rt.max_lazy_match=d[Rt.level].max_lazy,Rt.good_match=d[Rt.level].good_length,Rt.nice_match=d[Rt.level].nice_length,Rt.max_chain_length=d[Rt.level].max_chain,Rt.strstart=0,Rt.block_start=0,Rt.lookahead=0,Rt.insert=0,Rt.match_length=Rt.prev_length=gt-1,Rt.match_available=0,Rt.ins_h=0}(xt.state),qt}function Yt(xt,qt,Rt,Nt,Bt,Lt){if(!xt)return at;var Jt=1;if(qt===st&&(qt=6),Nt<0?(Jt=0,Nt=-Nt):Nt>15&&(Jt=2,Nt-=16),Bt<1||Bt>ct||Rt!==ut||Nt<8||Nt>15||qt<0||qt>9||Lt<0||Lt>ot)return At(xt,at);Nt===8&&(Nt=9);var vt=new Xt;return xt.state=vt,vt.strm=xt,vt.wrap=Jt,vt.gzhead=null,vt.w_bits=Nt,vt.w_size=1<<vt.w_bits,vt.w_mask=vt.w_size-1,vt.hash_bits=Bt+7,vt.hash_size=1<<vt.hash_bits,vt.hash_mask=vt.hash_size-1,vt.hash_shift=~~((vt.hash_bits+gt-1)/gt),vt.window=new g.Buf8(2*vt.w_size),vt.head=new g.Buf16(vt.hash_size),vt.prev=new g.Buf16(vt.w_size),vt.lit_bufsize=1<<Bt+6,vt.pending_buf_size=4*vt.lit_bufsize,vt.pending_buf=new g.Buf8(vt.pending_buf_size),vt.d_buf=1*vt.lit_bufsize,vt.l_buf=3*vt.lit_bufsize,vt.level=qt,vt.strategy=Lt,vt.method=Rt,ir(xt)}return d=[new Qt(0,0,0,0,function(xt,qt){var Rt=65535;for(Rt>xt.pending_buf_size-5&&(Rt=xt.pending_buf_size-5);;){if(xt.lookahead<=1){if(Vt(xt),xt.lookahead===0&&qt===rt)return bt;if(xt.lookahead===0)break}xt.strstart+=xt.lookahead,xt.lookahead=0;var Nt=xt.block_start+Rt;if((xt.strstart===0||xt.strstart>=Nt)&&(xt.lookahead=xt.strstart-Nt,xt.strstart=Nt,It(xt,!1),xt.strm.avail_out===0)||xt.strstart-xt.block_start>=xt.w_size-Et&&(It(xt,!1),xt.strm.avail_out===0))return bt}return xt.insert=0,qt===nt?(It(xt,!0),xt.strm.avail_out===0?Dt:$t):(xt.strstart>xt.block_start&&(It(xt,!1),xt.strm.avail_out),bt)}),new Qt(4,4,8,4,Wt),new Qt(4,5,16,8,Wt),new Qt(4,6,32,32,Wt),new Qt(4,4,16,16,Zt),new Qt(8,16,32,32,Zt),new Qt(8,16,128,128,Zt),new Qt(8,32,128,256,Zt),new Qt(32,128,258,1024,Zt),new Qt(32,258,258,4096,Zt)],deflate.deflateInit=function(xt,qt){return Yt(xt,qt,ut,15,8,0)},deflate.deflateInit2=Yt,deflate.deflateReset=ir,deflate.deflateResetKeep=er,deflate.deflateSetHeader=function(xt,qt){return xt&&xt.state?xt.state.wrap!==2?at:(xt.state.gzhead=qt,it):at},deflate.deflate=function(xt,qt){var Rt,Nt,Bt,Lt;if(!xt||!xt.state||qt>5||qt<0)return xt?At(xt,at):at;if(Nt=xt.state,!xt.output||!xt.input&&xt.avail_in!==0||Nt.status===kt&&qt!==nt)return At(xt,xt.avail_out===0?-5:at);if(Nt.strm=xt,Rt=Nt.last_flush,Nt.last_flush=qt,Nt.status===yt)if(Nt.wrap===2)xt.adler=0,jt(Nt,31),jt(Nt,139),jt(Nt,8),Nt.gzhead?(jt(Nt,(Nt.gzhead.text?1:0)+(Nt.gzhead.hcrc?2:0)+(Nt.gzhead.extra?4:0)+(Nt.gzhead.name?8:0)+(Nt.gzhead.comment?16:0)),jt(Nt,255&Nt.gzhead.time),jt(Nt,Nt.gzhead.time>>8&255),jt(Nt,Nt.gzhead.time>>16&255),jt(Nt,Nt.gzhead.time>>24&255),jt(Nt,Nt.level===9?2:Nt.strategy>=2||Nt.level<2?4:0),jt(Nt,255&Nt.gzhead.os),Nt.gzhead.extra&&Nt.gzhead.extra.length&&(jt(Nt,255&Nt.gzhead.extra.length),jt(Nt,Nt.gzhead.extra.length>>8&255)),Nt.gzhead.hcrc&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending,0)),Nt.gzindex=0,Nt.status=69):(jt(Nt,0),jt(Nt,0),jt(Nt,0),jt(Nt,0),jt(Nt,0),jt(Nt,Nt.level===9?2:Nt.strategy>=2||Nt.level<2?4:0),jt(Nt,3),Nt.status=wt);else{var Jt=ut+(Nt.w_bits-8<<4)<<8;Jt|=(Nt.strategy>=2||Nt.level<2?0:Nt.level<6?1:Nt.level===6?2:3)<<6,Nt.strstart!==0&&(Jt|=32),Jt+=31-Jt%31,Nt.status=wt,zt(Nt,Jt),Nt.strstart!==0&&(zt(Nt,xt.adler>>>16),zt(Nt,65535&xt.adler)),xt.adler=1}if(Nt.status===69)if(Nt.gzhead.extra){for(Bt=Nt.pending;Nt.gzindex<(65535&Nt.gzhead.extra.length)&&(Nt.pending!==Nt.pending_buf_size||(Nt.gzhead.hcrc&&Nt.pending>Bt&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Ut(xt),Bt=Nt.pending,Nt.pending!==Nt.pending_buf_size));)jt(Nt,255&Nt.gzhead.extra[Nt.gzindex]),Nt.gzindex++;Nt.gzhead.hcrc&&Nt.pending>Bt&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Nt.gzindex===Nt.gzhead.extra.length&&(Nt.gzindex=0,Nt.status=73)}else Nt.status=73;if(Nt.status===73)if(Nt.gzhead.name){Bt=Nt.pending;do{if(Nt.pending===Nt.pending_buf_size&&(Nt.gzhead.hcrc&&Nt.pending>Bt&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Ut(xt),Bt=Nt.pending,Nt.pending===Nt.pending_buf_size)){Lt=1;break}Lt=Nt.gzindex<Nt.gzhead.name.length?255&Nt.gzhead.name.charCodeAt(Nt.gzindex++):0,jt(Nt,Lt)}while(Lt!==0);Nt.gzhead.hcrc&&Nt.pending>Bt&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Lt===0&&(Nt.gzindex=0,Nt.status=91)}else Nt.status=91;if(Nt.status===91)if(Nt.gzhead.comment){Bt=Nt.pending;do{if(Nt.pending===Nt.pending_buf_size&&(Nt.gzhead.hcrc&&Nt.pending>Bt&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Ut(xt),Bt=Nt.pending,Nt.pending===Nt.pending_buf_size)){Lt=1;break}Lt=Nt.gzindex<Nt.gzhead.comment.length?255&Nt.gzhead.comment.charCodeAt(Nt.gzindex++):0,jt(Nt,Lt)}while(Lt!==0);Nt.gzhead.hcrc&&Nt.pending>Bt&&(xt.adler=tt(xt.adler,Nt.pending_buf,Nt.pending-Bt,Bt)),Lt===0&&(Nt.status=St)}else Nt.status=St;if(Nt.status===St&&(Nt.gzhead.hcrc?(Nt.pending+2>Nt.pending_buf_size&&Ut(xt),Nt.pending+2<=Nt.pending_buf_size&&(jt(Nt,255&xt.adler),jt(Nt,xt.adler>>8&255),xt.adler=0,Nt.status=wt)):Nt.status=wt),Nt.pending!==0){if(Ut(xt),xt.avail_out===0)return Nt.last_flush=-1,it}else if(xt.avail_in===0&&Pt(qt)<=Pt(Rt)&&qt!==nt)return At(xt,-5);if(Nt.status===kt&&xt.avail_in!==0)return At(xt,-5);if(xt.avail_in!==0||Nt.lookahead!==0||qt!==rt&&Nt.status!==kt){var vt=Nt.strategy===2?function(Mt,Ot){for(var Ft;;){if(Mt.lookahead===0&&(Vt(Mt),Mt.lookahead===0)){if(Ot===rt)return bt;break}if(Mt.match_length=0,Ft=$._tr_tally(Mt,0,Mt.window[Mt.strstart]),Mt.lookahead--,Mt.strstart++,Ft&&(It(Mt,!1),Mt.strm.avail_out===0))return bt}return Mt.insert=0,Ot===nt?(It(Mt,!0),Mt.strm.avail_out===0?Dt:$t):Mt.last_lit&&(It(Mt,!1),Mt.strm.avail_out===0)?bt:Tt}(Nt,qt):Nt.strategy===3?function(Mt,Ot){for(var Ft,rr,ar,dr,gr=Mt.window;;){if(Mt.lookahead<=_t){if(Vt(Mt),Mt.lookahead<=_t&&Ot===rt)return bt;if(Mt.lookahead===0)break}if(Mt.match_length=0,Mt.lookahead>=gt&&Mt.strstart>0&&(rr=gr[ar=Mt.strstart-1])===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]){dr=Mt.strstart+_t;do;while(rr===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]&&rr===gr[++ar]&&ar<dr);Mt.match_length=_t-(dr-ar),Mt.match_length>Mt.lookahead&&(Mt.match_length=Mt.lookahead)}if(Mt.match_length>=gt?(Ft=$._tr_tally(Mt,1,Mt.match_length-gt),Mt.lookahead-=Mt.match_length,Mt.strstart+=Mt.match_length,Mt.match_length=0):(Ft=$._tr_tally(Mt,0,Mt.window[Mt.strstart]),Mt.lookahead--,Mt.strstart++),Ft&&(It(Mt,!1),Mt.strm.avail_out===0))return bt}return Mt.insert=0,Ot===nt?(It(Mt,!0),Mt.strm.avail_out===0?Dt:$t):Mt.last_lit&&(It(Mt,!1),Mt.strm.avail_out===0)?bt:Tt}(Nt,qt):d[Nt.level].func(Nt,qt);if(vt!==Dt&&vt!==$t||(Nt.status=kt),vt===bt||vt===Dt)return xt.avail_out===0&&(Nt.last_flush=-1),it;if(vt===Tt&&(qt===1?$._tr_align(Nt):qt!==5&&($._tr_stored_block(Nt,0,0,!1),qt===3&&(Kt(Nt.head),Nt.lookahead===0&&(Nt.strstart=0,Nt.block_start=0,Nt.insert=0))),Ut(xt),xt.avail_out===0))return Nt.last_flush=-1,it}return qt!==nt?it:Nt.wrap<=0?1:(Nt.wrap===2?(jt(Nt,255&xt.adler),jt(Nt,xt.adler>>8&255),jt(Nt,xt.adler>>16&255),jt(Nt,xt.adler>>24&255),jt(Nt,255&xt.total_in),jt(Nt,xt.total_in>>8&255),jt(Nt,xt.total_in>>16&255),jt(Nt,xt.total_in>>24&255)):(zt(Nt,xt.adler>>>16),zt(Nt,65535&xt.adler)),Ut(xt),Nt.wrap>0&&(Nt.wrap=-Nt.wrap),Nt.pending!==0?it:1)},deflate.deflateEnd=function(xt){var qt;return xt&&xt.state?(qt=xt.state.status)!==yt&&qt!==69&&qt!==73&&qt!==91&&qt!==St&&qt!==wt&&qt!==kt?At(xt,at):(xt.state=null,qt===wt?At(xt,-3):it):at},deflate.deflateSetDictionary=function(xt,qt){var Rt,Nt,Bt,Lt,Jt,vt,Mt,Ot,Ft=qt.length;if(!xt||!xt.state||(Lt=(Rt=xt.state).wrap)===2||Lt===1&&Rt.status!==yt||Rt.lookahead)return at;for(Lt===1&&(xt.adler=j(xt.adler,qt,Ft,0)),Rt.wrap=0,Ft>=Rt.w_size&&(Lt===0&&(Kt(Rt.head),Rt.strstart=0,Rt.block_start=0,Rt.insert=0),Ot=new g.Buf8(Rt.w_size),g.arraySet(Ot,qt,Ft-Rt.w_size,Rt.w_size,0),qt=Ot,Ft=Rt.w_size),Jt=xt.avail_in,vt=xt.next_in,Mt=xt.input,xt.avail_in=Ft,xt.next_in=0,xt.input=qt,Vt(Rt);Rt.lookahead>=gt;){Nt=Rt.strstart,Bt=Rt.lookahead-(gt-1);do Rt.ins_h=(Rt.ins_h<<Rt.hash_shift^Rt.window[Nt+gt-1])&Rt.hash_mask,Rt.prev[Nt&Rt.w_mask]=Rt.head[Rt.ins_h],Rt.head[Rt.ins_h]=Nt,Nt++;while(--Bt);Rt.strstart=Nt,Rt.lookahead=gt-1,Vt(Rt)}return Rt.strstart+=Rt.lookahead,Rt.block_start=Rt.strstart,Rt.insert=Rt.lookahead,Rt.lookahead=0,Rt.match_length=Rt.prev_length=gt-1,Rt.match_available=0,xt.next_in=vt,xt.input=Mt,xt.avail_in=Jt,Rt.wrap=Lt,it},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),g=!0,$=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$=!1}for(var j=new d.Buf8(256),tt=0;tt<256;tt++)j[tt]=tt>=252?6:tt>=248?5:tt>=240?4:tt>=224?3:tt>=192?2:1;function et(rt,nt){if(nt<65534&&(rt.subarray&&$||!rt.subarray&&g))return String.fromCharCode.apply(null,d.shrinkBuf(rt,nt));for(var it="",at=0;at<nt;at++)it+=String.fromCharCode(rt[at]);return it}return j[254]=j[254]=1,strings.string2buf=function(rt){var nt,it,at,st,ot,lt=rt.length,ut=0;for(st=0;st<lt;st++)(64512&(it=rt.charCodeAt(st)))==55296&&st+1<lt&&(64512&(at=rt.charCodeAt(st+1)))==56320&&(it=65536+(it-55296<<10)+(at-56320),st++),ut+=it<128?1:it<2048?2:it<65536?3:4;for(nt=new d.Buf8(ut),ot=0,st=0;ot<ut;st++)(64512&(it=rt.charCodeAt(st)))==55296&&st+1<lt&&(64512&(at=rt.charCodeAt(st+1)))==56320&&(it=65536+(it-55296<<10)+(at-56320),st++),it<128?nt[ot++]=it:it<2048?(nt[ot++]=192|it>>>6,nt[ot++]=128|63&it):it<65536?(nt[ot++]=224|it>>>12,nt[ot++]=128|it>>>6&63,nt[ot++]=128|63&it):(nt[ot++]=240|it>>>18,nt[ot++]=128|it>>>12&63,nt[ot++]=128|it>>>6&63,nt[ot++]=128|63&it);return nt},strings.buf2binstring=function(rt){return et(rt,rt.length)},strings.binstring2buf=function(rt){for(var nt=new d.Buf8(rt.length),it=0,at=nt.length;it<at;it++)nt[it]=rt.charCodeAt(it);return nt},strings.buf2string=function(rt,nt){var it,at,st,ot,lt=nt||rt.length,ut=new Array(2*lt);for(at=0,it=0;it<lt;)if((st=rt[it++])<128)ut[at++]=st;else if((ot=j[st])>4)ut[at++]=65533,it+=ot-1;else{for(st&=ot===2?31:ot===3?15:7;ot>1&&it<lt;)st=st<<6|63&rt[it++],ot--;ot>1?ut[at++]=65533:st<65536?ut[at++]=st:(st-=65536,ut[at++]=55296|st>>10&1023,ut[at++]=56320|1023&st)}return et(ut,at)},strings.utf8border=function(rt,nt){var it;for((nt=nt||rt.length)>rt.length&&(nt=rt.length),it=nt-1;it>=0&&(192&rt[it])==128;)it--;return it<0||it===0?nt:it+j[rt[it]]>nt?it:nt},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),g=requireCommon(),$=requireStrings(),j=requireMessages(),tt=requireZstream(),et=Object.prototype.toString,rt=0,nt=-1,it=0,at=8;function st(lt){if(!(this instanceof st))return new st(lt);this.options=g.assign({level:nt,method:at,chunkSize:16384,windowBits:15,memLevel:8,strategy:it,to:""},lt||{});var ut=this.options;ut.raw&&ut.windowBits>0?ut.windowBits=-ut.windowBits:ut.gzip&&ut.windowBits>0&&ut.windowBits<16&&(ut.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;var ct=d.deflateInit2(this.strm,ut.level,ut.method,ut.windowBits,ut.memLevel,ut.strategy);if(ct!==rt)throw new Error(j[ct]);if(ut.header&&d.deflateSetHeader(this.strm,ut.header),ut.dictionary){var ft;if(ft=typeof ut.dictionary=="string"?$.string2buf(ut.dictionary):et.call(ut.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ut.dictionary):ut.dictionary,(ct=d.deflateSetDictionary(this.strm,ft))!==rt)throw new Error(j[ct]);this._dict_set=!0}}function ot(lt,ut){var ct=new st(ut);if(ct.push(lt,!0),ct.err)throw ct.msg||j[ct.err];return ct.result}return st.prototype.push=function(lt,ut){var ct,ft,mt=this.strm,dt=this.options.chunkSize;if(this.ended)return!1;ft=ut===~~ut?ut:ut===!0?4:0,typeof lt=="string"?mt.input=$.string2buf(lt):et.call(lt)==="[object ArrayBuffer]"?mt.input=new Uint8Array(lt):mt.input=lt,mt.next_in=0,mt.avail_in=mt.input.length;do{if(mt.avail_out===0&&(mt.output=new g.Buf8(dt),mt.next_out=0,mt.avail_out=dt),(ct=d.deflate(mt,ft))!==1&&ct!==rt)return this.onEnd(ct),this.ended=!0,!1;mt.avail_out!==0&&(mt.avail_in!==0||ft!==4&&ft!==2)||(this.options.to==="string"?this.onData($.buf2binstring(g.shrinkBuf(mt.output,mt.next_out))):this.onData(g.shrinkBuf(mt.output,mt.next_out)))}while((mt.avail_in>0||mt.avail_out===0)&&ct!==1);return ft===4?(ct=d.deflateEnd(this.strm),this.onEnd(ct),this.ended=!0,ct===rt):ft!==2||(this.onEnd(rt),mt.avail_out=0,!0)},st.prototype.onData=function(lt){this.chunks.push(lt)},st.prototype.onEnd=function(lt){lt===rt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=lt,this.msg=this.strm.msg},deflate$1.Deflate=st,deflate$1.deflate=ot,deflate$1.deflateRaw=function(lt,ut){return(ut=ut||{}).raw=!0,ot(lt,ut)},deflate$1.gzip=function(lt,ut){return(ut=ut||{}).gzip=!0,ot(lt,ut)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,g){var $,j,tt,et,rt,nt,it,at,st,ot,lt,ut,ct,ft,mt,dt,ht,pt,gt,_t,Et,yt,St,wt,kt;$=d.state,j=d.next_in,wt=d.input,tt=j+(d.avail_in-5),et=d.next_out,kt=d.output,rt=et-(g-d.avail_out),nt=et+(d.avail_out-257),it=$.dmax,at=$.wsize,st=$.whave,ot=$.wnext,lt=$.window,ut=$.hold,ct=$.bits,ft=$.lencode,mt=$.distcode,dt=(1<<$.lenbits)-1,ht=(1<<$.distbits)-1;t:do{ct<15&&(ut+=wt[j++]<<ct,ct+=8,ut+=wt[j++]<<ct,ct+=8),pt=ft[ut&dt];e:for(;;){if(ut>>>=gt=pt>>>24,ct-=gt,(gt=pt>>>16&255)===0)kt[et++]=65535&pt;else{if(!(16&gt)){if(64&gt){if(32&gt){$.mode=12;break t}d.msg="invalid literal/length code",$.mode=30;break t}pt=ft[(65535&pt)+(ut&(1<<gt)-1)];continue e}for(_t=65535&pt,(gt&=15)&&(ct<gt&&(ut+=wt[j++]<<ct,ct+=8),_t+=ut&(1<<gt)-1,ut>>>=gt,ct-=gt),ct<15&&(ut+=wt[j++]<<ct,ct+=8,ut+=wt[j++]<<ct,ct+=8),pt=mt[ut&ht];;){if(ut>>>=gt=pt>>>24,ct-=gt,16&(gt=pt>>>16&255)){if(Et=65535&pt,ct<(gt&=15)&&(ut+=wt[j++]<<ct,(ct+=8)<gt&&(ut+=wt[j++]<<ct,ct+=8)),(Et+=ut&(1<<gt)-1)>it){d.msg="invalid distance too far back",$.mode=30;break t}if(ut>>>=gt,ct-=gt,Et>(gt=et-rt)){if((gt=Et-gt)>st&&$.sane){d.msg="invalid distance too far back",$.mode=30;break t}if(yt=0,St=lt,ot===0){if(yt+=at-gt,gt<_t){_t-=gt;do kt[et++]=lt[yt++];while(--gt);yt=et-Et,St=kt}}else if(ot<gt){if(yt+=at+ot-gt,(gt-=ot)<_t){_t-=gt;do kt[et++]=lt[yt++];while(--gt);if(yt=0,ot<_t){_t-=gt=ot;do kt[et++]=lt[yt++];while(--gt);yt=et-Et,St=kt}}}else if(yt+=ot-gt,gt<_t){_t-=gt;do kt[et++]=lt[yt++];while(--gt);yt=et-Et,St=kt}for(;_t>2;)kt[et++]=St[yt++],kt[et++]=St[yt++],kt[et++]=St[yt++],_t-=3;_t&&(kt[et++]=St[yt++],_t>1&&(kt[et++]=St[yt++]))}else{yt=et-Et;do kt[et++]=kt[yt++],kt[et++]=kt[yt++],kt[et++]=kt[yt++],_t-=3;while(_t>2);_t&&(kt[et++]=kt[yt++],_t>1&&(kt[et++]=kt[yt++]))}break}if(64&gt){d.msg="invalid distance code",$.mode=30;break t}pt=mt[(65535&pt)+(ut&(1<<gt)-1)]}}break}}while(j<tt&&et<nt);j-=_t=ct>>3,ut&=(1<<(ct-=_t<<3))-1,d.next_in=j,d.next_out=et,d.avail_in=j<tt?tt-j+5:5-(j-tt),d.avail_out=et<nt?nt-et+257:257-(et-nt),$.hold=ut,$.bits=ct},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),g=15,$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],j=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],tt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],et=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(rt,nt,it,at,st,ot,lt,ut){var ct,ft,mt,dt,ht,pt,gt,_t,Et,yt=ut.bits,St=0,wt=0,kt=0,bt=0,Tt=0,Dt=0,$t=0,At=0,Pt=0,Kt=0,Ut=null,It=0,jt=new d.Buf16(16),zt=new d.Buf16(16),Ht=null,Vt=0;for(St=0;St<=g;St++)jt[St]=0;for(wt=0;wt<at;wt++)jt[nt[it+wt]]++;for(Tt=yt,bt=g;bt>=1&&jt[bt]===0;bt--);if(Tt>bt&&(Tt=bt),bt===0)return st[ot++]=20971520,st[ot++]=20971520,ut.bits=1,0;for(kt=1;kt<bt&&jt[kt]===0;kt++);for(Tt<kt&&(Tt=kt),At=1,St=1;St<=g;St++)if(At<<=1,(At-=jt[St])<0)return-1;if(At>0&&(rt===0||bt!==1))return-1;for(zt[1]=0,St=1;St<g;St++)zt[St+1]=zt[St]+jt[St];for(wt=0;wt<at;wt++)nt[it+wt]!==0&&(lt[zt[nt[it+wt]]++]=wt);if(rt===0?(Ut=Ht=lt,pt=19):rt===1?(Ut=$,It-=257,Ht=j,Vt-=257,pt=256):(Ut=tt,Ht=et,pt=-1),Kt=0,wt=0,St=kt,ht=ot,Dt=Tt,$t=0,mt=-1,dt=(Pt=1<<Tt)-1,rt===1&&Pt>852||rt===2&&Pt>592)return 1;for(;;){gt=St-$t,lt[wt]<pt?(_t=0,Et=lt[wt]):lt[wt]>pt?(_t=Ht[Vt+lt[wt]],Et=Ut[It+lt[wt]]):(_t=96,Et=0),ct=1<<St-$t,kt=ft=1<<Dt;do st[ht+(Kt>>$t)+(ft-=ct)]=gt<<24|_t<<16|Et;while(ft!==0);for(ct=1<<St-1;Kt&ct;)ct>>=1;if(ct!==0?(Kt&=ct-1,Kt+=ct):Kt=0,wt++,--jt[St]==0){if(St===bt)break;St=nt[it+lt[wt]]}if(St>Tt&&(Kt&dt)!==mt){for($t===0&&($t=Tt),ht+=kt,At=1<<(Dt=St-$t);Dt+$t<bt&&!((At-=jt[Dt+$t])<=0);)Dt++,At<<=1;if(Pt+=1<<Dt,rt===1&&Pt>852||rt===2&&Pt>592)return 1;st[mt=Kt&dt]=Tt<<24|Dt<<16|ht-ot}}return Kt!==0&&(st[ht+Kt]=St-$t<<24|64<<16),ut.bits=Tt,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),g=requireAdler32(),$=requireCrc32(),j=requireInffast(),tt=requireInftrees(),et=1,rt=2,nt=0,it=-2,at=1,st=12,ot=30,lt=852,ut=592;function ct(wt){return(wt>>>24&255)+(wt>>>8&65280)+((65280&wt)<<8)+((255&wt)<<24)}function ft(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function mt(wt){var kt;return wt&&wt.state?(kt=wt.state,wt.total_in=wt.total_out=kt.total=0,wt.msg="",kt.wrap&&(wt.adler=1&kt.wrap),kt.mode=at,kt.last=0,kt.havedict=0,kt.dmax=32768,kt.head=null,kt.hold=0,kt.bits=0,kt.lencode=kt.lendyn=new d.Buf32(lt),kt.distcode=kt.distdyn=new d.Buf32(ut),kt.sane=1,kt.back=-1,nt):it}function dt(wt){var kt;return wt&&wt.state?((kt=wt.state).wsize=0,kt.whave=0,kt.wnext=0,mt(wt)):it}function ht(wt,kt){var bt,Tt;return wt&&wt.state?(Tt=wt.state,kt<0?(bt=0,kt=-kt):(bt=1+(kt>>4),kt<48&&(kt&=15)),kt&&(kt<8||kt>15)?it:(Tt.window!==null&&Tt.wbits!==kt&&(Tt.window=null),Tt.wrap=bt,Tt.wbits=kt,dt(wt))):it}function pt(wt,kt){var bt,Tt;return wt?(Tt=new ft,wt.state=Tt,Tt.window=null,(bt=ht(wt,kt))!==nt&&(wt.state=null),bt):it}var gt,_t,Et=!0;function yt(wt){if(Et){var kt;for(gt=new d.Buf32(512),_t=new d.Buf32(32),kt=0;kt<144;)wt.lens[kt++]=8;for(;kt<256;)wt.lens[kt++]=9;for(;kt<280;)wt.lens[kt++]=7;for(;kt<288;)wt.lens[kt++]=8;for(tt(et,wt.lens,0,288,gt,0,wt.work,{bits:9}),kt=0;kt<32;)wt.lens[kt++]=5;tt(rt,wt.lens,0,32,_t,0,wt.work,{bits:5}),Et=!1}wt.lencode=gt,wt.lenbits=9,wt.distcode=_t,wt.distbits=5}function St(wt,kt,bt,Tt){var Dt,$t=wt.state;return $t.window===null&&($t.wsize=1<<$t.wbits,$t.wnext=0,$t.whave=0,$t.window=new d.Buf8($t.wsize)),Tt>=$t.wsize?(d.arraySet($t.window,kt,bt-$t.wsize,$t.wsize,0),$t.wnext=0,$t.whave=$t.wsize):((Dt=$t.wsize-$t.wnext)>Tt&&(Dt=Tt),d.arraySet($t.window,kt,bt-Tt,Dt,$t.wnext),(Tt-=Dt)?(d.arraySet($t.window,kt,bt-Tt,Tt,0),$t.wnext=Tt,$t.whave=$t.wsize):($t.wnext+=Dt,$t.wnext===$t.wsize&&($t.wnext=0),$t.whave<$t.wsize&&($t.whave+=Dt))),0}return inflate.inflateReset=dt,inflate.inflateReset2=ht,inflate.inflateResetKeep=mt,inflate.inflateInit=function(wt){return pt(wt,15)},inflate.inflateInit2=pt,inflate.inflate=function(wt,kt){var bt,Tt,Dt,$t,At,Pt,Kt,Ut,It,jt,zt,Ht,Vt,Wt,Zt,Qt,Xt,er,ir,Yt,xt,qt,Rt,Nt,Bt=0,Lt=new d.Buf8(4),Jt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!wt||!wt.state||!wt.output||!wt.input&&wt.avail_in!==0)return it;(bt=wt.state).mode===st&&(bt.mode=13),At=wt.next_out,Dt=wt.output,Kt=wt.avail_out,$t=wt.next_in,Tt=wt.input,Pt=wt.avail_in,Ut=bt.hold,It=bt.bits,jt=Pt,zt=Kt,qt=nt;t:for(;;)switch(bt.mode){case at:if(bt.wrap===0){bt.mode=13;break}for(;It<16;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(2&bt.wrap&&Ut===35615){bt.check=0,Lt[0]=255&Ut,Lt[1]=Ut>>>8&255,bt.check=$(bt.check,Lt,2,0),Ut=0,It=0,bt.mode=2;break}if(bt.flags=0,bt.head&&(bt.head.done=!1),!(1&bt.wrap)||(((255&Ut)<<8)+(Ut>>8))%31){wt.msg="incorrect header check",bt.mode=ot;break}if((15&Ut)!=8){wt.msg="unknown compression method",bt.mode=ot;break}if(It-=4,xt=8+(15&(Ut>>>=4)),bt.wbits===0)bt.wbits=xt;else if(xt>bt.wbits){wt.msg="invalid window size",bt.mode=ot;break}bt.dmax=1<<xt,wt.adler=bt.check=1,bt.mode=512&Ut?10:st,Ut=0,It=0;break;case 2:for(;It<16;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(bt.flags=Ut,(255&bt.flags)!=8){wt.msg="unknown compression method",bt.mode=ot;break}if(57344&bt.flags){wt.msg="unknown header flags set",bt.mode=ot;break}bt.head&&(bt.head.text=Ut>>8&1),512&bt.flags&&(Lt[0]=255&Ut,Lt[1]=Ut>>>8&255,bt.check=$(bt.check,Lt,2,0)),Ut=0,It=0,bt.mode=3;case 3:for(;It<32;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}bt.head&&(bt.head.time=Ut),512&bt.flags&&(Lt[0]=255&Ut,Lt[1]=Ut>>>8&255,Lt[2]=Ut>>>16&255,Lt[3]=Ut>>>24&255,bt.check=$(bt.check,Lt,4,0)),Ut=0,It=0,bt.mode=4;case 4:for(;It<16;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}bt.head&&(bt.head.xflags=255&Ut,bt.head.os=Ut>>8),512&bt.flags&&(Lt[0]=255&Ut,Lt[1]=Ut>>>8&255,bt.check=$(bt.check,Lt,2,0)),Ut=0,It=0,bt.mode=5;case 5:if(1024&bt.flags){for(;It<16;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}bt.length=Ut,bt.head&&(bt.head.extra_len=Ut),512&bt.flags&&(Lt[0]=255&Ut,Lt[1]=Ut>>>8&255,bt.check=$(bt.check,Lt,2,0)),Ut=0,It=0}else bt.head&&(bt.head.extra=null);bt.mode=6;case 6:if(1024&bt.flags&&((Ht=bt.length)>Pt&&(Ht=Pt),Ht&&(bt.head&&(xt=bt.head.extra_len-bt.length,bt.head.extra||(bt.head.extra=new Array(bt.head.extra_len)),d.arraySet(bt.head.extra,Tt,$t,Ht,xt)),512&bt.flags&&(bt.check=$(bt.check,Tt,Ht,$t)),Pt-=Ht,$t+=Ht,bt.length-=Ht),bt.length))break t;bt.length=0,bt.mode=7;case 7:if(2048&bt.flags){if(Pt===0)break t;Ht=0;do xt=Tt[$t+Ht++],bt.head&&xt&&bt.length<65536&&(bt.head.name+=String.fromCharCode(xt));while(xt&&Ht<Pt);if(512&bt.flags&&(bt.check=$(bt.check,Tt,Ht,$t)),Pt-=Ht,$t+=Ht,xt)break t}else bt.head&&(bt.head.name=null);bt.length=0,bt.mode=8;case 8:if(4096&bt.flags){if(Pt===0)break t;Ht=0;do xt=Tt[$t+Ht++],bt.head&&xt&&bt.length<65536&&(bt.head.comment+=String.fromCharCode(xt));while(xt&&Ht<Pt);if(512&bt.flags&&(bt.check=$(bt.check,Tt,Ht,$t)),Pt-=Ht,$t+=Ht,xt)break t}else bt.head&&(bt.head.comment=null);bt.mode=9;case 9:if(512&bt.flags){for(;It<16;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(Ut!==(65535&bt.check)){wt.msg="header crc mismatch",bt.mode=ot;break}Ut=0,It=0}bt.head&&(bt.head.hcrc=bt.flags>>9&1,bt.head.done=!0),wt.adler=bt.check=0,bt.mode=st;break;case 10:for(;It<32;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}wt.adler=bt.check=ct(Ut),Ut=0,It=0,bt.mode=11;case 11:if(bt.havedict===0)return wt.next_out=At,wt.avail_out=Kt,wt.next_in=$t,wt.avail_in=Pt,bt.hold=Ut,bt.bits=It,2;wt.adler=bt.check=1,bt.mode=st;case st:if(kt===5||kt===6)break t;case 13:if(bt.last){Ut>>>=7&It,It-=7&It,bt.mode=27;break}for(;It<3;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}switch(bt.last=1&Ut,It-=1,3&(Ut>>>=1)){case 0:bt.mode=14;break;case 1:if(yt(bt),bt.mode=20,kt===6){Ut>>>=2,It-=2;break t}break;case 2:bt.mode=17;break;case 3:wt.msg="invalid block type",bt.mode=ot}Ut>>>=2,It-=2;break;case 14:for(Ut>>>=7&It,It-=7&It;It<32;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if((65535&Ut)!=(Ut>>>16^65535)){wt.msg="invalid stored block lengths",bt.mode=ot;break}if(bt.length=65535&Ut,Ut=0,It=0,bt.mode=15,kt===6)break t;case 15:bt.mode=16;case 16:if(Ht=bt.length){if(Ht>Pt&&(Ht=Pt),Ht>Kt&&(Ht=Kt),Ht===0)break t;d.arraySet(Dt,Tt,$t,Ht,At),Pt-=Ht,$t+=Ht,Kt-=Ht,At+=Ht,bt.length-=Ht;break}bt.mode=st;break;case 17:for(;It<14;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(bt.nlen=257+(31&Ut),Ut>>>=5,It-=5,bt.ndist=1+(31&Ut),Ut>>>=5,It-=5,bt.ncode=4+(15&Ut),Ut>>>=4,It-=4,bt.nlen>286||bt.ndist>30){wt.msg="too many length or distance symbols",bt.mode=ot;break}bt.have=0,bt.mode=18;case 18:for(;bt.have<bt.ncode;){for(;It<3;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}bt.lens[Jt[bt.have++]]=7&Ut,Ut>>>=3,It-=3}for(;bt.have<19;)bt.lens[Jt[bt.have++]]=0;if(bt.lencode=bt.lendyn,bt.lenbits=7,Rt={bits:bt.lenbits},qt=tt(0,bt.lens,0,19,bt.lencode,0,bt.work,Rt),bt.lenbits=Rt.bits,qt){wt.msg="invalid code lengths set",bt.mode=ot;break}bt.have=0,bt.mode=19;case 19:for(;bt.have<bt.nlen+bt.ndist;){for(;Qt=(Bt=bt.lencode[Ut&(1<<bt.lenbits)-1])>>>16&255,Xt=65535&Bt,!((Zt=Bt>>>24)<=It);){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(Xt<16)Ut>>>=Zt,It-=Zt,bt.lens[bt.have++]=Xt;else{if(Xt===16){for(Nt=Zt+2;It<Nt;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(Ut>>>=Zt,It-=Zt,bt.have===0){wt.msg="invalid bit length repeat",bt.mode=ot;break}xt=bt.lens[bt.have-1],Ht=3+(3&Ut),Ut>>>=2,It-=2}else if(Xt===17){for(Nt=Zt+3;It<Nt;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}It-=Zt,xt=0,Ht=3+(7&(Ut>>>=Zt)),Ut>>>=3,It-=3}else{for(Nt=Zt+7;It<Nt;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}It-=Zt,xt=0,Ht=11+(127&(Ut>>>=Zt)),Ut>>>=7,It-=7}if(bt.have+Ht>bt.nlen+bt.ndist){wt.msg="invalid bit length repeat",bt.mode=ot;break}for(;Ht--;)bt.lens[bt.have++]=xt}}if(bt.mode===ot)break;if(bt.lens[256]===0){wt.msg="invalid code -- missing end-of-block",bt.mode=ot;break}if(bt.lenbits=9,Rt={bits:bt.lenbits},qt=tt(et,bt.lens,0,bt.nlen,bt.lencode,0,bt.work,Rt),bt.lenbits=Rt.bits,qt){wt.msg="invalid literal/lengths set",bt.mode=ot;break}if(bt.distbits=6,bt.distcode=bt.distdyn,Rt={bits:bt.distbits},qt=tt(rt,bt.lens,bt.nlen,bt.ndist,bt.distcode,0,bt.work,Rt),bt.distbits=Rt.bits,qt){wt.msg="invalid distances set",bt.mode=ot;break}if(bt.mode=20,kt===6)break t;case 20:bt.mode=21;case 21:if(Pt>=6&&Kt>=258){wt.next_out=At,wt.avail_out=Kt,wt.next_in=$t,wt.avail_in=Pt,bt.hold=Ut,bt.bits=It,j(wt,zt),At=wt.next_out,Dt=wt.output,Kt=wt.avail_out,$t=wt.next_in,Tt=wt.input,Pt=wt.avail_in,Ut=bt.hold,It=bt.bits,bt.mode===st&&(bt.back=-1);break}for(bt.back=0;Qt=(Bt=bt.lencode[Ut&(1<<bt.lenbits)-1])>>>16&255,Xt=65535&Bt,!((Zt=Bt>>>24)<=It);){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(Qt&&!(240&Qt)){for(er=Zt,ir=Qt,Yt=Xt;Qt=(Bt=bt.lencode[Yt+((Ut&(1<<er+ir)-1)>>er)])>>>16&255,Xt=65535&Bt,!(er+(Zt=Bt>>>24)<=It);){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}Ut>>>=er,It-=er,bt.back+=er}if(Ut>>>=Zt,It-=Zt,bt.back+=Zt,bt.length=Xt,Qt===0){bt.mode=26;break}if(32&Qt){bt.back=-1,bt.mode=st;break}if(64&Qt){wt.msg="invalid literal/length code",bt.mode=ot;break}bt.extra=15&Qt,bt.mode=22;case 22:if(bt.extra){for(Nt=bt.extra;It<Nt;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}bt.length+=Ut&(1<<bt.extra)-1,Ut>>>=bt.extra,It-=bt.extra,bt.back+=bt.extra}bt.was=bt.length,bt.mode=23;case 23:for(;Qt=(Bt=bt.distcode[Ut&(1<<bt.distbits)-1])>>>16&255,Xt=65535&Bt,!((Zt=Bt>>>24)<=It);){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(!(240&Qt)){for(er=Zt,ir=Qt,Yt=Xt;Qt=(Bt=bt.distcode[Yt+((Ut&(1<<er+ir)-1)>>er)])>>>16&255,Xt=65535&Bt,!(er+(Zt=Bt>>>24)<=It);){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}Ut>>>=er,It-=er,bt.back+=er}if(Ut>>>=Zt,It-=Zt,bt.back+=Zt,64&Qt){wt.msg="invalid distance code",bt.mode=ot;break}bt.offset=Xt,bt.extra=15&Qt,bt.mode=24;case 24:if(bt.extra){for(Nt=bt.extra;It<Nt;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}bt.offset+=Ut&(1<<bt.extra)-1,Ut>>>=bt.extra,It-=bt.extra,bt.back+=bt.extra}if(bt.offset>bt.dmax){wt.msg="invalid distance too far back",bt.mode=ot;break}bt.mode=25;case 25:if(Kt===0)break t;if(Ht=zt-Kt,bt.offset>Ht){if((Ht=bt.offset-Ht)>bt.whave&&bt.sane){wt.msg="invalid distance too far back",bt.mode=ot;break}Ht>bt.wnext?(Ht-=bt.wnext,Vt=bt.wsize-Ht):Vt=bt.wnext-Ht,Ht>bt.length&&(Ht=bt.length),Wt=bt.window}else Wt=Dt,Vt=At-bt.offset,Ht=bt.length;Ht>Kt&&(Ht=Kt),Kt-=Ht,bt.length-=Ht;do Dt[At++]=Wt[Vt++];while(--Ht);bt.length===0&&(bt.mode=21);break;case 26:if(Kt===0)break t;Dt[At++]=bt.length,Kt--,bt.mode=21;break;case 27:if(bt.wrap){for(;It<32;){if(Pt===0)break t;Pt--,Ut|=Tt[$t++]<<It,It+=8}if(zt-=Kt,wt.total_out+=zt,bt.total+=zt,zt&&(wt.adler=bt.check=bt.flags?$(bt.check,Dt,zt,At-zt):g(bt.check,Dt,zt,At-zt)),zt=Kt,(bt.flags?Ut:ct(Ut))!==bt.check){wt.msg="incorrect data check",bt.mode=ot;break}Ut=0,It=0}bt.mode=28;case 28:if(bt.wrap&&bt.flags){for(;It<32;){if(Pt===0)break t;Pt--,Ut+=Tt[$t++]<<It,It+=8}if(Ut!==(4294967295&bt.total)){wt.msg="incorrect length check",bt.mode=ot;break}Ut=0,It=0}bt.mode=29;case 29:qt=1;break t;case ot:qt=-3;break t;case 31:return-4;default:return it}return wt.next_out=At,wt.avail_out=Kt,wt.next_in=$t,wt.avail_in=Pt,bt.hold=Ut,bt.bits=It,(bt.wsize||zt!==wt.avail_out&&bt.mode<ot&&(bt.mode<27||kt!==4))&&St(wt,wt.output,wt.next_out,zt-wt.avail_out),jt-=wt.avail_in,zt-=wt.avail_out,wt.total_in+=jt,wt.total_out+=zt,bt.total+=zt,bt.wrap&&zt&&(wt.adler=bt.check=bt.flags?$(bt.check,Dt,zt,wt.next_out-zt):g(bt.check,Dt,zt,wt.next_out-zt)),wt.data_type=bt.bits+(bt.last?64:0)+(bt.mode===st?128:0)+(bt.mode===20||bt.mode===15?256:0),(jt===0&&zt===0||kt===4)&&qt===nt&&(qt=-5),qt},inflate.inflateEnd=function(wt){if(!wt||!wt.state)return it;var kt=wt.state;return kt.window&&(kt.window=null),wt.state=null,nt},inflate.inflateGetHeader=function(wt,kt){var bt;return wt&&wt.state&&2&(bt=wt.state).wrap?(bt.head=kt,kt.done=!1,nt):it},inflate.inflateSetDictionary=function(wt,kt){var bt,Tt=kt.length;return wt&&wt.state?(bt=wt.state).wrap!==0&&bt.mode!==11?it:bt.mode===11&&g(1,kt,Tt,0)!==bt.check?-3:St(wt,kt,Tt,Tt)?(bt.mode=31,-4):(bt.havedict=1,nt):it},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),g=requireCommon(),$=requireStrings(),j=requireConstants(),tt=requireMessages(),et=requireZstream(),rt=requireGzheader(),nt=Object.prototype.toString;function it(st){if(!(this instanceof it))return new it(st);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},st||{});var ot=this.options;ot.raw&&ot.windowBits>=0&&ot.windowBits<16&&(ot.windowBits=-ot.windowBits,ot.windowBits===0&&(ot.windowBits=-15)),!(ot.windowBits>=0&&ot.windowBits<16)||st&&st.windowBits||(ot.windowBits+=32),ot.windowBits>15&&ot.windowBits<48&&(15&ot.windowBits||(ot.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new et,this.strm.avail_out=0;var lt=d.inflateInit2(this.strm,ot.windowBits);if(lt!==j.Z_OK)throw new Error(tt[lt]);if(this.header=new rt,d.inflateGetHeader(this.strm,this.header),ot.dictionary&&(typeof ot.dictionary=="string"?ot.dictionary=$.string2buf(ot.dictionary):nt.call(ot.dictionary)==="[object ArrayBuffer]"&&(ot.dictionary=new Uint8Array(ot.dictionary)),ot.raw&&(lt=d.inflateSetDictionary(this.strm,ot.dictionary))!==j.Z_OK))throw new Error(tt[lt])}function at(st,ot){var lt=new it(ot);if(lt.push(st,!0),lt.err)throw lt.msg||tt[lt.err];return lt.result}return it.prototype.push=function(st,ot){var lt,ut,ct,ft,mt,dt=this.strm,ht=this.options.chunkSize,pt=this.options.dictionary,gt=!1;if(this.ended)return!1;ut=ot===~~ot?ot:ot===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof st=="string"?dt.input=$.binstring2buf(st):nt.call(st)==="[object ArrayBuffer]"?dt.input=new Uint8Array(st):dt.input=st,dt.next_in=0,dt.avail_in=dt.input.length;do{if(dt.avail_out===0&&(dt.output=new g.Buf8(ht),dt.next_out=0,dt.avail_out=ht),(lt=d.inflate(dt,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&pt&&(lt=d.inflateSetDictionary(this.strm,pt)),lt===j.Z_BUF_ERROR&&gt===!0&&(lt=j.Z_OK,gt=!1),lt!==j.Z_STREAM_END&&lt!==j.Z_OK)return this.onEnd(lt),this.ended=!0,!1;dt.next_out&&(dt.avail_out!==0&&lt!==j.Z_STREAM_END&&(dt.avail_in!==0||ut!==j.Z_FINISH&&ut!==j.Z_SYNC_FLUSH)||(this.options.to==="string"?(ct=$.utf8border(dt.output,dt.next_out),ft=dt.next_out-ct,mt=$.buf2string(dt.output,ct),dt.next_out=ft,dt.avail_out=ht-ft,ft&&g.arraySet(dt.output,dt.output,ct,ft,0),this.onData(mt)):this.onData(g.shrinkBuf(dt.output,dt.next_out)))),dt.avail_in===0&&dt.avail_out===0&&(gt=!0)}while((dt.avail_in>0||dt.avail_out===0)&&lt!==j.Z_STREAM_END);return lt===j.Z_STREAM_END&&(ut=j.Z_FINISH),ut===j.Z_FINISH?(lt=d.inflateEnd(this.strm),this.onEnd(lt),this.ended=!0,lt===j.Z_OK):ut!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),dt.avail_out=0,!0)},it.prototype.onData=function(st){this.chunks.push(st)},it.prototype.onEnd=function(st){st===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=st,this.msg=this.strm.msg},inflate$1.Inflate=it,inflate$1.inflate=at,inflate$1.inflateRaw=function(st,ot){return(ot=ot||{}).raw=!0,at(st,ot)},inflate$1.ungzip=at,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var g={};function $(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=g,function(j,tt){(function(){var et=function(){function it(at){this.message="JPEG error: "+at}return it.prototype=new Error,it.prototype.name="JpegError",it.constructor=it,it}(),rt=function(){var it=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),at=4017,st=799,ot=3406,lt=2276,ut=1567,ct=3784,ft=5793,mt=2896;function dt(St){St==null&&(St={}),St.w==null&&(St.w=-1),this.V=St.n,this.N=St.w}function ht(St,wt){for(var kt,bt,Tt,Dt=0,$t=[],At=16;At>0&&!St[At-1];)At--;$t.push({children:[],index:0});var Pt=$t[0];for(kt=0;kt<At;kt++){for(bt=0;bt<St[kt];bt++){for((Pt=$t.pop()).children[Pt.index]=wt[Dt];Pt.index>0;)Pt=$t.pop();for(Pt.index++,$t.push(Pt);$t.length<=kt;)$t.push(Tt={children:[],index:0}),Pt.children[Pt.index]=Tt.children,Pt=Tt;Dt++}kt+1<At&&($t.push(Tt={children:[],index:0}),Pt.children[Pt.index]=Tt.children,Pt=Tt)}return $t[0].children}function pt(St,wt,kt){return 64*((St.P+1)*wt+kt)}function gt(St,wt,kt,bt,Tt,Dt,$t,At,Pt,Kt){Kt==null&&(Kt=!1);var Ut,It,jt,zt,Ht,Vt,Wt,Zt,Qt,Xt,er,ir=kt.m,Yt=kt.Z,xt=wt,qt=0,Rt=0,Nt=0,Bt=0,Lt=0,Jt=0;function vt(){if(Rt>0)return Rt--,qt>>Rt&1;if((qt=St[wt++])===255){var fr=St[wt++];if(fr){if(fr===220&&Kt){var _r=nt(St,wt+=2);if(wt+=2,_r>0&&_r!==kt.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",_r)}else if(fr===217){if(Kt){var pr=8*Lt;if(pr>0&&pr<kt.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",pr)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new et("unexpected marker")}}return Rt=7,qt>>>7}function Mt(fr){for(var _r=fr;;){switch(typeof(_r=_r[vt()])){case"number":return _r;case"object":continue}throw new et("invalid huffman sequence")}}function Ot(fr){for(var _r=0;fr>0;)_r=_r<<1|vt(),fr--;return _r}function Ft(fr){if(fr===1)return vt()===1?1:-1;var _r=Ot(fr);return _r>=1<<fr-1?_r:_r+(-1<<fr)+1}function rr(fr,_r,pr,Er,vr){var wr=pr%ir;Lt=(pr/ir|0)*fr.A+Er;var Mr=wr*fr.h+vr;_r(fr,pt(fr,Lt,Mr))}function ar(fr,_r,pr){Lt=pr/fr.P|0;var Er=pr%fr.P;_r(fr,pt(fr,Lt,Er))}var dr=bt.length;for(Wt=Yt?Dt===0?At===0?function(fr,_r){var pr=Mt(fr.J),Er=pr===0?0:Ft(pr)<<Pt;fr.D[_r]=fr.Q+=Er}:function(fr,_r){fr.D[_r]|=vt()<<Pt}:At===0?function(fr,_r){if(Nt>0)Nt--;else for(var pr=Dt,Er=$t;pr<=Er;){var vr=Mt(fr.i),wr=15&vr,Mr=vr>>4;if(wr!==0){var br=it[pr+=Mr];fr.D[_r+br]=Ft(wr)*(1<<Pt),pr++}else{if(Mr<15){Nt=Ot(Mr)+(1<<Mr)-1;break}pr+=16}}}:function(fr,_r){for(var pr,Er,vr=Dt,wr=$t,Mr=0;vr<=wr;){var br=_r+it[vr],_e=fr.D[br]<0?-1:1;switch(Bt){case 0:if(Mr=(Er=Mt(fr.i))>>4,(pr=15&Er)==0)Mr<15?(Nt=Ot(Mr)+(1<<Mr),Bt=4):(Mr=16,Bt=1);else{if(pr!==1)throw new et("invalid ACn encoding");Ut=Ft(pr),Bt=Mr?2:3}continue;case 1:case 2:fr.D[br]?fr.D[br]+=_e*(vt()<<Pt):--Mr==0&&(Bt=Bt===2?3:0);break;case 3:fr.D[br]?fr.D[br]+=_e*(vt()<<Pt):(fr.D[br]=Ut<<Pt,Bt=0);break;case 4:fr.D[br]&&(fr.D[br]+=_e*(vt()<<Pt))}vr++}Bt===4&&--Nt==0&&(Bt=0)}:function(fr,_r){var pr=Mt(fr.J),Er=pr===0?0:Ft(pr),vr=1;for(fr.D[_r]=fr.Q+=Er;vr<64;){var wr=Mt(fr.i),Mr=15&wr,br=wr>>4;if(Mr!==0){var _e=it[vr+=br];fr.D[_r+_e]=Ft(Mr),vr++}else{if(br<15)break;vr+=16}}},Qt=dr===1?bt[0].P*bt[0].c:ir*kt.R;Jt<=Qt;){var gr=Tt?Math.min(Qt-Jt,Tt):Qt;if(gr>0){for(jt=0;jt<dr;jt++)bt[jt].Q=0;if(Nt=0,dr===1)for(It=bt[0],Vt=0;Vt<gr;Vt++)ar(It,Wt,Jt),Jt++;else for(Vt=0;Vt<gr;Vt++){for(jt=0;jt<dr;jt++)for(Xt=(It=bt[jt]).h,er=It.A,zt=0;zt<er;zt++)for(Ht=0;Ht<Xt;Ht++)rr(It,Wt,Jt,zt,Ht);Jt++}}if(Rt=0,!(Zt=yt(St,wt))||(Zt.u&&(wt=Zt.offset),!(Zt.M>=65488&&Zt.M<=65495)))break;wt+=2}return wt-xt}function _t(St,wt,kt){var bt,Tt,Dt,$t,At,Pt,Kt,Ut,It,jt,zt,Ht,Vt,Wt,Zt,Qt,Xt,er=St.$,ir=St.D;if(!er)throw new et("missing required Quantization Table.");for(var Yt=0;Yt<64;Yt+=8)It=ir[wt+Yt],jt=ir[wt+Yt+1],zt=ir[wt+Yt+2],Ht=ir[wt+Yt+3],Vt=ir[wt+Yt+4],Wt=ir[wt+Yt+5],Zt=ir[wt+Yt+6],Qt=ir[wt+Yt+7],It*=er[Yt],jt|zt|Ht|Vt|Wt|Zt|Qt?(jt*=er[Yt+1],zt*=er[Yt+2],Ht*=er[Yt+3],Vt*=er[Yt+4],Wt*=er[Yt+5],Zt*=er[Yt+6],Qt*=er[Yt+7],Tt=(bt=(bt=ft*It+128>>8)+(Tt=ft*Vt+128>>8)+1>>1)-Tt,Xt=(Dt=zt)*ct+($t=Zt)*ut+128>>8,Dt=Dt*ut-$t*ct+128>>8,Kt=(At=(At=mt*(jt-Qt)+128>>8)+(Kt=Wt<<4)+1>>1)-Kt,Pt=(Ut=(Ut=mt*(jt+Qt)+128>>8)+(Pt=Ht<<4)+1>>1)-Pt,$t=(bt=bt+($t=Xt)+1>>1)-$t,Dt=(Tt=Tt+Dt+1>>1)-Dt,Xt=At*lt+Ut*ot+2048>>12,At=At*ot-Ut*lt+2048>>12,Ut=Xt,Xt=Pt*st+Kt*at+2048>>12,Pt=Pt*at-Kt*st+2048>>12,Kt=Xt,kt[Yt]=bt+Ut,kt[Yt+7]=bt-Ut,kt[Yt+1]=Tt+Kt,kt[Yt+6]=Tt-Kt,kt[Yt+2]=Dt+Pt,kt[Yt+5]=Dt-Pt,kt[Yt+3]=$t+At,kt[Yt+4]=$t-At):(Xt=ft*It+512>>10,kt[Yt]=Xt,kt[Yt+1]=Xt,kt[Yt+2]=Xt,kt[Yt+3]=Xt,kt[Yt+4]=Xt,kt[Yt+5]=Xt,kt[Yt+6]=Xt,kt[Yt+7]=Xt);for(var xt=0;xt<8;++xt)It=kt[xt],(jt=kt[xt+8])|(zt=kt[xt+16])|(Ht=kt[xt+24])|(Vt=kt[xt+32])|(Wt=kt[xt+40])|(Zt=kt[xt+48])|(Qt=kt[xt+56])?(Tt=(bt=4112+((bt=ft*It+2048>>12)+(Tt=ft*Vt+2048>>12)+1>>1))-Tt,Xt=(Dt=zt)*ct+($t=Zt)*ut+2048>>12,Dt=Dt*ut-$t*ct+2048>>12,$t=Xt,Kt=(At=(At=mt*(jt-Qt)+2048>>12)+(Kt=Wt)+1>>1)-Kt,Pt=(Ut=(Ut=mt*(jt+Qt)+2048>>12)+(Pt=Ht)+1>>1)-Pt,Xt=At*lt+Ut*ot+2048>>12,At=At*ot-Ut*lt+2048>>12,Ut=Xt,Xt=Pt*st+Kt*at+2048>>12,Pt=Pt*at-Kt*st+2048>>12,(It=(bt=bt+$t+1>>1)+Ut)<16?It=0:It>=4080?It=255:It>>=4,(jt=(Tt=Tt+Dt+1>>1)+(Kt=Xt))<16?jt=0:jt>=4080?jt=255:jt>>=4,(zt=(Dt=Tt-Dt)+Pt)<16?zt=0:zt>=4080?zt=255:zt>>=4,(Ht=($t=bt-$t)+At)<16?Ht=0:Ht>=4080?Ht=255:Ht>>=4,(Vt=$t-At)<16?Vt=0:Vt>=4080?Vt=255:Vt>>=4,(Wt=Dt-Pt)<16?Wt=0:Wt>=4080?Wt=255:Wt>>=4,(Zt=Tt-Kt)<16?Zt=0:Zt>=4080?Zt=255:Zt>>=4,(Qt=bt-Ut)<16?Qt=0:Qt>=4080?Qt=255:Qt>>=4,ir[wt+xt]=It,ir[wt+xt+8]=jt,ir[wt+xt+16]=zt,ir[wt+xt+24]=Ht,ir[wt+xt+32]=Vt,ir[wt+xt+40]=Wt,ir[wt+xt+48]=Zt,ir[wt+xt+56]=Qt):(Xt=(Xt=ft*It+8192>>14)<-2040?0:Xt>=2024?255:Xt+2056>>4,ir[wt+xt]=Xt,ir[wt+xt+8]=Xt,ir[wt+xt+16]=Xt,ir[wt+xt+24]=Xt,ir[wt+xt+32]=Xt,ir[wt+xt+40]=Xt,ir[wt+xt+48]=Xt,ir[wt+xt+56]=Xt)}function Et(St,wt){for(var kt=wt.P,bt=wt.c,Tt=new Int16Array(64),Dt=0;Dt<bt;Dt++)for(var $t=0;$t<kt;$t++)_t(wt,pt(wt,Dt,$t),Tt);return wt.D}function yt(St,wt,kt){kt==null&&(kt=wt);var bt=St.length-1,Tt=kt<wt?kt:wt;if(wt>=bt)return null;var Dt=nt(St,wt);if(Dt>=65472&&Dt<=65534)return{u:null,M:Dt,offset:wt};for(var $t=nt(St,Tt);!($t>=65472&&$t<=65534);){if(++Tt>=bt)return null;$t=nt(St,Tt)}return{u:Dt.toString(16),M:$t,offset:Tt}}return dt.prototype={parse(St,wt){wt==null&&(wt={});var kt,bt,Tt=wt.F,Dt=0,$t=null,At=null,Pt=0;function Kt(){var nr=nt(St,Dt),ur=(Dt+=2)+nr-2,Gt=yt(St,ur,Dt);Gt&&Gt.u&&(ur=Gt.offset);var hr=St.subarray(Dt,ur);return Dt+=hr.length,hr}function Ut(nr){for(var ur=Math.ceil(nr.o/8/nr.X),Gt=Math.ceil(nr.s/8/nr.B),hr=0;hr<nr.W.length;hr++){ar=nr.W[hr];var kr=Math.ceil(Math.ceil(nr.o/8)*ar.h/nr.X),Ct=Math.ceil(Math.ceil(nr.s/8)*ar.A/nr.B),cr=ur*ar.h,or=64*(Gt*ar.A)*(cr+1);ar.D=new Int16Array(or),ar.P=kr,ar.c=Ct}nr.m=ur,nr.R=Gt}var It=[],jt=[],zt=[],Ht=nt(St,Dt);if(Dt+=2,Ht!==65496)throw new et("SOI not found");Ht=nt(St,Dt),Dt+=2;t:for(;Ht!==65497;){var Vt,Wt,Zt;switch(Ht){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Qt=Kt();Ht===65504&&Qt[0]===74&&Qt[1]===70&&Qt[2]===73&&Qt[3]===70&&Qt[4]===0&&($t={version:{d:Qt[5],T:Qt[6]},K:Qt[7],j:Qt[8]<<8|Qt[9],H:Qt[10]<<8|Qt[11],S:Qt[12],I:Qt[13],C:Qt.subarray(14,14+3*Qt[12]*Qt[13])}),Ht===65518&&Qt[0]===65&&Qt[1]===100&&Qt[2]===111&&Qt[3]===98&&Qt[4]===101&&(At={version:Qt[5]<<8|Qt[6],k:Qt[7]<<8|Qt[8],q:Qt[9]<<8|Qt[10],a:Qt[11]});break;case 65499:for(var Xt=nt(St,Dt)+(Dt+=2)-2;Dt<Xt;){var er=St[Dt++],ir=new Uint16Array(64);if(er>>4){if(er>>4!=1)throw new et("DQT - invalid table spec");for(Wt=0;Wt<64;Wt++)ir[it[Wt]]=nt(St,Dt),Dt+=2}else for(Wt=0;Wt<64;Wt++)ir[it[Wt]]=St[Dt++];It[15&er]=ir}break;case 65472:case 65473:case 65474:if(kt)throw new et("Only single frame JPEGs supported");Dt+=2,(kt={}).G=Ht===65473,kt.Z=Ht===65474,kt.precision=St[Dt++];var Yt,xt=nt(St,Dt),qt=0,Rt=0;Dt+=2,kt.s=Tt||xt,kt.o=nt(St,Dt),Dt+=2,kt.W=[],kt._={};var Nt=St[Dt++];for(Vt=0;Vt<Nt;Vt++){Yt=St[Dt];var Bt=St[Dt+1]>>4,Lt=15&St[Dt+1];qt<Bt&&(qt=Bt),Rt<Lt&&(Rt=Lt);var Jt=St[Dt+2];Zt=kt.W.push({h:Bt,A:Lt,L:Jt,$:null}),kt._[Yt]=Zt-1,Dt+=3}kt.X=qt,kt.B=Rt,Ut(kt);break;case 65476:var vt=nt(St,Dt);for(Dt+=2,Vt=2;Vt<vt;){var Mt=St[Dt++],Ot=new Uint8Array(16),Ft=0;for(Wt=0;Wt<16;Wt++,Dt++)Ft+=Ot[Wt]=St[Dt];var rr=new Uint8Array(Ft);for(Wt=0;Wt<Ft;Wt++,Dt++)rr[Wt]=St[Dt];Vt+=17+Ft,(Mt>>4?jt:zt)[15&Mt]=ht(Ot,rr)}break;case 65501:bt=nt(St,Dt+=2),Dt+=2;break;case 65498:var ar,dr=++Pt==1&&!Tt;Dt+=2;var gr=St[Dt++],fr=[];for(Vt=0;Vt<gr;Vt++){var _r=St[Dt++],pr=kt._[_r];(ar=kt.W[pr]).index=_r;var Er=St[Dt++];ar.J=zt[Er>>4],ar.i=jt[15&Er],fr.push(ar)}var vr=St[Dt++],wr=St[Dt++],Mr=St[Dt++];try{var br=gt(St,Dt,kt,fr,bt,vr,wr,Mr>>4,15&Mr,dr);Dt+=br}catch(nr){if(nr instanceof DNLMarkerError)return this.parse(St,{F:nr.s});if(nr instanceof EOIMarkerError)break t;throw nr}break;case 65500:Dt+=4;break;case 65535:St[Dt]!==255&&Dt--;break;default:var _e=yt(St,Dt-2,Dt-3);if(_e&&_e.u){Dt=_e.offset;break}if(Dt>=St.length-1)break t;throw new et("JpegImage.parse - unknown marker: "+Ht.toString(16))}Ht=nt(St,Dt),Dt+=2}for(this.width=kt.o,this.height=kt.s,this.g=$t,this.b=At,this.W=[],Vt=0;Vt<kt.W.length;Vt++){var mr=It[(ar=kt.W[Vt]).L];mr&&(ar.$=mr),this.W.push({index:ar.index,e:Et(0,ar),l:ar.h/kt.X,t:ar.A/kt.B,P:ar.P,c:ar.c})}this.p=this.W.length},Y(St,wt,kt){kt==null&&(kt=!1);var bt,Tt,Dt,$t,At,Pt,Kt,Ut,It,jt,zt,Ht,Vt=this.width/St,Wt=this.height/wt,Zt=0,Qt=this.W.length,Xt=St*wt*Qt,er=new Uint8ClampedArray(Xt),ir=new Uint32Array(St),Yt=4294967288;for(Kt=0;Kt<Qt;Kt++){if(Tt=(bt=this.W[Kt]).l*Vt,Dt=bt.t*Wt,Zt=Kt,zt=bt.e,$t=bt.P+1<<3,Tt!==Ht){for(At=0;At<St;At++)Ut=0|At*Tt,ir[At]=(Ut&Yt)<<3|7&Ut;Ht=Tt}for(Pt=0;Pt<wt;Pt++)for(jt=$t*((Ut=0|Pt*Dt)&Yt)|(7&Ut)<<3,At=0;At<St;At++)er[Zt]=zt[jt+ir[At]],Zt+=Qt}var xt=this.V;if(kt||Qt!==4||xt||(xt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),xt)for(Kt=0;Kt<Xt;)for(Ut=0,It=0;Ut<Qt;Ut++,Kt++,It+=2)er[Kt]=(er[Kt]*xt[It]>>8)+xt[It+1];return er},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(St){for(var wt,kt,bt,Tt=0,Dt=St.length;Tt<Dt;Tt+=3)wt=St[Tt],kt=St[Tt+1],bt=St[Tt+2],St[Tt]=wt-179.456+1.402*bt,St[Tt+1]=wt+135.459-.344*kt-.714*bt,St[Tt+2]=wt-226.816+1.772*kt;return St},O:function(St){for(var wt,kt,bt,Tt,Dt=0,$t=0,At=St.length;$t<At;$t+=4)wt=St[$t],kt=St[$t+1],bt=St[$t+2],Tt=St[$t+3],St[Dt++]=kt*(-660635669420364e-19*kt+.000437130475926232*bt-54080610064599e-18*wt+.00048449797120281*Tt-.154362151871126)-122.67195406894+bt*(-.000957964378445773*bt+.000817076911346625*wt-.00477271405408747*Tt+1.53380253221734)+wt*(.000961250184130688*wt-.00266257332283933*Tt+.48357088451265)+Tt*(-.000336197177618394*Tt+.484791561490776),St[Dt++]=107.268039397724+kt*(219927104525741e-19*kt-.000640992018297945*bt+.000659397001245577*wt+.000426105652938837*Tt-.176491792462875)+bt*(-.000778269941513683*bt+.00130872261408275*wt+.000770482631801132*Tt-.151051492775562)+wt*(.00126935368114843*wt-.00265090189010898*Tt+.25802910206845)+Tt*(-.000318913117588328*Tt-.213742400323665),St[Dt++]=kt*(-.000570115196973677*kt-263409051004589e-19*bt+.0020741088115012*wt-.00288260236853442*Tt+.814272968359295)-20.810012546947+bt*(-153496057440975e-19*bt-.000132689043961446*wt+.000560833691242812*Tt-.195152027534049)+wt*(.00174418132927582*wt-.00255243321439347*Tt+.116935020465145)+Tt*(-.000343531996510555*Tt+.24165260232407);return St.subarray(0,Dt)},r:function(St){for(var wt,kt,bt,Tt=0,Dt=St.length;Tt<Dt;Tt+=4)wt=St[Tt],kt=St[Tt+1],bt=St[Tt+2],St[Tt]=434.456-wt-1.402*bt,St[Tt+1]=119.541-wt+.344*kt+.714*bt,St[Tt+2]=481.816-wt-1.772*kt;return St},U:function(St){for(var wt,kt,bt,Tt,Dt=0,$t=0,At=St.length;$t<At;$t+=4)wt=St[$t],kt=St[$t+1],bt=St[$t+2],Tt=St[$t+3],St[Dt++]=255+wt*(-6747147073602441e-20*wt+.0008379262121013727*kt+.0002894718188643294*bt+.003264231057537806*Tt-1.1185611867203937)+kt*(26374107616089405e-21*kt-8626949158638572e-20*bt-.0002748769067499491*Tt-.02155688794978967)+bt*(-3878099212869363e-20*bt-.0003267808279485286*Tt+.0686742238595345)-Tt*(.0003361971776183937*Tt+.7430659151342254),St[Dt++]=255+wt*(.00013596372813588848*wt+.000924537132573585*kt+.00010567359618683593*bt+.0004791864687436512*Tt-.3109689587515875)+kt*(-.00023545346108370344*kt+.0002702845253534714*bt+.0020200308977307156*Tt-.7488052167015494)+bt*(6834815998235662e-20*bt+.00015168452363460973*Tt-.09751927774728933)-Tt*(.0003189131175883281*Tt+.7364883807733168),St[Dt++]=255+wt*(13598650411385307e-21*wt+.00012423956175490851*kt+.0004751985097583589*bt-36729317476630422e-22*Tt-.05562186980264034)+kt*(.00016141380598724676*kt+.0009692239130725186*bt+.0007782692450036253*Tt-.44015232367526463)+bt*(5068882914068769e-22*bt+.0017778369011375071*Tt-.7591454649749609)-Tt*(.0003435319965105553*Tt+.7063770186160144);return St.subarray(0,Dt)},getData:function(St){var wt=St.width,kt=St.height,bt=St.forceRGB,Tt=St.isSourcePDF;if(this.p>4)throw new et("Unsupported color mode");var Dt=this.Y(wt,kt,Tt);if(this.p===1&&bt){for(var $t=Dt.length,At=new Uint8ClampedArray(3*$t),Pt=0,Kt=0;Kt<$t;Kt++){var Ut=Dt[Kt];At[Pt++]=Ut,At[Pt++]=Ut,At[Pt++]=Ut}return At}if(this.p===3&&this.f)return this.z(Dt);if(this.p===4){if(this.f)return bt?this.O(Dt):this.r(Dt);if(bt)return this.U(Dt)}return Dt}},dt}();function nt(it,at){return it[at]<<8|it[at+1]}j.JpegDecoder=rt})(),j.encodeImage=function(et,rt,nt,it){var at={t256:[rt],t257:[nt],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[nt],t279:[rt*nt*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(it)for(var st in it)at[st]=it[st];var ot=new Uint8Array(j.encode([at])),lt=new Uint8Array(et),ut=new Uint8Array(1e3+rt*nt*4);for(st=0;st<ot.length;st++)ut[st]=ot[st];for(st=0;st<lt.length;st++)ut[1e3+st]=lt[st];return ut.buffer},j.encode=function(et){var rt=new Uint8Array(2e4),nt=4,it=j._binBE;rt[0]=rt[1]=77,it.writeUshort(rt,2,42);var at=8;it.writeUint(rt,nt,at),nt+=4;for(var st=0;st<et.length;st++){var ot=j._writeIFD(it,j._types.basic,rt,at,et[st]);at=ot[1],st<et.length-1&&(3&at&&(at+=4-(3&at)),it.writeUint(rt,ot[0],at))}return rt.slice(0,at).buffer},j.decode=function(et,rt){rt==null&&(rt={parseMN:!0,debug:!1});var nt=new Uint8Array(et),it=0,at=j._binBE.readASCII(nt,it,2);it+=2;var st=at=="II"?j._binLE:j._binBE;st.readUshort(nt,it),it+=2;var ot=st.readUint(nt,it);it+=4;for(var lt=[];;){var ut=st.readUshort(nt,ot),ct=st.readUshort(nt,ot+4);if(ut!=0&&(ct<1||13<ct)){$("error in TIFF");break}if(j._readIFD(st,nt,ot,lt,0,rt),(ot=st.readUint(nt,ot+2+12*ut))==0)break}return lt},j.decodeImage=function(et,rt,nt){if(!rt.data){var it=new Uint8Array(et),at=j._binBE.readASCII(it,0,2);if(rt.t256!=null){rt.isLE=at=="II",rt.width=rt.t256[0],rt.height=rt.t257[0];var st=rt.t259?rt.t259[0]:1,ot=rt.t266?rt.t266[0]:1;rt.t284&&rt.t284[0]==2&&$("PlanarConfiguration 2 should not be used!"),st==7&&rt.t258&&rt.t258.length>3&&(rt.t258=rt.t258.slice(0,3));var lt=rt.t277?rt.t277[0]:1,ut=(rt.t258?rt.t258[0]:1)*lt;st==1&&rt.t279!=null&&rt.t278&&rt.t262[0]==32803&&(ut=Math.round(8*rt.t279[0]/(rt.width*rt.t278[0]))),rt.t50885&&rt.t50885[0]==4&&(ut=3*rt.t258[0]);var ct=8*Math.ceil(rt.width*ut/8),ft=rt.t273;(ft==null||rt.t322)&&(ft=rt.t324);var mt=rt.t279;st==1&&ft.length==1&&(mt=[rt.height*(ct>>>3)]),(mt==null||rt.t322)&&(mt=rt.t325);var dt=new Uint8Array(rt.height*(ct>>>3)),ht=0;if(rt.t322!=null){var pt=rt.t322[0],gt=rt.t323[0],_t=Math.floor((rt.width+pt-1)/pt),Et=Math.floor((rt.height+gt-1)/gt),yt=new Uint8Array(0|Math.ceil(pt*gt*ut/8));console.log("====",_t,Et);for(var St=0;St<Et;St++)for(var wt=0;wt<_t;wt++){var kt=St*_t+wt;yt.fill(0),j.decode._decompress(rt,nt,it,ft[kt],mt[kt],st,yt,0,ot,pt,gt),st==6?dt=yt:j._copyTile(yt,0|Math.ceil(pt*ut/8),gt,dt,0|Math.ceil(rt.width*ut/8),rt.height,0|Math.ceil(wt*pt*ut/8),St*gt)}ht=8*dt.length}else{if(ft==null)return;var bt=rt.t278?rt.t278[0]:rt.height;for(bt=Math.min(bt,rt.height),kt=0;kt<ft.length;kt++)j.decode._decompress(rt,nt,it,ft[kt],mt[kt],st,dt,0|Math.ceil(ht/8),ot,rt.width,bt),ht+=ct*bt;ht=Math.min(ht,8*dt.length)}rt.data=new Uint8Array(dt.buffer,0,0|Math.ceil(ht/8))}}},j.decode._decompress=function(et,rt,nt,it,at,st,ot,lt,ut,ct,ft){if(et.t271&&et.t271[0]=="Panasonic"&&et.t45&&et.t45[0]==6&&(st=34316),st==1)for(var mt=0;mt<at;mt++)ot[lt+mt]=nt[it+mt];else if(st==2)j.decode._decodeG2(nt,it,at,ot,lt,ct,ut);else if(st==3)j.decode._decodeG3(nt,it,at,ot,lt,ct,ut,!!et.t292&&!(1&~et.t292[0]));else if(st==4)j.decode._decodeG4(nt,it,at,ot,lt,ct,ut);else if(st==5)j.decode._decodeLZW(nt,it,at,ot,lt,8);else if(st==6)j.decode._decodeOldJPEG(et,nt,it,at,ot,lt);else if(st==7||st==34892)j.decode._decodeNewJPEG(et,nt,it,at,ot,lt);else if(st==8||st==32946){var dt=new Uint8Array(nt.buffer,it+2,at-6),ht=tt.inflateRaw(dt);lt+ht.length<=ot.length&&ot.set(ht,lt)}else st==9?j.decode._decodeVC5(nt,it,at,ot,lt,et.t33422):st==32767?j.decode._decodeARW(et,nt,it,at,ot,lt):st==32773?j.decode._decodePackBits(nt,it,at,ot,lt):st==32809?j.decode._decodeThunder(nt,it,at,ot,lt):st==34316?j.decode._decodePanasonic(et,nt,it,at,ot,lt):st==34713?j.decode._decodeNikon(et,rt,nt,it,at,ot,lt):st==34676?j.decode._decodeLogLuv32(et,nt,it,at,ot,lt):$("Unknown compression",st);var pt=et.t258?Math.min(32,et.t258[0]):1,gt=et.t277?et.t277[0]:1,_t=pt*gt>>>3,Et=Math.ceil(pt*gt*ct/8);if(pt==16&&!et.isLE&&et.t33422==null)for(var yt=0;yt<ft;yt++)for(var St=lt+yt*Et,wt=1;wt<Et;wt+=2){var kt=ot[St+wt];ot[St+wt]=ot[St+wt-1],ot[St+wt-1]=kt}if(et.t317&&et.t317[0]==2)for(yt=0;yt<ft;yt++){var bt=lt+yt*Et;if(pt==16)for(mt=_t;mt<Et;mt+=2){var Tt=(ot[bt+mt+1]<<8|ot[bt+mt])+(ot[bt+mt-_t+1]<<8|ot[bt+mt-_t]);ot[bt+mt]=255&Tt,ot[bt+mt+1]=Tt>>>8&255}else if(gt==3)for(mt=3;mt<Et;mt+=3)ot[bt+mt]=ot[bt+mt]+ot[bt+mt-3]&255,ot[bt+mt+1]=ot[bt+mt+1]+ot[bt+mt-2]&255,ot[bt+mt+2]=ot[bt+mt+2]+ot[bt+mt-1]&255;else for(mt=_t;mt<Et;mt++)ot[bt+mt]=ot[bt+mt]+ot[bt+mt-_t]&255}},j.decode._decodePanasonic=function(et,rt,nt,it,at,st){var ot,lt,ut,ct,ft,mt,dt,ht,pt=rt.buffer,gt=et.t2[0],_t=et.t3[0],Et=et.t10[0],yt=et.t45[0],St=0,wt=0,kt=0,bt=0,Tt=yt==6?new Uint32Array(18):new Uint8Array(16),Dt=[0,0],$t=[0,0],At=0,Pt=new Uint8Array(16384),Kt=new Uint16Array(at.buffer);function Ut(Jt){if(kt==0){var vt=new Uint8Array(pt,nt+wt+8184,8200),Mt=new Uint8Array(pt,nt+wt,8184);Pt.set(vt),Pt.set(Mt,vt.length),wt+=16384}if(yt!=5)return(Pt[bt=(kt=kt-Jt&131071)>>3^16368]|Pt[bt+1]<<8)>>(7&kt)&~(-1<<Jt);for(ot=0;ot<16;ot++)Tt[ot]=Pt[kt++],kt&=16383}function It(Jt){return Pt[kt+15-Jt]}function jt(){Dt[0]=0,Dt[1]=0,$t[0]=0,$t[1]=0}if(yt==7)throw yt;if(yt==6){var zt=Et==12,Ht=zt?function(){Tt[0]=It(0)<<4|It(1)>>4,Tt[1]=4095&((15&It(1))<<8|It(2)),Tt[2]=It(3)>>6&3,Tt[3]=(63&It(3))<<2|It(4)>>6,Tt[4]=(63&It(4))<<2|It(5)>>6,Tt[5]=(63&It(5))<<2|It(6)>>6,Tt[6]=It(6)>>4&3,Tt[7]=(15&It(6))<<4|It(7)>>4,Tt[8]=(15&It(7))<<4|It(8)>>4,Tt[9]=(15&It(8))<<4|It(9)>>4,Tt[10]=It(9)>>2&3,Tt[11]=(3&It(9))<<6|It(10)>>2,Tt[12]=(3&It(10))<<6|It(11)>>2,Tt[13]=(3&It(11))<<6|It(12)>>2,Tt[14]=3&It(12),Tt[15]=It(13),Tt[16]=It(14),Tt[17]=It(15),kt+=16,bt=0}:function(){Tt[0]=It(0)<<6|It(1)>>2,Tt[1]=16383&((3&It(1))<<12|It(2)<<4|It(3)>>4),Tt[2]=It(3)>>2&3,Tt[3]=(3&It(3))<<8|It(4),Tt[4]=It(5)<<2|It(6)>>6,Tt[5]=(63&It(6))<<4|It(7)>>4,Tt[6]=It(7)>>2&3,Tt[7]=(3&It(7))<<8|It(8),Tt[8]=It(9)<<2&1020|It(10)>>6,Tt[9]=1023&(It(10)<<4|It(11)>>4),Tt[10]=It(11)>>2&3,Tt[11]=(3&It(11))<<8|It(12),Tt[12]=1023&(It(13)<<2&1020|It(14)>>6),Tt[13]=1023&(It(14)<<4|It(15)>>4),kt+=16,bt=0},Vt=zt?14:11,Wt=zt?128:512,Zt=zt?2048:8192,Qt=zt?16383:65535,Xt=zt?4095:16383,er=gt/Vt,ir=16*er,Yt=zt?18:14;for(mt=0;mt<_t-15;mt+=16){var xt=Math.min(16,_t-mt),qt=ir*xt;for(Pt=new Uint8Array(pt,nt+St,qt),kt=0,St+=qt,ht=0,dt=0;ht<xt;ht++,dt=0){At=(mt+ht)*gt;for(var Rt=0;Rt<er;Rt++)for(Ht(),jt(),ut=0,ft=0,ot=0;ot<Vt;ot++){if(ct=1&ot,ot%3==2){var Nt=bt<Yt?Tt[bt++]:0;Nt==3&&(Nt=4),ft=Wt<<Nt,ut=1<<Nt}var Bt=bt<Yt?Tt[bt++]:0;Dt[ct]?(Bt*=ut,ft<Zt&&$t[ct]>ft&&(Bt+=$t[ct]-ft),$t[ct]=Bt):(Dt[ct]=Bt,Bt?$t[ct]=Bt:Bt=$t[ct]),Kt[At+dt++]=Bt-15<=Qt?Bt-15&Qt:Bt+2147483633>>31&Xt}}}}else if(yt==5){var Lt=Et==12?10:9;for(mt=0;mt<_t;mt++)for(dt=0;dt<gt;dt+=Lt)Ut(0),Et==12?(Kt[At++]=((15&Tt[1])<<8)+Tt[0],Kt[At++]=16*Tt[2]+(Tt[1]>>4),Kt[At++]=((15&Tt[4])<<8)+Tt[3],Kt[At++]=16*Tt[5]+(Tt[4]>>4),Kt[At++]=((15&Tt[7])<<8)+Tt[6],Kt[At++]=16*Tt[8]+(Tt[7]>>4),Kt[At++]=((15&Tt[10])<<8)+Tt[9],Kt[At++]=16*Tt[11]+(Tt[10]>>4),Kt[At++]=((15&Tt[13])<<8)+Tt[12],Kt[At++]=16*Tt[14]+(Tt[13]>>4)):Et==14&&(Kt[At++]=Tt[0]+((63&Tt[1])<<8),Kt[At++]=(Tt[1]>>6)+4*Tt[2]+((15&Tt[3])<<10),Kt[At++]=(Tt[3]>>4)+16*Tt[4]+((3&Tt[5])<<12),Kt[At++]=((252&Tt[5])>>2)+(Tt[6]<<6),Kt[At++]=Tt[7]+((63&Tt[8])<<8),Kt[At++]=(Tt[8]>>6)+4*Tt[9]+((15&Tt[10])<<10),Kt[At++]=(Tt[10]>>4)+16*Tt[11]+((3&Tt[12])<<12),Kt[At++]=((252&Tt[12])>>2)+(Tt[13]<<6),Kt[At++]=Tt[14]+((63&Tt[15])<<8))}else{if(yt!=4)throw yt;for(mt=0;mt<_t;mt++)for(dt=0;dt<gt;dt++)ct=1&(ot=dt%14),ot==0&&jt(),ot%3==2&&(ut=4>>3-Ut(2)),$t[ct]?(lt=Ut(8))!=0&&(Dt[ct]-=128<<ut,(Dt[ct]<0||ut==4)&&(Dt[ct]&=~(-1<<ut)),Dt[ct]+=lt<<ut):($t[ct]=Ut(8),($t[ct]||ot>11)&&(Dt[ct]=$t[ct]<<4|Ut(4))),Kt[At++]=Dt[1&dt]}},j.decode._decodeVC5=function(){var et,rt,nt,it=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],at=[3,3,3,3,2,2,2,1,1,1];function st(ht){var pt=ht[1],gt=ht[0][pt>>>3]>>>7-(7&pt)&1;return ht[1]++,gt}function ot(ht,pt){if(et==null){et={};for(var gt=0;gt<it.length;gt+=4)et[it[gt+1]]=it.slice(gt,gt+4)}for(var _t=st(ht),Et=et[_t];Et==null;)_t=_t<<1|st(ht),Et=et[_t];var yt=Et[3];yt!=0&&(yt=st(ht)==0?yt:-yt),pt[0]=Et[2],pt[1]=yt}function lt(ht,pt){for(var gt=0;gt<pt;gt++)1&~ht||ht++,ht>>>=1;return ht}function ut(ht,pt){return ht>>pt}function ct(ht,pt,gt,_t,Et,yt){pt[gt]=ut(ut(11*ht[Et]-4*ht[Et+yt]+ht[Et+yt+yt]+4,3)+ht[_t],1),pt[gt+yt]=ut(ut(5*ht[Et]+4*ht[Et+yt]-ht[Et+yt+yt]+4,3)-ht[_t],1)}function ft(ht,pt,gt,_t,Et,yt){var St=ht[Et-yt]-ht[Et+yt],wt=ht[Et],kt=ht[_t];pt[gt]=ut(ut(St+4,3)+wt+kt,1),pt[gt+yt]=ut(ut(4-St,3)+wt-kt,1)}function mt(ht,pt,gt,_t,Et,yt){pt[gt]=ut(ut(5*ht[Et]+4*ht[Et-yt]-ht[Et-yt-yt]+4,3)+ht[_t],1),pt[gt+yt]=ut(ut(11*ht[Et]-4*ht[Et-yt]+ht[Et-yt-yt]+4,3)-ht[_t],1)}function dt(ht){return ht=nt[ht=ht<0?0:ht>4095?4095:ht]>>>2}return function(ht,pt,gt,_t,Et,yt){_t=new Uint16Array(_t.buffer);var St,wt,kt,bt,Tt,Dt,$t,At,Pt=Date.now(),Kt=j._binBE,Ut=pt+gt;pt+=4;for(var It=yt[0]==1;pt<Ut;){var jt=Kt.readShort(ht,pt),zt=Kt.readUshort(ht,pt+2);if(pt+=4,jt==12)er=zt;else if(jt==20)St=zt;else if(jt==21)wt=zt;else if(jt==48)kt=zt;else if(jt==53)bt=zt;else if(jt!=35){if(jt==62)Tt=zt;else if(jt!=101){if(jt==109)Dt=zt;else if(jt!=84){if(jt!=106){if(jt!=107){if(jt!=108){if(jt!=102){if(jt==104)pr=zt;else if(jt!=105){var Ht=jt<0?-jt:jt,Vt=65280&Ht,Wt=0;if(24576&Ht&&(8192&Ht?(Wt=65535&zt,Wt+=(255&Ht)<<16):Wt=65535&zt),24576&~Ht){if(Ht==16388)pt+=4*Wt;else if(Vt!=8192&&Vt!=8448&&Vt!=9216)throw Ht.toString(16)}else{if($t==null){$t=[];for(var Zt=0;Zt<4;Zt++)$t[Zt]=new Int16Array((St>>>1)*(wt>>>1));for(At=new Int16Array((St>>>1)*(wt>>>1)),rt=new Int16Array(1024),Zt=0;Zt<1024;Zt++){var Qt=Zt-512,Xt=Math.abs(Qt),er=Math.floor(768*Xt*Xt*Xt/16581375)+Xt;rt[Zt]=Math.sign(Qt)*er}for(nt=new Uint16Array(4096),Zt=0;Zt<4096;Zt++){var ir=Zt,Yt=65535*(Math.pow(113,ir/4095)-1)/112;nt[Zt]=Math.min(Yt,65535)}}var xt=$t[Tt],qt=lt(St,1+at[kt]),Rt=lt(wt,1+at[kt]);if(kt==0)for(var Nt=0;Nt<Rt;Nt++)for(var Bt=0;Bt<qt;Bt++){var Lt=pt+2*(Nt*qt+Bt);xt[Nt*(St>>>1)+Bt]=ht[Lt]<<8|ht[Lt+1]}else{var Jt=[ht,8*pt],vt=[],Mt=0,Ot=qt*Rt,Ft=[0,0],rr=0;for(zt=0;Mt<Ot;)for(ot(Jt,Ft),rr=Ft[0],zt=Ft[1];rr>0;)vt[Mt++]=zt,rr--;var ar=(kt-1)%3,dr=ar!=1?qt:0,gr=ar!=0?Rt:0;for(Nt=0;Nt<Rt;Nt++){var fr=(Nt+gr)*(St>>>1)+dr,_r=Nt*qt;for(Bt=0;Bt<qt;Bt++)xt[fr+Bt]=rt[vt[_r+Bt]+512]*bt}if(ar==2){var pr=St>>>1,Er=2*qt,vr=2*Rt;for(Nt=0;Nt<Rt;Nt++)for(Bt=0;Bt<Er;Bt++){Zt=2*Nt*pr+Bt;var wr=Rt*pr+(br=Nt*pr+Bt);Nt==0?ct(xt,At,Zt,wr,br,pr):Nt==Rt-1?mt(xt,At,Zt,wr,br,pr):ft(xt,At,Zt,wr,br,pr)}var Mr=xt;for(xt=At,At=Mr,Nt=0;Nt<vr;Nt++)for(Bt=0;Bt<qt;Bt++){var br;Zt=Nt*pr+2*Bt,wr=qt+(br=Nt*pr+Bt),Bt==0?ct(xt,At,Zt,wr,br,1):Bt==qt-1?mt(xt,At,Zt,wr,br,1):ft(xt,At,Zt,wr,br,1)}Mr=xt,xt=At,At=Mr;for(var _e=[],mr=2-~~((kt-1)/3),nr=0;nr<3;nr++)_e[nr]=Dt>>14-2*nr&3;var ur=_e[mr];if(ur!=0)for(Nt=0;Nt<vr;Nt++)for(Bt=0;Bt<Er;Bt++)xt[Zt=Nt*pr+Bt]=xt[Zt]<<ur}}if(kt==9&&Tt==3){var Gt=$t[0],hr=$t[1],kr=$t[2],Ct=$t[3];for(Nt=0;Nt<wt;Nt+=2)for(Bt=0;Bt<St;Bt+=2){var cr=Nt*St+Bt,or=Gt[Lt=(Nt>>>1)*(St>>>1)+(Bt>>>1)],tr=hr[Lt]-2048,sr=kr[Lt]-2048,lr=Ct[Lt]-2048,Sr=(tr<<1)+or,yr=(sr<<1)+or,xr=or+lr,Ar=or-lr;It?(_t[cr]=dt(xr),_t[cr+1]=dt(yr),_t[cr+St]=dt(Sr),_t[cr+St+1]=dt(Ar)):(_t[cr]=dt(Sr),_t[cr+1]=dt(xr),_t[cr+St]=dt(Ar),_t[cr+St+1]=dt(yr))}}pt+=4*Wt}}}}}}}}}}console.log(Date.now()-Pt)}}(),j.decode._decodeLogLuv32=function(et,rt,nt,it,at,st){for(var ot=et.width,lt=4*ot,ut=0,ct=new Uint8Array(lt);ut<it;){for(var ft=0;ft<lt;){var mt=rt[nt+ut];if(ut++,mt<128){for(var dt=0;dt<mt;dt++)ct[ft+dt]=rt[nt+ut+dt];ft+=mt,ut+=mt}else{for(mt-=126,dt=0;dt<mt;dt++)ct[ft+dt]=rt[nt+ut];ft+=mt,ut++}}for(var ht=0;ht<ot;ht++)at[st+0]=ct[ht],at[st+1]=ct[ht+ot],at[st+2]=ct[ht+2*ot],at[st+4]=ct[ht+3*ot],st+=6}},j.decode._ljpeg_diff=function(et,rt,nt){var it,at,st=j.decode._getbithuff;return it=st(et,rt,nt[0],nt),(at=st(et,rt,it,0))&1<<it-1||(at-=(1<<it)-1),at},j.decode._decodeARW=function(et,rt,nt,it,at,st){var ot=et.t256[0],lt=et.t257[0],ut=et.t258[0],ct=et.isLE?j._binLE:j._binBE;if(ot*lt==it||ot*lt*1.5==it)if(ot*lt*1.5!=it){var ft,mt,dt,ht,pt,gt,_t,Et,yt=new Uint16Array(16),St=new Uint8Array(ot+1);for(Pt=0;Pt<lt;Pt++){for(var wt=0;wt<ot;wt++)St[wt]=rt[nt++];for(Et=0,At=0;At<ot-30;Et+=16){for(mt=2047&(ft=ct.readUint(St,Et)),dt=2047&ft>>>11,ht=15&ft>>>22,pt=15&ft>>>26,gt=0;gt<4&&128<<gt<=mt-dt;gt++);for(_t=30,kt=0;kt<16;kt++)kt==ht?yt[kt]=mt:kt==pt?yt[kt]=dt:(yt[kt]=((ct.readUshort(St,Et+(_t>>3))>>>(7&_t)&127)<<gt)+dt,yt[kt]>2047&&(yt[kt]=2047),_t+=7);for(kt=0;kt<16;kt++,At+=2)Wt=yt[kt]<<1,j.decode._putsF(at,(Pt*ot+At)*ut,Wt<<16-ut);At-=1&At?1:31}}}else for(var kt=0;kt<it;kt+=3){var bt=rt[nt+kt+0],Tt=rt[nt+kt+1],Dt=rt[nt+kt+2];at[st+kt]=Tt<<4|bt>>>4,at[st+kt+1]=bt<<4|Dt>>>4,at[st+kt+2]=Dt<<4|Tt>>>4}else{lt+=8;var $t,At,Pt,Kt=[nt,0,0,0],Ut=new Uint16Array(32770),It=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],jt=0,zt=j.decode._ljpeg_diff;for(Ut[0]=15,$t=kt=0;kt<18;kt++)for(var Ht=32768>>>(It[kt]>>>8),Vt=0;Vt<Ht;Vt++)Ut[++$t]=It[kt];for(At=ot;At--;)for(Pt=0;Pt<lt+1;Pt+=2)if(Pt==lt&&(Pt=1),jt+=zt(rt,Kt,Ut),Pt<lt){var Wt=4095&jt;j.decode._putsF(at,(Pt*ot+At)*ut,Wt<<16-ut)}}},j.decode._decodeNikon=function(et,rt,nt,it,at,st,ot){var lt=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],ut=et.t256[0],ct=et.t257[0],ft=et.t258[0],mt=0,dt=0,ht=j.decode._make_decoder,pt=j.decode._getbithuff,gt=rt[0].exifIFD.makerNote,_t=gt.t150?gt.t150:gt.t140,Et=0,yt=_t[Et++],St=_t[Et++];yt!=73&&St!=88||(Et+=2110),yt==70&&(mt=2),ft==14&&(mt+=3);for(var wt=[[0,0],[0,0]],kt=et.isLE?j._binLE:j._binBE,bt=0;bt<2;bt++)for(var Tt=0;Tt<2;Tt++)wt[bt][Tt]=kt.readShort(_t,Et),Et+=2;var Dt,$t,At,Pt,Kt,Ut=1<<ft&32767,It=0,jt=kt.readShort(_t,Et);Et+=2,jt>1&&(It=Math.floor(Ut/(jt-1))),yt==68&&St==32&&It>0&&(dt=kt.readShort(_t,562));var zt=[0,0],Ht=ht(lt[mt]),Vt=[it,0,0,0];for(Dt=0;Dt<ct;Dt++)for(dt&&Dt==dt&&(Ht=ht(lt[mt+1])),$t=0;$t<ut;$t++){bt=pt(nt,Vt,Ht[0],Ht),(Kt=1+(pt(nt,Vt,(At=15&bt)-(Pt=bt>>>4),0)<<1)<<Pt>>>1)&1<<At-1||(Kt-=(1<<At)-(Pt==0?1:0)),$t<2?zt[$t]=wt[1&Dt][$t]+=Kt:zt[1&$t]+=Kt;var Wt=Math.min(Math.max(zt[1&$t],0),(1<<ft)-1),Zt=(Dt*ut+$t)*ft;j.decode._putsF(st,Zt,Wt<<16-ft)}},j.decode._putsF=function(et,rt,nt){nt<<=8-(7&rt);var it=rt>>>3;et[it]|=nt>>>16,et[it+1]|=nt>>>8,et[it+2]|=nt},j.decode._getbithuff=function(et,rt,nt,it){var at;j.decode._get_byte;var st=rt[0],ot=rt[1],lt=rt[2],ut=rt[3];if(nt==0||lt<0)return 0;for(;!ut&&lt<nt&&(at=et[st++])!=-1&&!(ut=0);)ot=(ot<<8)+at,lt+=8;if(at=ot<<32-lt>>>32-nt,it?(lt-=it[at+1]>>>8,at=255&it[at+1]):lt-=nt,lt<0)throw"e";return rt[0]=st,rt[1]=ot,rt[2]=lt,rt[3]=ut,at},j.decode._make_decoder=function(et){var rt,nt,it,at,st,ot=[];for(rt=16;rt!=0&&!et[rt];rt--);var lt=17;for(ot[0]=rt,it=nt=1;nt<=rt;nt++)for(at=0;at<et[nt];at++,++lt)for(st=0;st<1<<rt-nt;st++)it<=1<<rt&&(ot[it++]=nt<<8|et[lt]);return ot},j.decode._decodeNewJPEG=function(et,rt,nt,it,at,st){it=Math.min(it,rt.length-nt);var ot=et.t347,lt=ot?ot.length:0,ut=new Uint8Array(lt+it);if(ot){for(var ct=0,ft=0;ft<lt-1&&(ot[ft]!=255||ot[ft+1]!=217);ft++)ut[ct++]=ot[ft];var mt=rt[nt],dt=rt[nt+1];for(mt==255&&dt==216||(ut[ct++]=mt,ut[ct++]=dt),ft=2;ft<it;ft++)ut[ct++]=rt[nt+ft]}else for(ft=0;ft<it;ft++)ut[ft]=rt[nt+ft];if(et.t262[0]==32803||et.t259[0]==7&&et.t262[0]==34892){var ht=et.t258[0],pt=j.LosslessJpegDecode(ut),gt=pt.length;if(ht==16)if(et.isLE)for(ft=0;ft<gt;ft++)at[st+(ft<<1)]=255&pt[ft],at[st+(ft<<1)+1]=pt[ft]>>>8;else for(ft=0;ft<gt;ft++)at[st+(ft<<1)]=pt[ft]>>>8,at[st+(ft<<1)+1]=255&pt[ft];else if(ht==14||ht==12||ht==10){var _t=16-ht;for(ft=0;ft<gt;ft++)j.decode._putsF(at,ft*ht,pt[ft]<<_t)}else{if(ht!=8)throw new Error("unsupported bit depth "+ht);for(ft=0;ft<gt;ft++)at[st+ft]=pt[ft]}}else{var Et=new j.JpegDecoder;Et.parse(ut);var yt=Et.getData({width:Et.width,height:Et.height,forceRGB:!0,isSourcePDF:!1});for(ft=0;ft<yt.length;ft++)at[st+ft]=yt[ft]}et.t262[0]==6&&(et.t262[0]=2)},j.decode._decodeOldJPEGInit=function(et,rt,nt,it){var at,st,ot,lt,ut,ct=216,ft=0,mt=0,dt=!1,ht=et.t513,pt=ht?ht[0]:0,gt=et.t514,_t=gt?gt[0]:0,Et=et.t324||et.t273||ht,yt=et.t530,St=0,wt=0,kt=et.t277?et.t277[0]:1,bt=et.t515;if(Et&&(mt=Et[0],dt=Et.length>1),!dt){if(rt[nt]==255&&rt[nt+1]==ct)return{jpegOffset:nt};if(ht!=null&&(rt[nt+pt]==255&&rt[nt+pt+1]==ct?ft=nt+pt:$("JPEGInterchangeFormat does not point to SOI"),gt==null?$("JPEGInterchangeFormatLength field is missing"):(pt>=mt||pt+_t<=mt)&&$("JPEGInterchangeFormatLength field value is invalid"),ft!=null))return{jpegOffset:ft}}if(yt!=null&&(St=yt[0],wt=yt[1]),ht!=null&&gt!=null)if(_t>=2&&pt+_t<=mt){for(at=rt[nt+pt+_t-2]==255&&rt[nt+pt+_t-1]==ct?new Uint8Array(_t-2):new Uint8Array(_t),ot=0;ot<at.length;ot++)at[ot]=rt[nt+pt+ot];$("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else $("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(at==null){var Tt=0,Dt=[];Dt[Tt++]=255,Dt[Tt++]=ct;var $t=et.t519;if($t==null)throw new Error("JPEGQTables tag is missing");for(ot=0;ot<$t.length;ot++)for(Dt[Tt++]=255,Dt[Tt++]=219,Dt[Tt++]=0,Dt[Tt++]=67,Dt[Tt++]=ot,lt=0;lt<64;lt++)Dt[Tt++]=rt[nt+$t[ot]+lt];for(ut=0;ut<2;ut++){var At=et[ut==0?"t520":"t521"];if(At==null)throw new Error((ut==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(ot=0;ot<At.length;ot++){Dt[Tt++]=255,Dt[Tt++]=196;var Pt=19;for(lt=0;lt<16;lt++)Pt+=rt[nt+At[ot]+lt];for(Dt[Tt++]=Pt>>>8,Dt[Tt++]=255&Pt,Dt[Tt++]=ot|ut<<4,lt=0;lt<16;lt++)Dt[Tt++]=rt[nt+At[ot]+lt];for(lt=0;lt<Pt;lt++)Dt[Tt++]=rt[nt+At[ot]+16+lt]}}if(Dt[Tt++]=255,Dt[Tt++]=192,Dt[Tt++]=0,Dt[Tt++]=8+3*kt,Dt[Tt++]=8,Dt[Tt++]=et.height>>>8&255,Dt[Tt++]=255&et.height,Dt[Tt++]=et.width>>>8&255,Dt[Tt++]=255&et.width,Dt[Tt++]=kt,kt==1)Dt[Tt++]=1,Dt[Tt++]=17,Dt[Tt++]=0;else for(ot=0;ot<3;ot++)Dt[Tt++]=ot+1,Dt[Tt++]=ot!=0?17:(15&St)<<4|15&wt,Dt[Tt++]=ot;bt!=null&&bt[0]!=0&&(Dt[Tt++]=255,Dt[Tt++]=221,Dt[Tt++]=0,Dt[Tt++]=4,Dt[Tt++]=bt[0]>>>8&255,Dt[Tt++]=255&bt[0]),at=new Uint8Array(Dt)}var Kt=-1;for(ot=0;ot<at.length-1;){if(at[ot]==255&&at[ot+1]==192){Kt=ot;break}ot++}if(Kt==-1){var Ut=new Uint8Array(at.length+10+3*kt);Ut.set(at);var It=at.length;if(Kt=at.length,(at=Ut)[It++]=255,at[It++]=192,at[It++]=0,at[It++]=8+3*kt,at[It++]=8,at[It++]=et.height>>>8&255,at[It++]=255&et.height,at[It++]=et.width>>>8&255,at[It++]=255&et.width,at[It++]=kt,kt==1)at[It++]=1,at[It++]=17,at[It++]=0;else for(ot=0;ot<3;ot++)at[It++]=ot+1,at[It++]=ot!=0?17:(15&St)<<4|15&wt,at[It++]=ot}if(rt[mt]==255&&rt[mt+1]==218){var jt=rt[mt+2]<<8|rt[mt+3];for((st=new Uint8Array(jt+2))[0]=rt[mt],st[1]=rt[mt+1],st[2]=rt[mt+2],st[3]=rt[mt+3],ot=0;ot<jt-2;ot++)st[ot+4]=rt[mt+ot+4]}else{var zt=0;if((st=new Uint8Array(8+2*kt))[zt++]=255,st[zt++]=218,st[zt++]=0,st[zt++]=6+2*kt,st[zt++]=kt,kt==1)st[zt++]=1,st[zt++]=0;else for(ot=0;ot<3;ot++)st[zt++]=ot+1,st[zt++]=ot<<4|ot;st[zt++]=0,st[zt++]=63,st[zt++]=0}return{jpegOffset:nt,tables:at,sosMarker:st,sofPosition:Kt}},j.decode._decodeOldJPEG=function(et,rt,nt,it,at,st){var ot,lt,ut,ct,ft=j.decode._decodeOldJPEGInit(et,rt,nt,it);if(ft.jpegOffset!=null)for(ot=nt+it-ft.jpegOffset,ut=new Uint8Array(ot),ht=0;ht<ot;ht++)ut[ht]=rt[ft.jpegOffset+ht];else{for(lt=ft.tables.length,(ut=new Uint8Array(lt+ft.sosMarker.length+it+2)).set(ft.tables),ct=lt,ut[ft.sofPosition+5]=et.height>>>8&255,ut[ft.sofPosition+6]=255&et.height,ut[ft.sofPosition+7]=et.width>>>8&255,ut[ft.sofPosition+8]=255&et.width,rt[nt]==255&&rt[nt+1]==SOS||(ut.set(ft.sosMarker,ct),ct+=sosMarker.length),ht=0;ht<it;ht++)ut[ct++]=rt[nt+ht];ut[ct++]=255,ut[ct++]=EOI}var mt=new j.JpegDecoder;mt.parse(ut);for(var dt=mt.getData({width:mt.width,height:mt.height,forceRGB:!0,isSourcePDF:!1}),ht=0;ht<dt.length;ht++)at[st+ht]=dt[ht];et.t262&&et.t262[0]==6&&(et.t262[0]=2)},j.decode._decodePackBits=function(et,rt,nt,it,at){for(var st=new Int8Array(et.buffer),ot=new Int8Array(it.buffer),lt=rt+nt;rt<lt;){var ut=st[rt];if(rt++,ut>=0&&ut<128)for(var ct=0;ct<ut+1;ct++)ot[at]=st[rt],at++,rt++;if(ut>=-127&&ut<0){for(ct=0;ct<1-ut;ct++)ot[at]=st[rt],at++;rt++}}return at},j.decode._decodeThunder=function(et,rt,nt,it,at){for(var st=[0,1,0,-1],ot=[0,1,2,3,0,-3,-2,-1],lt=rt+nt,ut=2*at,ct=0;rt<lt;){var ft=et[rt],mt=ft>>>6,dt=63&ft;if(rt++,mt==3&&(ct=15&dt,it[ut>>>1]|=ct<<4*(1-ut&1),ut++),mt==0)for(var ht=0;ht<dt;ht++)it[ut>>>1]|=ct<<4*(1-ut&1),ut++;if(mt==2)for(ht=0;ht<2;ht++)(pt=dt>>>3*(1-ht)&7)!=4&&(ct+=ot[pt],it[ut>>>1]|=ct<<4*(1-ut&1),ut++);if(mt==1)for(ht=0;ht<3;ht++){var pt;(pt=dt>>>2*(2-ht)&3)!=2&&(ct+=st[pt],it[ut>>>1]|=ct<<4*(1-ut&1),ut++)}}},j.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},j.decode._lens=function(){var et=function(ut,ct,ft,mt){for(var dt=0;dt<ct.length;dt++)ut[ct[dt]]=ft+dt*mt},rt="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",nt="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",it="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",at="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",st="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";rt=rt.split(","),nt=nt.split(","),it=it.split(","),at=at.split(","),st=st.split(",");var ot={},lt={};return et(ot,rt,0,1),et(ot,it,64,64),et(ot,st,1792,64),et(lt,nt,0,1),et(lt,at,64,64),et(lt,st,1792,64),[ot,lt]}(),j.decode._decodeG4=function(et,rt,nt,it,at,st,ot){for(var lt=j.decode,ut=rt<<3,ct=0,ft="",mt=[],dt=[],ht=0;ht<st;ht++)dt.push(0);dt=lt._makeDiff(dt);for(var pt=0,gt=0,_t=0,Et=0,yt=0,St=0,wt="",kt=0,bt=8*Math.ceil(st/8);ut>>>3<rt+nt;){_t=lt._findDiff(dt,pt+(pt==0?0:1),1-yt),Et=lt._findDiff(dt,_t,yt);var Tt=0;if(ot==1&&(Tt=et[ut>>>3]>>>7-(7&ut)&1),ot==2&&(Tt=et[ut>>>3]>>>(7&ut)&1),ut++,ft+=Tt,wt=="H"){if(lt._lens[yt][ft]!=null){var Dt=lt._lens[yt][ft];ft="",ct+=Dt,Dt<64&&(lt._addNtimes(mt,ct,yt),pt+=ct,yt=1-yt,ct=0,--kt==0&&(wt=""))}}else ft=="0001"&&(ft="",lt._addNtimes(mt,Et-pt,yt),pt=Et),ft=="001"&&(ft="",wt="H",kt=2),lt._dmap[ft]!=null&&(gt=_t+lt._dmap[ft],lt._addNtimes(mt,gt-pt,yt),pt=gt,ft="",yt=1-yt);mt.length==st&&wt==""&&(lt._writeBits(mt,it,8*at+St*bt),yt=0,St++,pt=0,dt=lt._makeDiff(mt),mt=[])}},j.decode._findDiff=function(et,rt,nt){for(var it=0;it<et.length;it+=2)if(et[it]>=rt&&et[it+1]==nt)return et[it]},j.decode._makeDiff=function(et){var rt=[];et[0]==1&&rt.push(0,1);for(var nt=1;nt<et.length;nt++)et[nt-1]!=et[nt]&&rt.push(nt,et[nt]);return rt.push(et.length,0,et.length,1),rt},j.decode._decodeG2=function(et,rt,nt,it,at,st,ot){for(var lt=j.decode,ut=rt<<3,ct=0,ft="",mt=[],dt=0,ht=0,pt=8*Math.ceil(st/8);ut>>>3<rt+nt;){var gt=0;ot==1&&(gt=et[ut>>>3]>>>7-(7&ut)&1),ot==2&&(gt=et[ut>>>3]>>>(7&ut)&1),ut++,ft+=gt,(ct=lt._lens[dt][ft])!=null&&(lt._addNtimes(mt,ct,dt),ft="",ct<64&&(dt=1-dt),mt.length==st&&(lt._writeBits(mt,it,8*at+ht*pt),mt=[],ht++,dt=0,7&ut&&(ut+=8-(7&ut)),ct>=64&&(ut+=8)))}},j.decode._decodeG3=function(et,rt,nt,it,at,st,ot,lt){for(var ut=j.decode,ct=rt<<3,ft=0,mt="",dt=[],ht=[],pt=0;pt<st;pt++)dt.push(0);for(var gt=0,_t=0,Et=0,yt=0,St=0,wt=-1,kt="",bt=0,Tt=!0,Dt=8*Math.ceil(st/8);ct>>>3<rt+nt;){Et=ut._findDiff(ht,gt+(gt==0?0:1),1-St),yt=ut._findDiff(ht,Et,St);var $t=0;if(ot==1&&($t=et[ct>>>3]>>>7-(7&ct)&1),ot==2&&($t=et[ct>>>3]>>>(7&ct)&1),ct++,mt+=$t,Tt){if(ut._lens[St][mt]!=null){var At=ut._lens[St][mt];mt="",ft+=At,At<64&&(ut._addNtimes(dt,ft,St),St=1-St,ft=0)}}else kt=="H"?ut._lens[St][mt]!=null&&(At=ut._lens[St][mt],mt="",ft+=At,At<64&&(ut._addNtimes(dt,ft,St),gt+=ft,St=1-St,ft=0,--bt==0&&(kt=""))):(mt=="0001"&&(mt="",ut._addNtimes(dt,yt-gt,St),gt=yt),mt=="001"&&(mt="",kt="H",bt=2),ut._dmap[mt]!=null&&(_t=Et+ut._dmap[mt],ut._addNtimes(dt,_t-gt,St),gt=_t,mt="",St=1-St));mt.endsWith("000000000001")&&(wt>=0&&ut._writeBits(dt,it,8*at+wt*Dt),lt&&(ot==1&&(Tt=(et[ct>>>3]>>>7-(7&ct)&1)==1),ot==2&&(Tt=(et[ct>>>3]>>>(7&ct)&1)==1),ct++),mt="",St=0,wt++,gt=0,ht=ut._makeDiff(dt),dt=[])}dt.length==st&&ut._writeBits(dt,it,8*at+wt*Dt)},j.decode._addNtimes=function(et,rt,nt){for(var it=0;it<rt;it++)et.push(nt)},j.decode._writeBits=function(et,rt,nt){for(var it=0;it<et.length;it++)rt[nt+it>>>3]|=et[it]<<7-(nt+it&7)},j.decode._decodeLZW=j.decode._decodeLZW=function(){var et,rt,nt,it,at=0,st=0,ot=0,lt=0,ut=function(){var pt=et>>>3,gt=(rt[pt]<<16|rt[pt+1]<<8|rt[pt+2])>>>24-(7&et)-st&(1<<st)-1;return et+=st,gt},ct=new Uint32Array(16384),ft=0,mt=function(pt){st=pt+1,at=lt+1},dt=function(pt){for(var gt=pt<<2,_t=ct[gt+2],Et=it+_t-1;gt!=65535;)nt[Et--]=ct[gt],gt=ct[gt+1];it+=_t},ht=function(pt,gt){var _t=at<<2,Et=pt<<2;ct[_t]=ct[3+(gt<<2)],ct[_t+1]=Et,ct[_t+2]=ct[Et+2]+1,ct[_t+3]=ct[Et+3],++at+1==1<<st&&st!=12&&st++};return function(pt,gt,_t,Et,yt,St){et=gt<<3,rt=pt,nt=Et,it=yt;var wt=gt+_t<<3,kt=0,bt=0;for(function(Tt){if(Tt!=ft){ft=Tt,lt=1+(ot=1<<Tt);for(var Dt=0;Dt<lt+1;Dt++)ct[4*Dt]=ct[4*Dt+3]=Dt,ct[4*Dt+1]=65535,ct[4*Dt+2]=1}}(St),mt(St);et<wt&&(kt=ut())!=lt;){if(kt==ot){if(mt(St),(kt=ut())==lt)break;dt(kt)}else kt<at?(dt(kt),ht(bt,kt)):(ht(bt,bt),dt(at-1));bt=kt}return it}}(),j.tags={},j._types=function(){var et=new Array(250);return et.fill(0),{basic:{main:et=et.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),j._readIFD=function(et,rt,nt,it,at,st){var ot=et.readUshort(rt,nt);nt+=2;var lt={};st.debug&&$("   ".repeat(at),it.length-1,">>>----------------");for(var ut=0;ut<ot;ut++){var ct=et.readUshort(rt,nt);nt+=2;var ft=et.readUshort(rt,nt);nt+=2;var mt=et.readUint(rt,nt);nt+=4;var dt=et.readUint(rt,nt);nt+=4;var ht=[];if(ft==1||ft==7){var pt=mt<5?nt-4:dt;pt+mt>rt.buffer.byteLength&&(mt=rt.buffer.byteLength-pt),ht=new Uint8Array(rt.buffer,pt,mt)}if(ft==2){var gt=mt<5?nt-4:dt,_t=rt[gt],Et=Math.max(0,Math.min(mt-1,rt.length-gt));_t<128||Et==0?ht.push(et.readASCII(rt,gt,Et)):ht=new Uint8Array(rt.buffer,gt,Et)}if(ft==3)for(var yt=0;yt<mt;yt++)ht.push(et.readUshort(rt,(mt<3?nt-4:dt)+2*yt));if(ft==4||ft==13)for(yt=0;yt<mt;yt++)ht.push(et.readUint(rt,(mt<2?nt-4:dt)+4*yt));if(ft==5||ft==10){var St=ft==5?et.readUint:et.readInt;for(yt=0;yt<mt;yt++)ht.push([St(rt,dt+8*yt),St(rt,dt+8*yt+4)])}if(ft==8)for(yt=0;yt<mt;yt++)ht.push(et.readShort(rt,(mt<3?nt-4:dt)+2*yt));if(ft==9)for(yt=0;yt<mt;yt++)ht.push(et.readInt(rt,(mt<2?nt-4:dt)+4*yt));if(ft==11)for(yt=0;yt<mt;yt++)ht.push(et.readFloat(rt,dt+4*yt));if(ft==12)for(yt=0;yt<mt;yt++)ht.push(et.readDouble(rt,dt+8*yt));if(mt==0||ht.length!=0){if(st.debug&&$("   ".repeat(at),ct,ft,j.tags[ct],ht),lt["t"+ct]=ht,!(ct==330&&lt.t272&&lt.t272[0]=="DSLR-A100")){if(ct==330||ct==34665||ct==34853||ct==50740&&et.readUshort(rt,et.readUint(ht,0))<300||ct==61440){var wt=ct==50740?[et.readUint(ht,0)]:ht,kt=[];for(yt=0;yt<wt.length;yt++)j._readIFD(et,rt,wt[yt],kt,at+1,st);ct==330&&(lt.subIFD=kt),ct==34665&&(lt.exifIFD=kt[0]),ct==34853&&(lt.gpsiIFD=kt[0]),ct==50740&&(lt.dngPrvt=kt[0]),ct==61440&&(lt.fujiIFD=kt[0])}}if(ct==37500&&st.parseMN){var bt=ht;if(et.readASCII(bt,0,5)=="Nikon")lt.makerNote=j.decode(bt.slice(10).buffer)[0];else if(et.readASCII(bt,0,5)=="OLYMP"||et.readASCII(bt,0,9)=="OM SYSTEM"){var Tt=[8208,8224,8240,8256,8272],Dt=[];j._readIFD(et,bt,bt[1]==77?16:bt[5]==85?12:8,Dt,at+1,st);var $t=lt.makerNote=Dt.pop();for(yt=0;yt<Tt.length;yt++){var At="t"+Tt[yt];$t[At]!=null&&(j._readIFD(et,bt,$t[At][0],Dt,at+1,st),$t[At]=Dt.pop())}$t.t12288&&(j._readIFD(et,$t.t12288,0,Dt,at+1,st),$t.t12288=Dt.pop())}else et.readUshort(rt,dt)<300&&et.readUshort(rt,dt+4)<=12&&(Dt=[],j._readIFD(et,rt,dt,Dt,at+1,st),lt.makerNote=Dt[0])}}else if($(ct,"unknown TIFF tag type: ",ft,"num:",mt),ut==0)return}return it.push(lt),st.debug&&$("   ".repeat(at),"<<<---------------"),nt},j._writeIFD=function(et,rt,nt,it,at){var st=Object.keys(at),ot=st.length;at.exifIFD&&ot--,at.gpsiIFD&&ot--,et.writeUshort(nt,it,ot);for(var lt=(it+=2)+12*ot+4,ut=0;ut<st.length;ut++){var ct=st[ut];if(ct!="t34665"&&ct!="t34853"){ct=="exifIFD"&&(ct="t34665"),ct=="gpsiIFD"&&(ct="t34853");var ft=parseInt(ct.slice(1)),mt=rt.main[ft];if(mt==null&&(mt=rt.rest[ft]),mt==null||mt==0)throw new Error("unknown type of tag: "+ft);var dt=at[ct];ft==34665&&(dt=[lt],lt=j._writeIFD(et,rt,nt,lt,at.exifIFD)[1]),ft==34853&&(dt=[lt],lt=j._writeIFD(et,j._types.gps,nt,lt,at.gpsiIFD)[1]),mt==2&&(dt=dt[0]+"\0");var ht=dt.length;et.writeUshort(nt,it,ft),it+=2,et.writeUshort(nt,it,mt),it+=2,et.writeUint(nt,it,ht);var pt=[-1,1,1,2,4,8,0,1,0,4,8,0,8][mt]*ht,gt=it+=4;if(pt>4&&(et.writeUint(nt,it,lt),gt=lt),mt==1||mt==7)for(var _t=0;_t<ht;_t++)nt[gt+_t]=dt[_t];else if(mt==2)et.writeASCII(nt,gt,dt);else if(mt==3)for(_t=0;_t<ht;_t++)et.writeUshort(nt,gt+2*_t,dt[_t]);else if(mt==4)for(_t=0;_t<ht;_t++)et.writeUint(nt,gt+4*_t,dt[_t]);else if(mt==5||mt==10){var Et=mt==5?et.writeUint:et.writeInt;for(_t=0;_t<ht;_t++){var yt=dt[_t],St=yt[0],wt=yt[1];if(St==null)throw"e";Et(nt,gt+8*_t,St),Et(nt,gt+8*_t+4,wt)}}else if(mt==9)for(_t=0;_t<ht;_t++)et.writeInt(nt,gt+4*_t,dt[_t]);else{if(mt!=12)throw mt;for(_t=0;_t<ht;_t++)et.writeDouble(nt,gt+8*_t,dt[_t])}pt>4&&(lt+=pt+=1&pt),it+=4}}return[it,lt]},j.toRGBA8=function(et,rt){function nt(dr){return dr<.0031308?12.92*dr:1.055*Math.pow(dr,1/2.4)-.055}var it=et.width,at=et.height,st=it*at,ot=et.data,lt=new Uint8Array(4*st),ut=et.t262?et.t262[0]:2,ct=et.t258?Math.min(32,et.t258[0]):1;et.t262==null&&ct==1&&(ut=0);var ft=et.t277?et.t277[0]:et.t258?et.t258.length:[1,1,3,1,1,4,3][ut],mt=et.t339?et.t339[0]:null;if(ut==1&&ct==32&&mt!=3)throw"e";var dt=Math.ceil(ft*ct*it/8);if(ut==0){rt=1/256;for(var ht=0;ht<at;ht++){var pt=ht*dt,gt=ht*it;if(ct==1)for(var _t=0;_t<it;_t++){var Et=gt+_t<<2,yt=ot[pt+(_t>>3)]>>7-(7&_t)&1;lt[Et]=lt[Et+1]=lt[Et+2]=255*(1-yt),lt[Et+3]=255}if(ct==4)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[pt+(_t>>1)]>>4-4*(1&_t)&15,lt[Et]=lt[Et+1]=lt[Et+2]=17*(15-yt),lt[Et+3]=255;if(ct==8)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[pt+_t],lt[Et]=lt[Et+1]=lt[Et+2]=255-yt,lt[Et+3]=255;if(ct==16)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[(wt=pt+2*_t)+1]<<8|ot[wt],lt[Et]=lt[Et+1]=lt[Et+2]=Math.min(255,255-~~(yt*rt)),lt[Et+3]=255}}else if(ut==1){rt==null&&(rt=1/256);var St=3&ot.length?null:new Float32Array(ot.buffer);for(ht=0;ht<at;ht++){if(pt=ht*dt,gt=ht*it,ct==1)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[pt+(_t>>3)]>>7-(7&_t)&1,lt[Et]=lt[Et+1]=lt[Et+2]=255*yt,lt[Et+3]=255;if(ct==2)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[pt+(_t>>2)]>>6-2*(3&_t)&3,lt[Et]=lt[Et+1]=lt[Et+2]=85*yt,lt[Et+3]=255;if(ct==8)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[pt+_t*ft],lt[Et]=lt[Et+1]=lt[Et+2]=yt,lt[Et+3]=255;if(ct==16)for(_t=0;_t<it;_t++)Et=gt+_t<<2,yt=ot[(wt=pt+2*_t)+1]<<8|ot[wt],lt[Et]=lt[Et+1]=lt[Et+2]=Math.min(255,~~(yt*rt)),lt[Et+3]=255;if(ct==32)for(_t=0;_t<it;_t++){var wt;Et=gt+_t<<2,yt=St[wt=(pt>>>2)+_t],lt[Et]=lt[Et+1]=lt[Et+2]=~~(.5+255*yt),lt[Et+3]=255}}}else if(ut==2)if(ct==8){if(ft==1)for(_t=0;_t<st;_t++)lt[4*_t]=lt[4*_t+1]=lt[4*_t+2]=ot[_t],lt[4*_t+3]=255;if(ft==3)for(_t=0;_t<st;_t++){var kt=3*_t;lt[Et=_t<<2]=ot[kt],lt[Et+1]=ot[kt+1],lt[Et+2]=ot[kt+2],lt[Et+3]=255}if(ft>=4)for(_t=0;_t<st;_t++)kt=_t*ft,lt[Et=_t<<2]=ot[kt],lt[Et+1]=ot[kt+1],lt[Et+2]=ot[kt+2],lt[Et+3]=ot[kt+3]}else if(ct==16){if(ft==4)for(_t=0;_t<st;_t++)kt=8*_t+1,lt[Et=_t<<2]=ot[kt],lt[Et+1]=ot[kt+2],lt[Et+2]=ot[kt+4],lt[Et+3]=ot[kt+6];if(ft==3)for(_t=0;_t<st;_t++)kt=6*_t+1,lt[Et=_t<<2]=ot[kt],lt[Et+1]=ot[kt+2],lt[Et+2]=ot[kt+4],lt[Et+3]=255}else{if(ct!=32)throw ct;var bt=new Float32Array(ot.buffer),Tt=0;for(_t=0;_t<bt.length;_t++)Tt=Math.min(Tt,bt[_t]);if(Tt<0)for(_t=0;_t<ot.length;_t+=4){var Dt=ot[_t];ot[_t]=ot[_t+3],ot[_t+3]=Dt,Dt=ot[_t+1],ot[_t+1]=ot[_t+2],ot[_t+2]=Dt}var $t=[];for(_t=0;_t<65536;_t++)$t.push(nt(_t/65535));for(_t=0;_t<bt.length;_t++){var At=Math.max(0,Math.min(1,bt[_t]));bt[_t]=$t[~~(.5+65535*At)]}if(ft==3)for(_t=0;_t<st;_t++)kt=3*_t,lt[Et=_t<<2]=~~(.5+255*bt[kt]),lt[Et+1]=~~(.5+255*bt[kt+1]),lt[Et+2]=~~(.5+255*bt[kt+2]),lt[Et+3]=255;else{if(ft!=4)throw ft;for(_t=0;_t<st;_t++)kt=4*_t,lt[Et=_t<<2]=~~(.5+255*bt[kt]),lt[Et+1]=~~(.5+255*bt[kt+1]),lt[Et+2]=~~(.5+255*bt[kt+2]),lt[Et+3]=~~(.5+255*bt[kt+3])}}else if(ut==3){var Pt=et.t320,Kt=1<<ct,Ut=ct==8&&ft>1&&et.t338&&et.t338[0]!=0;for(ht=0;ht<at;ht++)for(var It=0;It<it;It++){Et=(_t=ht*it+It)<<2;var jt=0,zt=ht*dt;if(ct==1)jt=ot[zt+(It>>>3)]>>>7-(7&It)&1;else if(ct==2)jt=ot[zt+(It>>>2)]>>>6-2*(3&It)&3;else if(ct==4)jt=ot[zt+(It>>>1)]>>>4-4*(1&It)&15;else{if(ct!=8)throw ct;jt=ot[zt+It*ft]}lt[Et]=Pt[jt]>>8,lt[Et+1]=Pt[Kt+jt]>>8,lt[Et+2]=Pt[Kt+Kt+jt]>>8,lt[Et+3]=Ut?ot[zt+It*ft+1]:255}}else if(ut==5){var Ht=ft>4?1:0;for(_t=0;_t<st;_t++){Et=_t<<2;var Vt=_t*ft;if(window.UDOC){var Wt=ot[Vt],Zt=ot[Vt+1],Qt=ot[Vt+2],Xt=ot[Vt+3],er=UDOC.C.cmykToRgb([Wt*(1/255),Zt*(1/255),Qt*(1/255),Xt*(1/255)]);lt[Et]=~~(.5+255*er[0]),lt[Et+1]=~~(.5+255*er[1]),lt[Et+2]=~~(.5+255*er[2])}else Wt=255-ot[Vt],Zt=255-ot[Vt+1],Qt=255-ot[Vt+2],Xt=(255-ot[Vt+3])*(1/255),lt[Et]=~~(Wt*Xt+.5),lt[Et+1]=~~(Zt*Xt+.5),lt[Et+2]=~~(Qt*Xt+.5);lt[Et+3]=255*(1-Ht)+ot[Vt+4]*Ht}}else if(ut==6&&et.t278){var ir=et.t278[0];for(ht=0;ht<at;ht+=ir){_t=ht*it;for(var Yt=ir*it,xt=0;xt<Yt;xt++){Et=4*(_t+xt),Qt=ot[(Vt=3*_t+4*(xt>>>1))+(1&xt)];var qt=ot[Vt+2]-128,Rt=ot[Vt+3]-128,Nt=Qt+((Rt>>2)+(Rt>>3)+(Rt>>5)),Bt=Qt-((qt>>2)+(qt>>4)+(qt>>5))-((Rt>>1)+(Rt>>3)+(Rt>>4)+(Rt>>5)),Lt=Qt+(qt+(qt>>1)+(qt>>2)+(qt>>6));lt[Et]=Math.max(0,Math.min(255,Nt)),lt[Et+1]=Math.max(0,Math.min(255,Bt)),lt[Et+2]=Math.max(0,Math.min(255,Lt)),lt[Et+3]=255}}}else if(ut==32845)for(ht=0;ht<at;ht++)for(It=0;It<it;It++){Et=4*(ht*it+It);var Jt=ot[(Vt=6*(ht*it+It))+1]<<8|ot[Vt],vt=(Jt=Math.pow(2,(Jt+.5)/256-64),(ot[Vt+3]+.5)/410),Mt=(ot[Vt+5]+.5)/410,Ot=9*vt/(6*vt-16*Mt+12),Ft=4*Mt/(6*vt-16*Mt+12),rr=Ot*Jt/Ft,ar=(1-Ot-Ft)*Jt/Ft;Nt=2.69*rr-1.276*(Qt=Jt)-.414*ar,Bt=-1.022*rr+1.978*Qt+.044*ar,Lt=.061*rr-.224*Qt+1.163*ar,lt[Et]=255*nt(Math.min(Nt,1)),lt[Et+1]=255*nt(Math.min(Bt,1)),lt[Et+2]=255*nt(Math.min(Lt,1)),lt[Et+3]=255}else $("Unknown Photometric interpretation: "+ut);return lt},j.replaceIMG=function(et){et==null&&(et=document.getElementsByTagName("img"));for(var rt=["tif","tiff","dng","cr2","nef"],nt=0;nt<et.length;nt++){var it=et[nt],at=it.getAttribute("src");if(at!=null){var st=at.split(".").pop().toLowerCase();if(rt.indexOf(st)!=-1){var ot=new XMLHttpRequest;j._xhrs.push(ot),j._imgs.push(it),ot.open("GET",at),ot.responseType="arraybuffer",ot.onload=j._imgLoaded,ot.send()}}}},j._xhrs=[],j._imgs=[],j._imgLoaded=function(et){var rt=j._xhrs.indexOf(et.target),nt=j._imgs[rt];j._xhrs.splice(rt,1),j._imgs.splice(rt,1),nt.setAttribute("src",j.bufferToURI(et.target.response))},j.bufferToURI=function(et){var rt=j.decode(et),nt=rt,it=0,at=nt[0];rt[0].subIFD&&(nt=nt.concat(rt[0].subIFD));for(var st=0;st<nt.length;st++){var ot=nt[st];if(!(ot.t258==null||ot.t258.length<3)){var lt=ot.t256*ot.t257;lt>it&&(it=lt,at=ot)}}j.decodeImage(et,at,rt);var ut=j.toRGBA8(at),ct=at.width,ft=at.height,mt=document.createElement("canvas");mt.width=ct,mt.height=ft;var dt=mt.getContext("2d"),ht=new ImageData(new Uint8ClampedArray(ut.buffer),ct,ft);return dt.putImageData(ht,0,0),mt.toDataURL()},j._binBE={nextZero:function(et,rt){for(;et[rt]!=0;)rt++;return rt},readUshort:function(et,rt){return et[rt]<<8|et[rt+1]},readShort:function(et,rt){var nt=j._binBE.ui8;return nt[0]=et[rt+1],nt[1]=et[rt+0],j._binBE.i16[0]},readInt:function(et,rt){var nt=j._binBE.ui8;return nt[0]=et[rt+3],nt[1]=et[rt+2],nt[2]=et[rt+1],nt[3]=et[rt+0],j._binBE.i32[0]},readUint:function(et,rt){var nt=j._binBE.ui8;return nt[0]=et[rt+3],nt[1]=et[rt+2],nt[2]=et[rt+1],nt[3]=et[rt+0],j._binBE.ui32[0]},readASCII:function(et,rt,nt){for(var it="",at=0;at<nt;at++)it+=String.fromCharCode(et[rt+at]);return it},readFloat:function(et,rt){for(var nt=j._binBE.ui8,it=0;it<4;it++)nt[it]=et[rt+3-it];return j._binBE.fl32[0]},readDouble:function(et,rt){for(var nt=j._binBE.ui8,it=0;it<8;it++)nt[it]=et[rt+7-it];return j._binBE.fl64[0]},writeUshort:function(et,rt,nt){et[rt]=nt>>8&255,et[rt+1]=255&nt},writeInt:function(et,rt,nt){var it=j._binBE.ui8;j._binBE.i32[0]=nt,et[rt+3]=it[0],et[rt+2]=it[1],et[rt+1]=it[2],et[rt+0]=it[3]},writeUint:function(et,rt,nt){et[rt]=nt>>24&255,et[rt+1]=nt>>16&255,et[rt+2]=nt>>8&255,et[rt+3]=255&nt},writeASCII:function(et,rt,nt){for(var it=0;it<nt.length;it++)et[rt+it]=nt.charCodeAt(it)},writeDouble:function(et,rt,nt){j._binBE.fl64[0]=nt;for(var it=0;it<8;it++)et[rt+it]=j._binBE.ui8[7-it]}},j._binBE.ui8=new Uint8Array(8),j._binBE.i16=new Int16Array(j._binBE.ui8.buffer),j._binBE.i32=new Int32Array(j._binBE.ui8.buffer),j._binBE.ui32=new Uint32Array(j._binBE.ui8.buffer),j._binBE.fl32=new Float32Array(j._binBE.ui8.buffer),j._binBE.fl64=new Float64Array(j._binBE.ui8.buffer),j._binLE={nextZero:j._binBE.nextZero,readUshort:function(et,rt){return et[rt+1]<<8|et[rt]},readShort:function(et,rt){var nt=j._binBE.ui8;return nt[0]=et[rt+0],nt[1]=et[rt+1],j._binBE.i16[0]},readInt:function(et,rt){var nt=j._binBE.ui8;return nt[0]=et[rt+0],nt[1]=et[rt+1],nt[2]=et[rt+2],nt[3]=et[rt+3],j._binBE.i32[0]},readUint:function(et,rt){var nt=j._binBE.ui8;return nt[0]=et[rt+0],nt[1]=et[rt+1],nt[2]=et[rt+2],nt[3]=et[rt+3],j._binBE.ui32[0]},readASCII:j._binBE.readASCII,readFloat:function(et,rt){for(var nt=j._binBE.ui8,it=0;it<4;it++)nt[it]=et[rt+it];return j._binBE.fl32[0]},readDouble:function(et,rt){for(var nt=j._binBE.ui8,it=0;it<8;it++)nt[it]=et[rt+it];return j._binBE.fl64[0]},writeUshort:function(et,rt,nt){et[rt]=255&nt,et[rt+1]=nt>>8&255},writeInt:function(et,rt,nt){var it=j._binBE.ui8;j._binBE.i32[0]=nt,et[rt+0]=it[0],et[rt+1]=it[1],et[rt+2]=it[2],et[rt+3]=it[3]},writeUint:function(et,rt,nt){et[rt]=nt>>>0&255,et[rt+1]=nt>>>8&255,et[rt+2]=nt>>>16&255,et[rt+3]=nt>>>24&255},writeASCII:j._binBE.writeASCII},j._copyTile=function(et,rt,nt,it,at,st,ot,lt){for(var ut=Math.min(rt,at-ot),ct=Math.min(nt,st-lt),ft=0;ft<ct;ft++)for(var mt=(lt+ft)*at+ot,dt=ft*rt,ht=0;ht<ut;ht++)it[mt+ht]=et[dt+ht]},j.LosslessJpegDecode=function(){var et,rt;function nt(){return et[rt++]}function it(){return et[rt++]<<8|et[rt++]}function at(pt){for(var gt=nt(),_t=[0,0,0,255],Et=[],yt=0;yt<16;yt++)Et[yt]=nt();for(yt=0;yt<16;yt++)for(var St=0;St<Et[yt];St++)_t[st(_t,0,yt+1,1)+3]=nt();var wt=new Uint8Array(256);for(pt[gt]=[new Uint8Array(_t),wt],yt=0;yt<256;yt++){for(var kt=8,bt=yt,Tt=0;_t[Tt+3]==255&&kt!=0;)Tt=_t[Tt+(bt>>--kt&1)];wt[yt]=Tt}}function st(pt,gt,_t,Et){if(pt[gt+3]!=255)return 0;if(_t==0)return gt;for(var yt=0;yt<2;yt++){pt[gt+yt]==0&&(pt[gt+yt]=pt.length,pt.push(0,0,Et,255));var St=st(pt,pt[gt+yt],_t-1,Et+1);if(St!=0)return St}return 0}function ot(pt){for(var gt=pt.b,_t=pt.f;gt<25&&pt.a<pt.d;){var Et=pt.data[pt.a++];Et!=255||pt.c||pt.a++,_t=_t<<8|Et,gt+=8}if(gt<0)throw"e";pt.b=gt,pt.f=_t}function lt(pt,gt){return gt.b<pt&&ot(gt),gt.f>>(gt.b-=pt)&65535>>16-pt}function ut(pt,gt){var _t=pt[0],Et=0,yt=255;gt.b<16&&ot(gt);var St=gt.f>>gt.b-8&255;for(yt=_t[(Et=pt[1][St])+3],gt.b-=_t[Et+2];yt==255;)yt=_t[(Et=_t[Et+(gt.f>>--gt.b&1)])+3];return yt}function ct(pt,gt){return pt<32768>>16-gt&&(pt+=1-(1<<gt)),pt}function ft(pt,gt){var _t=ut(pt,gt);return _t==0?0:_t==16?-32768:ct(lt(_t,gt),_t)}function mt(pt,gt,_t,Et,yt,St){for(var wt=0,kt=0;kt<St;kt++){for(var bt=kt*gt,Tt=0;Tt<gt;Tt+=yt){wt++;for(var Dt=0;Dt<yt;Dt++)pt[bt+Tt+Dt]=ft(Et[Dt],_t)}if(_t.e!=0&&wt%_t.e==0&&kt!=0){for(var $t=_t.a,At=_t.data;At[$t]!=255||!(208<=At[$t+1]&&At[$t+1]<=215);)$t--;_t.a=$t+2,_t.f=0,_t.b=0}}}function dt(pt,gt){return ct(lt(pt,gt),pt)}function ht(pt,gt,_t,Et,yt,St,wt,kt){for(var bt=_t*wt,Tt=yt;Tt<St;Tt++)pt[Tt]+=1<<kt-1;for(var Dt=wt;Dt<bt;Dt+=wt)for(Tt=yt;Tt<St;Tt++)pt[Dt+Tt]+=pt[Dt+Tt-wt];for(var $t=1;$t<Et;$t++){var At=$t*bt;for(Tt=yt;Tt<St;Tt++)pt[At+Tt]+=pt[At+Tt-bt];for(Dt=wt;Dt<bt;Dt+=wt)for(Tt=yt;Tt<St;Tt++){var Pt=At+Dt+Tt,Kt=Pt-bt,Ut=pt[Pt-wt],It=0;if(gt==0)It=0;else if(gt==1)It=Ut;else if(gt==2)It=pt[Kt];else if(gt==3)It=pt[Kt-wt];else if(gt==4)It=Ut+(pt[Kt]-pt[Kt-wt]);else if(gt==5)It=Ut+(pt[Kt]-pt[Kt-wt]>>>1);else if(gt==6)It=pt[Kt]+(Ut-pt[Kt-wt]>>>1);else{if(gt!=7)throw gt;It=Ut+pt[Kt]>>>1}pt[Pt]+=It}}}return function(pt){if(et=pt,rt=0,it()!=65496)throw"e";for(var gt=[],_t=0,Et=0,yt=0,St=[],wt=[],kt=[],bt=0,Tt=0,Dt=0;;){var $t=it();if($t!=65535){var At=it();if($t==65475){Et=nt(),Tt=it(),Dt=it(),bt=nt();for(var Pt=0;Pt<bt;Pt++){var Kt=nt(),Ut=nt();if(nt()!=0)throw"e";gt[Kt]=[Pt,Ut>>4,15&Ut]}}else if($t==65476)for(var It=rt+At-2;rt<It;)at(wt);else{if($t==65498){for(rt++,Pt=0;Pt<bt;Pt++){var jt=gt[nt()];kt[jt[0]]=wt[nt()>>>4],St[jt[0]]=jt.slice(1)}_t=nt(),rt+=2;break}$t==65501?yt=it():rt+=At-2}}else rt--}var zt=new(Et>8?Uint16Array:Uint8Array)(Tt*Dt*bt),Ht={b:0,f:0,c:_t==8,a:rt,data:et,d:et.length,e:yt};if(Ht.c)(function(rr,ar,dr,gr,fr){for(var _r=et.length-rt,pr=0;pr<_r;pr+=4){var Er=et[rt+pr];et[rt+pr]=et[rt+pr+3],et[rt+pr+3]=Er,Er=et[rt+pr+1],et[rt+pr+1]=et[rt+pr+2],et[rt+pr+2]=Er}for(var vr=0;vr<fr;vr++)for(var wr=32768,Mr=32768,br=0;br<ar;br+=2){var _e=ut(gr,dr),mr=ut(gr,dr);_e!=0&&(wr+=dt(_e,dr)),mr!=0&&(Mr+=dt(mr,dr)),rr[vr*ar+br]=65535&wr,rr[vr*ar+br+1]=65535&Mr}})(zt,Dt*bt,Ht,kt[0],Tt);else{var Vt=[],Wt=0,Zt=0;for(Pt=0;Pt<bt;Pt++){var Qt=St[Pt];(Lt=Qt[0])>Wt&&(Wt=Lt),(Bt=Qt[1])>Zt&&(Zt=Bt),Vt.push(Lt*Bt)}if(Wt!=1||Zt!=1){if(bt!=3||Vt[1]!=1||Vt[2]!=1||Wt!=2||Zt!=1&&Zt!=2)throw"e";var Xt=[],er=0;for(Pt=0;Pt<bt;Pt++){for(var ir=0;ir<Vt[Pt];ir++)Xt.push(kt[Pt]);er+=Vt[Pt]}var Yt=Dt/Wt,xt=Tt/Zt,qt=Yt*xt;mt(zt,Yt*er,Ht,Xt,er,xt),ht(zt,_t,Yt,xt,er-2,er,er,Et);var Rt=new Uint16Array(qt*Vt[0]);if(Wt==2&&Zt==2){for(Pt=0;Pt<qt;Pt++)Rt[4*Pt]=zt[6*Pt],Rt[4*Pt+1]=zt[6*Pt+1],Rt[4*Pt+2]=zt[6*Pt+2],Rt[4*Pt+3]=zt[6*Pt+3];for(ht(Rt,_t,4*Yt,xt,0,1,1,Et),Pt=0;Pt<qt;Pt++)zt[6*Pt]=Rt[4*Pt],zt[6*Pt+1]=Rt[4*Pt+1],zt[6*Pt+2]=Rt[4*Pt+2],zt[6*Pt+3]=Rt[4*Pt+3]}if(Wt==2&&Zt==1){for(Pt=0;Pt<qt;Pt++)Rt[2*Pt]=zt[4*Pt],Rt[2*Pt+1]=zt[4*Pt+1];for(ht(Rt,_t,2*Yt,xt,0,1,1,Et),Pt=0;Pt<qt;Pt++)zt[4*Pt]=Rt[2*Pt],zt[4*Pt+1]=Rt[2*Pt+1]}for(var Nt=zt.slice(0),Bt=0;Bt<Tt;Bt++)if(Zt==2)for(var Lt=0;Lt<Dt;Lt++){var Jt=((Bt>>>1)*Yt+(Lt>>>1))*er,vt=2*(1&Bt)+(1&Lt);zt[Mt=(Bt*Dt+Lt)*bt]=Nt[Jt+vt],zt[Mt+1]=Nt[Jt+4],zt[Mt+2]=Nt[Jt+5]}else for(Lt=0;Lt<Dt;Lt++){var Mt;Jt=(Bt*Yt+(Lt>>>1))*er,vt=1&Lt,zt[Mt=(Bt*Dt+Lt)*bt]=Nt[Jt+vt],zt[Mt+1]=Nt[Jt+2],zt[Mt+2]=Nt[Jt+3]}}else if(mt(zt,Dt*bt,Ht,kt,bt,Tt),yt==0)ht(zt,_t,Dt,Tt,0,bt,bt,Et);else{var Ot=Math.floor(yt/Dt);for(Bt=0;Bt<Tt;Bt+=Ot){var Ft=zt.slice(Bt*Dt*bt,(Bt+Ot)*Dt*bt);ht(Ft,_t,Dt,Ot,0,bt,bt,Et),zt.set(Ft,Bt*Dt*bt)}}}return zt}}(),function(){var et=2,rt=4,nt=5,it=6,at=7,st=12,ot=13,lt=14,ut=15,ct=17;function ft(St){var wt={c:new Int8Array(2<<St.u)};return function(kt,bt,Tt){var Dt=[bt,3*bt+18,5*bt+67,7*bt+276,Tt];kt.o=bt,kt.w=(Dt[4]+2*bt)/(2*bt+1)+1|0,kt.v=Math.ceil(Math.log2(kt.w)),kt.t=9,function($t,At){for(var Pt=-At[4],Kt=0;Pt<=At[4];Kt++,Pt++)$t[Kt]=Pt<=-At[3]?-4:Pt<=-At[2]?-3:Pt<=-At[1]?-2:Pt<-At[0]?-1:Pt<=At[0]?0:Pt<At[1]?1:Pt<At[2]?2:Pt<At[3]?3:4}(kt.c,Dt)}(wt,0,St.g),wt}function mt(St){for(var wt=[[],[],[]],kt=Math.max(2,St.w+32>>>6),bt=0;bt<3;bt++)for(var Tt=0;Tt<41;Tt++)wt[bt][Tt]=[kt,1];return wt}function dt(St,wt){var kt=0,bt=8-St.a;if(St.j,St.a,wt){if(wt>=bt)do kt<<=bt,wt-=bt,kt|=St[St.j]&(1<<bt)-1,St.j++,bt=8;while(wt>=8);wt&&(kt<<=wt,bt-=wt,kt|=St[St.j]>>>bt&(1<<wt)-1),St.a=8-bt}return kt}function ht(St,wt,kt,bt,Tt,Dt,$t,At){At==null&&(At=0);var Pt,Kt,Ut,It,jt,zt,Ht=Dt+1,Vt=Ht%2,Wt=0,Zt=bt[Tt],Qt=bt[Tt-1],Xt=bt[Tt-2][Ht],er=Qt[Ht-1],ir=Qt[Ht],Yt=Qt[Ht+1],xt=Zt[Ht-1],qt=Zt[Ht+1],Rt=Math.abs;if(Vt&&(Ut=Rt(Yt-ir),It=Rt(Xt-ir),jt=Rt(er-ir)),Vt){if(zt=(zt=Ut>jt&&It<Ut?Xt+er:Ut<jt&&It<jt?Xt+Yt:Yt+er)+2*ir>>>2,At)return void(Zt[Ht]=zt);Pt=wt.t*wt.c[St.g+ir-Xt]+wt.c[St.g+er-ir]}else zt=ir>er&&ir>Yt||ir<er&&ir<Yt?qt+xt+2*ir>>>2:xt+qt>>>1,Pt=wt.t*wt.c[St.g+ir-er]+wt.c[St.g+er-xt];Kt=Rt(Pt);var Nt=function(Lt){for(var Jt=-1,vt=0;!vt;Jt++)vt=Lt[Lt.j]>>>7-Lt.a&1,Lt.a++,Lt.a&=7,Lt.a||Lt.j++;return Jt}(kt);if(Nt<St.n-wt.v-1){var Bt=function(Lt,Jt){var vt=0;if(Jt<Lt)for(;vt<=14&&Jt<<++vt<Lt;);return vt}($t[Kt][0],$t[Kt][1]);Wt=dt(kt,Bt)+(Nt<<Bt)}else Wt=dt(kt,wt.v)+1;Wt=1&Wt?-1-(Wt>>>1):Wt>>>1,$t[Kt][0]+=Rt(Wt),$t[Kt][1]==St.f&&($t[Kt][0]>>>=1,$t[Kt][1]>>>=1),$t[Kt][1]++,zt=Pt<0?zt-Wt:zt+Wt,St.i&&(zt<0?zt+=wt.w:zt>St.g&&(zt-=wt.w)),Zt[Ht]=zt>=0?Math.min(zt,St.g):0}function pt(St,wt,kt){for(var bt=St[0].length,Tt=wt;Tt<=kt;Tt++)St[Tt][0]=St[Tt-1][1],St[Tt][bt-1]=St[Tt-1][bt-2]}function gt(St){pt(St,at,st),pt(St,et,rt),pt(St,ut,ct)}function _t(St,wt,kt,bt,Tt,Dt,$t,At,Pt,Kt,Ut,It,jt){for(var zt=0,Ht=1,Vt=Tt<ot&&Tt>rt;Ht<St.m;)zt<St.m&&(ht(St,wt,kt,bt,Tt,zt,$t[Pt],St.h&&(Vt&&Kt||!Vt&&(Ut||(zt&It)==jt))),ht(St,wt,kt,bt,Dt,zt,$t[Pt],St.h&&(!Vt&&Kt||Vt&&(Ut||(zt&It)==jt))),zt+=2),zt>8&&(ht(St,wt,kt,bt,Tt,Ht,At[Pt]),ht(St,wt,kt,bt,Dt,Ht,At[Pt]),Ht+=2);gt(bt)}function Et(St,wt,kt,bt,Tt,Dt){_t(St,wt,kt,bt,et,at,Tt,Dt,0,0,1,0,8),_t(St,wt,kt,bt,8,ut,Tt,Dt,1,0,1,0,8),_t(St,wt,kt,bt,3,9,Tt,Dt,2,1,0,3,0),_t(St,wt,kt,bt,10,16,Tt,Dt,0,0,0,3,2),_t(St,wt,kt,bt,rt,11,Tt,Dt,1,0,0,3,2),_t(St,wt,kt,bt,st,ct,Tt,Dt,2,1,0,3,0)}function yt(St,wt,kt,bt,Tt,Dt){var $t=Dt.length,At=St.l;Tt+1==St.s&&(At=St.e-Tt*St.l);for(var Pt=6*St.e*bt+Tt*St.l,Kt=0;Kt<6;Kt++){for(var Ut=0;Ut<At;Ut++){var It,jt=Dt[Kt%$t][Ut%$t];It=jt==0?et+(Kt>>>1):jt==2?ut+(Kt>>>1):at+Kt;var zt=St.h?(2*Ut/3&2147483646|Ut%3&1)+(Ut%3>>>1):Ut>>>1;wt[Pt+Ut]=kt[It][zt+1]}Pt+=St.e}}j._decompressRAF=function(St,wt){var kt=function(Ht){var Vt=j._binBE.readUshort,Wt={b:Vt(Ht,0),i:Ht[2],C:Ht[3],u:Ht[4],q:Vt(Ht,5),k:Vt(Ht,7),e:Vt(Ht,9),l:Vt(Ht,11),s:Ht[13],d:Vt(Ht,14)};if(Wt.b!=18771||Wt.i>1||Wt.q<6||Wt.q%6||Wt.e<768||Wt.e%24||Wt.l!=768||Wt.k<Wt.l||Wt.k%Wt.l||Wt.k-Wt.e>=Wt.l||Wt.s>16||Wt.s!=Wt.k/Wt.l||Wt.s!=Math.ceil(Wt.e/Wt.l)||Wt.d!=Wt.q/6||Wt.u!=12&&Wt.u!=14&&Wt.u!=16||Wt.C!=16&&Wt.C!=0)throw"Invalid data";if(Wt.i==0)throw"Not implemented. We need this file!";return Wt.h=Wt.C==16,Wt.m=0|(Wt.h?2*Wt.l/3:Wt.l>>>1),Wt.A=Wt.m+2,Wt.f=64,Wt.g=(1<<Wt.u)-1,Wt.n=4*Wt.u,Wt}(St),bt=function(Ht,Vt){var Wt=new Array(Vt.s),Zt=4*Vt.s,Qt=16+Zt;12&Zt&&(Qt+=16-(12&Zt));for(var Xt=0,er=16;Xt<Vt.s;er+=4){var ir=j._binBE.readUint(Ht,er);Wt[Xt]=Ht.slice(Qt,Qt+ir),Wt[Xt].j=0,Wt[Xt].a=0,Qt+=ir,Xt++}if(Qt!=Ht.length)throw"Invalid data";return Wt}(St,kt),Tt=ft(kt),Dt=new Int16Array(kt.e*kt.q);wt==null&&(wt=kt.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var $t=[[0,3],[1,rt],[nt,11],[it,st],[ot,16],[lt,ct]],At=[],Pt=0;Pt<18;Pt++)At[Pt]=new Uint16Array(kt.A);for(var Kt=0;Kt<kt.s;Kt++){var Ut=mt(Tt),It=mt(Tt);for(Pt=0;Pt<18;Pt++)for(var jt=0;jt<kt.A;jt++)At[Pt][jt]=0;for(var zt=0;zt<kt.d;zt++){for(Et(kt,Tt,bt[Kt],At,Ut,It),Pt=0;Pt<6;Pt++)for(jt=0;jt<kt.A;jt++)At[$t[Pt][0]][jt]=At[$t[Pt][1]][jt];for(yt(kt,Dt,At,zt,Kt,wt),Pt=et;Pt<18;Pt++)if([nt,it,ot,lt].indexOf(Pt)==-1)for(jt=0;jt<kt.A;jt++)At[Pt][jt]=0;gt(At)}}return Dt}}()}(g,typeof commonjsRequire$1=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const g=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(g)},decode:d=>{const g=utif.decode(d),$=g[0];if(!$)throw new Error("No page found in TIFF");if(!$.t256)throw new Error("No image width found in TIFF");if(!$.t257)throw new Error("No image height found in TIFF");g.forEach(tt=>{utif.decodeImage(d,tt)});const j=utif.toRGBA8($);return{data:Buffer.from(j),width:getDimensionValue($.t256),height:getDimensionValue($.t257)}}}}(function(d){d.assertEqual=g=>g,d.assertIs=function(g){},d.assertNever=function(g){throw new Error},d.arrayToEnum=g=>{const $={};for(const j of g)$[j]=j;return $},d.getValidEnumValues=g=>{const $=d.objectKeys(g).filter(tt=>typeof g[g[tt]]!="number"),j={};for(const tt of $)j[tt]=g[tt];return d.objectValues(j)},d.objectValues=g=>d.objectKeys(g).map(function($){return g[$]}),d.objectKeys=typeof Object.keys=="function"?g=>Object.keys(g):g=>{const $=[];for(const j in g)Object.prototype.hasOwnProperty.call(g,j)&&$.push(j);return $},d.find=(g,$)=>{for(const j of g)if($(j))return j},d.isInteger=typeof Number.isInteger=="function"?g=>Number.isInteger(g):g=>typeof g=="number"&&isFinite(g)&&Math.floor(g)===g,d.joinValues=function(g,$=" | "){return g.map(j=>typeof j=="string"?`'${j}'`:j).join($)},d.jsonStringifyReplacer=(g,$)=>typeof $=="bigint"?$.toString():$})(util$1||(util$1={})),function(d){d.mergeShapes=(g,$)=>({...g,...$})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(g){super(),this.issues=[],this.addIssue=j=>{this.issues=[...this.issues,j]},this.addIssues=(j=[])=>{this.issues=[...this.issues,...j]};const $=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,$):this.__proto__=$,this.name="ZodError",this.issues=g}get errors(){return this.issues}format(g){const $=g||function(et){return et.message},j={_errors:[]},tt=et=>{for(const rt of et.issues)if(rt.code==="invalid_union")rt.unionErrors.map(tt);else if(rt.code==="invalid_return_type")tt(rt.returnTypeError);else if(rt.code==="invalid_arguments")tt(rt.argumentsError);else if(rt.path.length===0)j._errors.push($(rt));else{let nt=j,it=0;for(;it<rt.path.length;){const at=rt.path[it];it===rt.path.length-1?(nt[at]=nt[at]||{_errors:[]},nt[at]._errors.push($(rt))):nt[at]=nt[at]||{_errors:[]},nt=nt[at],it++}}};return tt(this),j}static assert(g){if(!(g instanceof ZodError))throw new Error(`Not a ZodError: ${g}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(g=$=>$.message){const $={},j=[];for(const tt of this.issues)tt.path.length>0?($[tt.path[0]]=$[tt.path[0]]||[],$[tt.path[0]].push(g(tt))):j.push(g(tt));return{formErrors:j,fieldErrors:$}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,g)=>{let $;switch(d.code){case ZodIssueCode.invalid_type:$=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:$=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:$=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:$="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:$=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:$=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:$="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:$="Invalid function return type";break;case ZodIssueCode.invalid_date:$="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?($=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&($=`${$} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?$=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?$=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):$=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:$=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:$=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:$="Invalid input";break;case ZodIssueCode.invalid_intersection_types:$="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:$=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:$="Number must be finite";break;default:$=g.defaultError,util$1.assertNever(d)}return{message:$}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:g,path:$,errorMaps:j,issueData:tt}=d,et=[...$,...tt.path||[]],rt={...tt,path:et};if(tt.message!==void 0)return{...tt,path:et,message:tt.message};let nt="";const it=j.filter(at=>!!at).slice().reverse();for(const at of it)nt=at(rt,{data:g,defaultError:nt}).message;return{...tt,path:et,message:nt}},EMPTY_PATH=[];function addIssueToContext(d,g){const $=getErrorMap(),j=makeIssue({issueData:g,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,$,$===errorMap?void 0:errorMap].filter(tt=>!!tt)});d.common.issues.push(j)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(g,$){const j=[];for(const tt of $){if(tt.status==="aborted")return INVALID;tt.status==="dirty"&&g.dirty(),j.push(tt.value)}return{status:g.value,value:j}}static async mergeObjectAsync(g,$){const j=[];for(const tt of $){const et=await tt.key,rt=await tt.value;j.push({key:et,value:rt})}return ParseStatus.mergeObjectSync(g,j)}static mergeObjectSync(g,$){const j={};for(const tt of $){const{key:et,value:rt}=tt;if(et.status==="aborted"||rt.status==="aborted")return INVALID;et.status==="dirty"&&g.dirty(),rt.status==="dirty"&&g.dirty(),et.value==="__proto__"||rt.value===void 0&&!tt.alwaysSet||(j[et.value]=rt.value)}return{status:g.value,value:j}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,g,$,j){if(typeof g=="function"?d!==g||!j:!g.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g.get(d)}function __classPrivateFieldSet(d,g,$,j,tt){if(typeof g=="function"?d!==g||!tt:!g.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g.set(d,$),$}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,function(d){d.errToObj=g=>typeof g=="string"?{message:g}:g||{},d.toString=g=>typeof g=="string"?g:g==null?void 0:g.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(g,$,j,tt){this._cachedPath=[],this.parent=g,this.data=$,this._path=j,this._key=tt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,g)=>{if(isValid(g))return{success:!0,data:g.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const $=new ZodError(d.common.issues);return this._error=$,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:g,invalid_type_error:$,required_error:j,description:tt}=d;if(g&&($||j))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return g?{errorMap:g,description:tt}:{errorMap:(et,rt)=>{var nt,it;const{message:at}=d;return et.code==="invalid_enum_value"?{message:at??rt.defaultError}:rt.data===void 0?{message:(nt=at??j)!==null&&nt!==void 0?nt:rt.defaultError}:et.code!=="invalid_type"?{message:rt.defaultError}:{message:(it=at??$)!==null&&it!==void 0?it:rt.defaultError}},description:tt}}class ZodType{constructor(g){this.spa=this.safeParseAsync,this._def=g,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(g){return getParsedType(g.data)}_getOrReturnCtx(g,$){return $||{common:g.parent.common,data:g.data,parsedType:getParsedType(g.data),schemaErrorMap:this._def.errorMap,path:g.path,parent:g.parent}}_processInputParams(g){return{status:new ParseStatus,ctx:{common:g.parent.common,data:g.data,parsedType:getParsedType(g.data),schemaErrorMap:this._def.errorMap,path:g.path,parent:g.parent}}}_parseSync(g){const $=this._parse(g);if(isAsync($))throw new Error("Synchronous parse encountered promise.");return $}_parseAsync(g){const $=this._parse(g);return Promise.resolve($)}parse(g,$){const j=this.safeParse(g,$);if(j.success)return j.data;throw j.error}safeParse(g,$){var j;const tt={common:{issues:[],async:(j=$==null?void 0:$.async)!==null&&j!==void 0&&j,contextualErrorMap:$==null?void 0:$.errorMap},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:g,parsedType:getParsedType(g)},et=this._parseSync({data:g,path:tt.path,parent:tt});return handleResult(tt,et)}async parseAsync(g,$){const j=await this.safeParseAsync(g,$);if(j.success)return j.data;throw j.error}async safeParseAsync(g,$){const j={common:{issues:[],contextualErrorMap:$==null?void 0:$.errorMap,async:!0},path:($==null?void 0:$.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:g,parsedType:getParsedType(g)},tt=this._parse({data:g,path:j.path,parent:j}),et=await(isAsync(tt)?tt:Promise.resolve(tt));return handleResult(j,et)}refine(g,$){const j=tt=>typeof $=="string"||$===void 0?{message:$}:typeof $=="function"?$(tt):$;return this._refinement((tt,et)=>{const rt=g(tt),nt=()=>et.addIssue({code:ZodIssueCode.custom,...j(tt)});return typeof Promise<"u"&&rt instanceof Promise?rt.then(it=>!!it||(nt(),!1)):!!rt||(nt(),!1)})}refinement(g,$){return this._refinement((j,tt)=>!!g(j)||(tt.addIssue(typeof $=="function"?$(j,tt):$),!1))}_refinement(g){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:g}})}superRefine(g){return this._refinement(g)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(g){return ZodUnion.create([this,g],this._def)}and(g){return ZodIntersection.create(this,g,this._def)}transform(g){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:g}})}default(g){const $=typeof g=="function"?g:()=>g;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:$,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(g){const $=typeof g=="function"?g:()=>g;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:$,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(g){return new this.constructor({...this._def,description:g})}pipe(g){return ZodPipeline.create(this,g)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let g="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?g=`${g}\\.\\d{${d.precision}}`:d.precision==null&&(g=`${g}(\\.\\d+)?`),g}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let g=`${dateRegexSource}T${timeRegexSource(d)}`;const $=[];return $.push(d.local?"Z?":"Z"),d.offset&&$.push("([+-]\\d{2}:?\\d{2})"),g=`${g}(${$.join("|")})`,new RegExp(`^${g}$`)}function isValidIP(d,g){return!(g!=="v4"&&g||!ipv4Regex.test(d))||!(g!=="v6"&&g||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(g){if(this._def.coerce&&(g.data=String(g.data)),this._getType(g)!==ZodParsedType.string){const tt=this._getOrReturnCtx(g);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:tt.parsedType}),INVALID}const $=new ParseStatus;let j;for(const tt of this._def.checks)if(tt.kind==="min")g.data.length<tt.value&&(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),$.dirty());else if(tt.kind==="max")g.data.length>tt.value&&(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),$.dirty());else if(tt.kind==="length"){const et=g.data.length>tt.value,rt=g.data.length<tt.value;(et||rt)&&(j=this._getOrReturnCtx(g,j),et?addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}):rt&&addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}),$.dirty())}else if(tt.kind==="email")emailRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"email",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"emoji",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="uuid")uuidRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"uuid",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="nanoid")nanoidRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="cuid")cuidRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"cuid",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="cuid2")cuid2Regex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="ulid")ulidRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"ulid",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty());else if(tt.kind==="url")try{new URL(g.data)}catch{j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"url",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty()}else tt.kind==="regex"?(tt.regex.lastIndex=0,tt.regex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"regex",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty())):tt.kind==="trim"?g.data=g.data.trim():tt.kind==="includes"?g.data.includes(tt.value,tt.position)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.invalid_string,validation:{includes:tt.value,position:tt.position},message:tt.message}),$.dirty()):tt.kind==="toLowerCase"?g.data=g.data.toLowerCase():tt.kind==="toUpperCase"?g.data=g.data.toUpperCase():tt.kind==="startsWith"?g.data.startsWith(tt.value)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.invalid_string,validation:{startsWith:tt.value},message:tt.message}),$.dirty()):tt.kind==="endsWith"?g.data.endsWith(tt.value)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.invalid_string,validation:{endsWith:tt.value},message:tt.message}),$.dirty()):tt.kind==="datetime"?datetimeRegex(tt).test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.invalid_string,validation:"datetime",message:tt.message}),$.dirty()):tt.kind==="date"?dateRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.invalid_string,validation:"date",message:tt.message}),$.dirty()):tt.kind==="time"?timeRegex(tt).test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.invalid_string,validation:"time",message:tt.message}),$.dirty()):tt.kind==="duration"?durationRegex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"duration",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty()):tt.kind==="ip"?isValidIP(g.data,tt.version)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"ip",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty()):tt.kind==="base64"?base64Regex.test(g.data)||(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{validation:"base64",code:ZodIssueCode.invalid_string,message:tt.message}),$.dirty()):util$1.assertNever(tt);return{status:$.value,value:g.data}}_regex(g,$,j){return this.refinement(tt=>g.test(tt),{validation:$,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(j)})}_addCheck(g){return new ZodString({...this._def,checks:[...this._def.checks,g]})}email(g){return this._addCheck({kind:"email",...errorUtil.errToObj(g)})}url(g){return this._addCheck({kind:"url",...errorUtil.errToObj(g)})}emoji(g){return this._addCheck({kind:"emoji",...errorUtil.errToObj(g)})}uuid(g){return this._addCheck({kind:"uuid",...errorUtil.errToObj(g)})}nanoid(g){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(g)})}cuid(g){return this._addCheck({kind:"cuid",...errorUtil.errToObj(g)})}cuid2(g){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(g)})}ulid(g){return this._addCheck({kind:"ulid",...errorUtil.errToObj(g)})}base64(g){return this._addCheck({kind:"base64",...errorUtil.errToObj(g)})}ip(g){return this._addCheck({kind:"ip",...errorUtil.errToObj(g)})}datetime(g){var $,j;return typeof g=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:g}):this._addCheck({kind:"datetime",precision:(g==null?void 0:g.precision)===void 0?null:g==null?void 0:g.precision,offset:($=g==null?void 0:g.offset)!==null&&$!==void 0&&$,local:(j=g==null?void 0:g.local)!==null&&j!==void 0&&j,...errorUtil.errToObj(g==null?void 0:g.message)})}date(g){return this._addCheck({kind:"date",message:g})}time(g){return typeof g=="string"?this._addCheck({kind:"time",precision:null,message:g}):this._addCheck({kind:"time",precision:(g==null?void 0:g.precision)===void 0?null:g==null?void 0:g.precision,...errorUtil.errToObj(g==null?void 0:g.message)})}duration(g){return this._addCheck({kind:"duration",...errorUtil.errToObj(g)})}regex(g,$){return this._addCheck({kind:"regex",regex:g,...errorUtil.errToObj($)})}includes(g,$){return this._addCheck({kind:"includes",value:g,position:$==null?void 0:$.position,...errorUtil.errToObj($==null?void 0:$.message)})}startsWith(g,$){return this._addCheck({kind:"startsWith",value:g,...errorUtil.errToObj($)})}endsWith(g,$){return this._addCheck({kind:"endsWith",value:g,...errorUtil.errToObj($)})}min(g,$){return this._addCheck({kind:"min",value:g,...errorUtil.errToObj($)})}max(g,$){return this._addCheck({kind:"max",value:g,...errorUtil.errToObj($)})}length(g,$){return this._addCheck({kind:"length",value:g,...errorUtil.errToObj($)})}nonempty(g){return this.min(1,errorUtil.errToObj(g))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(g=>g.kind==="datetime")}get isDate(){return!!this._def.checks.find(g=>g.kind==="date")}get isTime(){return!!this._def.checks.find(g=>g.kind==="time")}get isDuration(){return!!this._def.checks.find(g=>g.kind==="duration")}get isEmail(){return!!this._def.checks.find(g=>g.kind==="email")}get isURL(){return!!this._def.checks.find(g=>g.kind==="url")}get isEmoji(){return!!this._def.checks.find(g=>g.kind==="emoji")}get isUUID(){return!!this._def.checks.find(g=>g.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(g=>g.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(g=>g.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(g=>g.kind==="cuid2")}get isULID(){return!!this._def.checks.find(g=>g.kind==="ulid")}get isIP(){return!!this._def.checks.find(g=>g.kind==="ip")}get isBase64(){return!!this._def.checks.find(g=>g.kind==="base64")}get minLength(){let g=null;for(const $ of this._def.checks)$.kind==="min"&&(g===null||$.value>g)&&(g=$.value);return g}get maxLength(){let g=null;for(const $ of this._def.checks)$.kind==="max"&&(g===null||$.value<g)&&(g=$.value);return g}}function floatSafeRemainder(d,g){const $=(d.toString().split(".")[1]||"").length,j=(g.toString().split(".")[1]||"").length,tt=$>j?$:j;return parseInt(d.toFixed(tt).replace(".",""))%parseInt(g.toFixed(tt).replace(".",""))/Math.pow(10,tt)}ZodString.create=d=>{var g;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(g=d==null?void 0:d.coerce)!==null&&g!==void 0&&g,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(g){if(this._def.coerce&&(g.data=Number(g.data)),this._getType(g)!==ZodParsedType.number){const tt=this._getOrReturnCtx(g);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:tt.parsedType}),INVALID}let $;const j=new ParseStatus;for(const tt of this._def.checks)tt.kind==="int"?util$1.isInteger(g.data)||($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:tt.message}),j.dirty()):tt.kind==="min"?(tt.inclusive?g.data<tt.value:g.data<=tt.value)&&($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.too_small,minimum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),j.dirty()):tt.kind==="max"?(tt.inclusive?g.data>tt.value:g.data>=tt.value)&&($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.too_big,maximum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),j.dirty()):tt.kind==="multipleOf"?floatSafeRemainder(g.data,tt.value)!==0&&($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),j.dirty()):tt.kind==="finite"?Number.isFinite(g.data)||($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.not_finite,message:tt.message}),j.dirty()):util$1.assertNever(tt);return{status:j.value,value:g.data}}gte(g,$){return this.setLimit("min",g,!0,errorUtil.toString($))}gt(g,$){return this.setLimit("min",g,!1,errorUtil.toString($))}lte(g,$){return this.setLimit("max",g,!0,errorUtil.toString($))}lt(g,$){return this.setLimit("max",g,!1,errorUtil.toString($))}setLimit(g,$,j,tt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:g,value:$,inclusive:j,message:errorUtil.toString(tt)}]})}_addCheck(g){return new ZodNumber({...this._def,checks:[...this._def.checks,g]})}int(g){return this._addCheck({kind:"int",message:errorUtil.toString(g)})}positive(g){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(g)})}negative(g){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(g)})}nonpositive(g){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(g)})}nonnegative(g){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(g)})}multipleOf(g,$){return this._addCheck({kind:"multipleOf",value:g,message:errorUtil.toString($)})}finite(g){return this._addCheck({kind:"finite",message:errorUtil.toString(g)})}safe(g){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(g)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(g)})}get minValue(){let g=null;for(const $ of this._def.checks)$.kind==="min"&&(g===null||$.value>g)&&(g=$.value);return g}get maxValue(){let g=null;for(const $ of this._def.checks)$.kind==="max"&&(g===null||$.value<g)&&(g=$.value);return g}get isInt(){return!!this._def.checks.find(g=>g.kind==="int"||g.kind==="multipleOf"&&util$1.isInteger(g.value))}get isFinite(){let g=null,$=null;for(const j of this._def.checks){if(j.kind==="finite"||j.kind==="int"||j.kind==="multipleOf")return!0;j.kind==="min"?($===null||j.value>$)&&($=j.value):j.kind==="max"&&(g===null||j.value<g)&&(g=j.value)}return Number.isFinite($)&&Number.isFinite(g)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(g){if(this._def.coerce&&(g.data=BigInt(g.data)),this._getType(g)!==ZodParsedType.bigint){const tt=this._getOrReturnCtx(g);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:tt.parsedType}),INVALID}let $;const j=new ParseStatus;for(const tt of this._def.checks)tt.kind==="min"?(tt.inclusive?g.data<tt.value:g.data<=tt.value)&&($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.too_small,type:"bigint",minimum:tt.value,inclusive:tt.inclusive,message:tt.message}),j.dirty()):tt.kind==="max"?(tt.inclusive?g.data>tt.value:g.data>=tt.value)&&($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.too_big,type:"bigint",maximum:tt.value,inclusive:tt.inclusive,message:tt.message}),j.dirty()):tt.kind==="multipleOf"?g.data%tt.value!==BigInt(0)&&($=this._getOrReturnCtx(g,$),addIssueToContext($,{code:ZodIssueCode.not_multiple_of,multipleOf:tt.value,message:tt.message}),j.dirty()):util$1.assertNever(tt);return{status:j.value,value:g.data}}gte(g,$){return this.setLimit("min",g,!0,errorUtil.toString($))}gt(g,$){return this.setLimit("min",g,!1,errorUtil.toString($))}lte(g,$){return this.setLimit("max",g,!0,errorUtil.toString($))}lt(g,$){return this.setLimit("max",g,!1,errorUtil.toString($))}setLimit(g,$,j,tt){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:g,value:$,inclusive:j,message:errorUtil.toString(tt)}]})}_addCheck(g){return new ZodBigInt({...this._def,checks:[...this._def.checks,g]})}positive(g){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(g)})}negative(g){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(g)})}nonpositive(g){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(g)})}nonnegative(g){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(g)})}multipleOf(g,$){return this._addCheck({kind:"multipleOf",value:g,message:errorUtil.toString($)})}get minValue(){let g=null;for(const $ of this._def.checks)$.kind==="min"&&(g===null||$.value>g)&&(g=$.value);return g}get maxValue(){let g=null;for(const $ of this._def.checks)$.kind==="max"&&(g===null||$.value<g)&&(g=$.value);return g}}ZodBigInt.create=d=>{var g;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(g=d==null?void 0:d.coerce)!==null&&g!==void 0&&g,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(g){if(this._def.coerce&&(g.data=!!g.data),this._getType(g)!==ZodParsedType.boolean){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:$.parsedType}),INVALID}return OK(g.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(g){if(this._def.coerce&&(g.data=new Date(g.data)),this._getType(g)!==ZodParsedType.date){const tt=this._getOrReturnCtx(g);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:tt.parsedType}),INVALID}if(isNaN(g.data.getTime()))return addIssueToContext(this._getOrReturnCtx(g),{code:ZodIssueCode.invalid_date}),INVALID;const $=new ParseStatus;let j;for(const tt of this._def.checks)tt.kind==="min"?g.data.getTime()<tt.value&&(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.too_small,message:tt.message,inclusive:!0,exact:!1,minimum:tt.value,type:"date"}),$.dirty()):tt.kind==="max"?g.data.getTime()>tt.value&&(j=this._getOrReturnCtx(g,j),addIssueToContext(j,{code:ZodIssueCode.too_big,message:tt.message,inclusive:!0,exact:!1,maximum:tt.value,type:"date"}),$.dirty()):util$1.assertNever(tt);return{status:$.value,value:new Date(g.data.getTime())}}_addCheck(g){return new ZodDate({...this._def,checks:[...this._def.checks,g]})}min(g,$){return this._addCheck({kind:"min",value:g.getTime(),message:errorUtil.toString($)})}max(g,$){return this._addCheck({kind:"max",value:g.getTime(),message:errorUtil.toString($)})}get minDate(){let g=null;for(const $ of this._def.checks)$.kind==="min"&&(g===null||$.value>g)&&(g=$.value);return g!=null?new Date(g):null}get maxDate(){let g=null;for(const $ of this._def.checks)$.kind==="max"&&(g===null||$.value<g)&&(g=$.value);return g!=null?new Date(g):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(g){if(this._getType(g)!==ZodParsedType.symbol){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:$.parsedType}),INVALID}return OK(g.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(g){if(this._getType(g)!==ZodParsedType.undefined){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:$.parsedType}),INVALID}return OK(g.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(g){if(this._getType(g)!==ZodParsedType.null){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:$.parsedType}),INVALID}return OK(g.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(g){return OK(g.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(g){return OK(g.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(g){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:$.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(g){if(this._getType(g)!==ZodParsedType.undefined){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:$.parsedType}),INVALID}return OK(g.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(g){const{ctx:$,status:j}=this._processInputParams(g),tt=this._def;if($.parsedType!==ZodParsedType.array)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:$.parsedType}),INVALID;if(tt.exactLength!==null){const rt=$.data.length>tt.exactLength.value,nt=$.data.length<tt.exactLength.value;(rt||nt)&&(addIssueToContext($,{code:rt?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:nt?tt.exactLength.value:void 0,maximum:rt?tt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:tt.exactLength.message}),j.dirty())}if(tt.minLength!==null&&$.data.length<tt.minLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_small,minimum:tt.minLength.value,type:"array",inclusive:!0,exact:!1,message:tt.minLength.message}),j.dirty()),tt.maxLength!==null&&$.data.length>tt.maxLength.value&&(addIssueToContext($,{code:ZodIssueCode.too_big,maximum:tt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:tt.maxLength.message}),j.dirty()),$.common.async)return Promise.all([...$.data].map((rt,nt)=>tt.type._parseAsync(new ParseInputLazyPath($,rt,$.path,nt)))).then(rt=>ParseStatus.mergeArray(j,rt));const et=[...$.data].map((rt,nt)=>tt.type._parseSync(new ParseInputLazyPath($,rt,$.path,nt)));return ParseStatus.mergeArray(j,et)}get element(){return this._def.type}min(g,$){return new ZodArray({...this._def,minLength:{value:g,message:errorUtil.toString($)}})}max(g,$){return new ZodArray({...this._def,maxLength:{value:g,message:errorUtil.toString($)}})}length(g,$){return new ZodArray({...this._def,exactLength:{value:g,message:errorUtil.toString($)}})}nonempty(g){return this.min(1,g)}}function deepPartialify(d){if(d instanceof ZodObject){const g={};for(const $ in d.shape){const j=d.shape[$];g[$]=ZodOptional.create(deepPartialify(j))}return new ZodObject({...d._def,shape:()=>g})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map(g=>deepPartialify(g))):d}ZodArray.create=(d,g)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(g)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const g=this._def.shape(),$=util$1.objectKeys(g);return this._cached={shape:g,keys:$}}_parse(g){if(this._getType(g)!==ZodParsedType.object){const it=this._getOrReturnCtx(g);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:it.parsedType}),INVALID}const{status:$,ctx:j}=this._processInputParams(g),{shape:tt,keys:et}=this._getCached(),rt=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const it in j.data)et.includes(it)||rt.push(it);const nt=[];for(const it of et){const at=tt[it],st=j.data[it];nt.push({key:{status:"valid",value:it},value:at._parse(new ParseInputLazyPath(j,st,j.path,it)),alwaysSet:it in j.data})}if(this._def.catchall instanceof ZodNever){const it=this._def.unknownKeys;if(it==="passthrough")for(const at of rt)nt.push({key:{status:"valid",value:at},value:{status:"valid",value:j.data[at]}});else if(it==="strict")rt.length>0&&(addIssueToContext(j,{code:ZodIssueCode.unrecognized_keys,keys:rt}),$.dirty());else if(it!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const it=this._def.catchall;for(const at of rt){const st=j.data[at];nt.push({key:{status:"valid",value:at},value:it._parse(new ParseInputLazyPath(j,st,j.path,at)),alwaysSet:at in j.data})}}return j.common.async?Promise.resolve().then(async()=>{const it=[];for(const at of nt){const st=await at.key,ot=await at.value;it.push({key:st,value:ot,alwaysSet:at.alwaysSet})}return it}).then(it=>ParseStatus.mergeObjectSync($,it)):ParseStatus.mergeObjectSync($,nt)}get shape(){return this._def.shape()}strict(g){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...g!==void 0?{errorMap:($,j)=>{var tt,et,rt,nt;const it=(rt=(et=(tt=this._def).errorMap)===null||et===void 0?void 0:et.call(tt,$,j).message)!==null&&rt!==void 0?rt:j.defaultError;return $.code==="unrecognized_keys"?{message:(nt=errorUtil.errToObj(g).message)!==null&&nt!==void 0?nt:it}:{message:it}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(g){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...g})})}merge(g){return new ZodObject({unknownKeys:g._def.unknownKeys,catchall:g._def.catchall,shape:()=>({...this._def.shape(),...g._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(g,$){return this.augment({[g]:$})}catchall(g){return new ZodObject({...this._def,catchall:g})}pick(g){const $={};return util$1.objectKeys(g).forEach(j=>{g[j]&&this.shape[j]&&($[j]=this.shape[j])}),new ZodObject({...this._def,shape:()=>$})}omit(g){const $={};return util$1.objectKeys(this.shape).forEach(j=>{g[j]||($[j]=this.shape[j])}),new ZodObject({...this._def,shape:()=>$})}deepPartial(){return deepPartialify(this)}partial(g){const $={};return util$1.objectKeys(this.shape).forEach(j=>{const tt=this.shape[j];g&&!g[j]?$[j]=tt:$[j]=tt.optional()}),new ZodObject({...this._def,shape:()=>$})}required(g){const $={};return util$1.objectKeys(this.shape).forEach(j=>{if(g&&!g[j])$[j]=this.shape[j];else{let tt=this.shape[j];for(;tt instanceof ZodOptional;)tt=tt._def.innerType;$[j]=tt}}),new ZodObject({...this._def,shape:()=>$})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,g)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(g)}),ZodObject.strictCreate=(d,g)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(g)}),ZodObject.lazycreate=(d,g)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(g)});class ZodUnion extends ZodType{_parse(g){const{ctx:$}=this._processInputParams(g),j=this._def.options;if($.common.async)return Promise.all(j.map(async tt=>{const et={...$,common:{...$.common,issues:[]},parent:null};return{result:await tt._parseAsync({data:$.data,path:$.path,parent:et}),ctx:et}})).then(function(tt){for(const rt of tt)if(rt.result.status==="valid")return rt.result;for(const rt of tt)if(rt.result.status==="dirty")return $.common.issues.push(...rt.ctx.common.issues),rt.result;const et=tt.map(rt=>new ZodError(rt.ctx.common.issues));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:et}),INVALID});{let tt;const et=[];for(const nt of j){const it={...$,common:{...$.common,issues:[]},parent:null},at=nt._parseSync({data:$.data,path:$.path,parent:it});if(at.status==="valid")return at;at.status!=="dirty"||tt||(tt={result:at,ctx:it}),it.common.issues.length&&et.push(it.common.issues)}if(tt)return $.common.issues.push(...tt.ctx.common.issues),tt.result;const rt=et.map(nt=>new ZodError(nt));return addIssueToContext($,{code:ZodIssueCode.invalid_union,unionErrors:rt}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,g)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(g)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(g){const{ctx:$}=this._processInputParams(g);if($.parsedType!==ZodParsedType.object)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:$.parsedType}),INVALID;const j=this.discriminator,tt=$.data[j],et=this.optionsMap.get(tt);return et?$.common.async?et._parseAsync({data:$.data,path:$.path,parent:$}):et._parseSync({data:$.data,path:$.path,parent:$}):(addIssueToContext($,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[j]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(g,$,j){const tt=new Map;for(const et of $){const rt=getDiscriminator(et.shape[g]);if(!rt.length)throw new Error(`A discriminator value for key \`${g}\` could not be extracted from all schema options`);for(const nt of rt){if(tt.has(nt))throw new Error(`Discriminator property ${String(g)} has duplicate value ${String(nt)}`);tt.set(nt,et)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:g,options:$,optionsMap:tt,...processCreateParams(j)})}}function mergeValues(d,g){const $=getParsedType(d),j=getParsedType(g);if(d===g)return{valid:!0,data:d};if($===ZodParsedType.object&&j===ZodParsedType.object){const tt=util$1.objectKeys(g),et=util$1.objectKeys(d).filter(nt=>tt.indexOf(nt)!==-1),rt={...d,...g};for(const nt of et){const it=mergeValues(d[nt],g[nt]);if(!it.valid)return{valid:!1};rt[nt]=it.data}return{valid:!0,data:rt}}if($===ZodParsedType.array&&j===ZodParsedType.array){if(d.length!==g.length)return{valid:!1};const tt=[];for(let et=0;et<d.length;et++){const rt=mergeValues(d[et],g[et]);if(!rt.valid)return{valid:!1};tt.push(rt.data)}return{valid:!0,data:tt}}return $===ZodParsedType.date&&j===ZodParsedType.date&&+d==+g?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(g){const{status:$,ctx:j}=this._processInputParams(g),tt=(et,rt)=>{if(isAborted(et)||isAborted(rt))return INVALID;const nt=mergeValues(et.value,rt.value);return nt.valid?((isDirty(et)||isDirty(rt))&&$.dirty(),{status:$.value,value:nt.data}):(addIssueToContext(j,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return j.common.async?Promise.all([this._def.left._parseAsync({data:j.data,path:j.path,parent:j}),this._def.right._parseAsync({data:j.data,path:j.path,parent:j})]).then(([et,rt])=>tt(et,rt)):tt(this._def.left._parseSync({data:j.data,path:j.path,parent:j}),this._def.right._parseSync({data:j.data,path:j.path,parent:j}))}}ZodIntersection.create=(d,g,$)=>new ZodIntersection({left:d,right:g,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams($)});class ZodTuple extends ZodType{_parse(g){const{status:$,ctx:j}=this._processInputParams(g);if(j.parsedType!==ZodParsedType.array)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:j.parsedType}),INVALID;if(j.data.length<this._def.items.length)return addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&j.data.length>this._def.items.length&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$.dirty());const tt=[...j.data].map((et,rt)=>{const nt=this._def.items[rt]||this._def.rest;return nt?nt._parse(new ParseInputLazyPath(j,et,j.path,rt)):null}).filter(et=>!!et);return j.common.async?Promise.all(tt).then(et=>ParseStatus.mergeArray($,et)):ParseStatus.mergeArray($,tt)}get items(){return this._def.items}rest(g){return new ZodTuple({...this._def,rest:g})}}ZodTuple.create=(d,g)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(g)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(g){const{status:$,ctx:j}=this._processInputParams(g);if(j.parsedType!==ZodParsedType.object)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:j.parsedType}),INVALID;const tt=[],et=this._def.keyType,rt=this._def.valueType;for(const nt in j.data)tt.push({key:et._parse(new ParseInputLazyPath(j,nt,j.path,nt)),value:rt._parse(new ParseInputLazyPath(j,j.data[nt],j.path,nt)),alwaysSet:nt in j.data});return j.common.async?ParseStatus.mergeObjectAsync($,tt):ParseStatus.mergeObjectSync($,tt)}get element(){return this._def.valueType}static create(g,$,j){return new ZodRecord($ instanceof ZodType?{keyType:g,valueType:$,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(j)}:{keyType:ZodString.create(),valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams($)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(g){const{status:$,ctx:j}=this._processInputParams(g);if(j.parsedType!==ZodParsedType.map)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:j.parsedType}),INVALID;const tt=this._def.keyType,et=this._def.valueType,rt=[...j.data.entries()].map(([nt,it],at)=>({key:tt._parse(new ParseInputLazyPath(j,nt,j.path,[at,"key"])),value:et._parse(new ParseInputLazyPath(j,it,j.path,[at,"value"]))}));if(j.common.async){const nt=new Map;return Promise.resolve().then(async()=>{for(const it of rt){const at=await it.key,st=await it.value;if(at.status==="aborted"||st.status==="aborted")return INVALID;at.status!=="dirty"&&st.status!=="dirty"||$.dirty(),nt.set(at.value,st.value)}return{status:$.value,value:nt}})}{const nt=new Map;for(const it of rt){const at=it.key,st=it.value;if(at.status==="aborted"||st.status==="aborted")return INVALID;at.status!=="dirty"&&st.status!=="dirty"||$.dirty(),nt.set(at.value,st.value)}return{status:$.value,value:nt}}}}ZodMap.create=(d,g,$)=>new ZodMap({valueType:g,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams($)});class ZodSet extends ZodType{_parse(g){const{status:$,ctx:j}=this._processInputParams(g);if(j.parsedType!==ZodParsedType.set)return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:j.parsedType}),INVALID;const tt=this._def;tt.minSize!==null&&j.data.size<tt.minSize.value&&(addIssueToContext(j,{code:ZodIssueCode.too_small,minimum:tt.minSize.value,type:"set",inclusive:!0,exact:!1,message:tt.minSize.message}),$.dirty()),tt.maxSize!==null&&j.data.size>tt.maxSize.value&&(addIssueToContext(j,{code:ZodIssueCode.too_big,maximum:tt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:tt.maxSize.message}),$.dirty());const et=this._def.valueType;function rt(it){const at=new Set;for(const st of it){if(st.status==="aborted")return INVALID;st.status==="dirty"&&$.dirty(),at.add(st.value)}return{status:$.value,value:at}}const nt=[...j.data.values()].map((it,at)=>et._parse(new ParseInputLazyPath(j,it,j.path,at)));return j.common.async?Promise.all(nt).then(it=>rt(it)):rt(nt)}min(g,$){return new ZodSet({...this._def,minSize:{value:g,message:errorUtil.toString($)}})}max(g,$){return new ZodSet({...this._def,maxSize:{value:g,message:errorUtil.toString($)}})}size(g,$){return this.min(g,$).max(g,$)}nonempty(g){return this.min(1,g)}}ZodSet.create=(d,g)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(g)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(g){const{ctx:$}=this._processInputParams(g);if($.parsedType!==ZodParsedType.function)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:$.parsedType}),INVALID;function j(nt,it){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(at=>!!at),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:it}})}function tt(nt,it){return makeIssue({data:nt,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,getErrorMap(),errorMap].filter(at=>!!at),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:it}})}const et={errorMap:$.common.contextualErrorMap},rt=$.data;if(this._def.returns instanceof ZodPromise){const nt=this;return OK(async function(...it){const at=new ZodError([]),st=await nt._def.args.parseAsync(it,et).catch(ut=>{throw at.addIssue(j(it,ut)),at}),ot=await Reflect.apply(rt,this,st);return await nt._def.returns._def.type.parseAsync(ot,et).catch(ut=>{throw at.addIssue(tt(ot,ut)),at})})}{const nt=this;return OK(function(...it){const at=nt._def.args.safeParse(it,et);if(!at.success)throw new ZodError([j(it,at.error)]);const st=Reflect.apply(rt,this,at.data),ot=nt._def.returns.safeParse(st,et);if(!ot.success)throw new ZodError([tt(st,ot.error)]);return ot.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...g){return new ZodFunction({...this._def,args:ZodTuple.create(g).rest(ZodUnknown.create())})}returns(g){return new ZodFunction({...this._def,returns:g})}implement(g){return this.parse(g)}strictImplement(g){return this.parse(g)}static create(g,$,j){return new ZodFunction({args:g||ZodTuple.create([]).rest(ZodUnknown.create()),returns:$||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(j)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(g){const{ctx:$}=this._processInputParams(g);return this._def.getter()._parse({data:$.data,path:$.path,parent:$})}}ZodLazy.create=(d,g)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(g)});class ZodLiteral extends ZodType{_parse(g){if(g.data!==this._def.value){const $=this._getOrReturnCtx(g);return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:g.data}}get value(){return this._def.value}}function createZodEnum(d,g){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(g)})}ZodLiteral.create=(d,g)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(g)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(g){if(typeof g.data!="string"){const $=this._getOrReturnCtx(g),j=this._def.values;return addIssueToContext($,{expected:util$1.joinValues(j),received:$.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(g.data)){const $=this._getOrReturnCtx(g),j=this._def.values;return addIssueToContext($,{received:$.data,code:ZodIssueCode.invalid_enum_value,options:j}),INVALID}return OK(g.data)}get options(){return this._def.values}get enum(){const g={};for(const $ of this._def.values)g[$]=$;return g}get Values(){const g={};for(const $ of this._def.values)g[$]=$;return g}get Enum(){const g={};for(const $ of this._def.values)g[$]=$;return g}extract(g,$=this._def){return ZodEnum.create(g,{...this._def,...$})}exclude(g,$=this._def){return ZodEnum.create(this.options.filter(j=>!g.includes(j)),{...this._def,...$})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(g){const $=util$1.getValidEnumValues(this._def.values),j=this._getOrReturnCtx(g);if(j.parsedType!==ZodParsedType.string&&j.parsedType!==ZodParsedType.number){const tt=util$1.objectValues($);return addIssueToContext(j,{expected:util$1.joinValues(tt),received:j.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(g.data)){const tt=util$1.objectValues($);return addIssueToContext(j,{received:j.data,code:ZodIssueCode.invalid_enum_value,options:tt}),INVALID}return OK(g.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,g)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(g)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(g){const{ctx:$}=this._processInputParams(g);if($.parsedType!==ZodParsedType.promise&&$.common.async===!1)return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:$.parsedType}),INVALID;const j=$.parsedType===ZodParsedType.promise?$.data:Promise.resolve($.data);return OK(j.then(tt=>this._def.type.parseAsync(tt,{path:$.path,errorMap:$.common.contextualErrorMap})))}}ZodPromise.create=(d,g)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(g)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(g){const{status:$,ctx:j}=this._processInputParams(g),tt=this._def.effect||null,et={addIssue:rt=>{addIssueToContext(j,rt),rt.fatal?$.abort():$.dirty()},get path(){return j.path}};if(et.addIssue=et.addIssue.bind(et),tt.type==="preprocess"){const rt=tt.transform(j.data,et);if(j.common.async)return Promise.resolve(rt).then(async nt=>{if($.value==="aborted")return INVALID;const it=await this._def.schema._parseAsync({data:nt,path:j.path,parent:j});return it.status==="aborted"?INVALID:it.status==="dirty"||$.value==="dirty"?DIRTY(it.value):it});{if($.value==="aborted")return INVALID;const nt=this._def.schema._parseSync({data:rt,path:j.path,parent:j});return nt.status==="aborted"?INVALID:nt.status==="dirty"||$.value==="dirty"?DIRTY(nt.value):nt}}if(tt.type==="refinement"){const rt=nt=>{const it=tt.refinement(nt,et);if(j.common.async)return Promise.resolve(it);if(it instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return nt};if(j.common.async===!1){const nt=this._def.schema._parseSync({data:j.data,path:j.path,parent:j});return nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value),{status:$.value,value:nt.value})}return this._def.schema._parseAsync({data:j.data,path:j.path,parent:j}).then(nt=>nt.status==="aborted"?INVALID:(nt.status==="dirty"&&$.dirty(),rt(nt.value).then(()=>({status:$.value,value:nt.value}))))}if(tt.type==="transform"){if(j.common.async===!1){const rt=this._def.schema._parseSync({data:j.data,path:j.path,parent:j});if(!isValid(rt))return rt;const nt=tt.transform(rt.value,et);if(nt instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:$.value,value:nt}}return this._def.schema._parseAsync({data:j.data,path:j.path,parent:j}).then(rt=>isValid(rt)?Promise.resolve(tt.transform(rt.value,et)).then(nt=>({status:$.value,value:nt})):rt)}util$1.assertNever(tt)}}ZodEffects.create=(d,g,$)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:g,...processCreateParams($)}),ZodEffects.createWithPreprocess=(d,g,$)=>new ZodEffects({schema:g,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams($)});class ZodOptional extends ZodType{_parse(g){return this._getType(g)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(g)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,g)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(g)});class ZodNullable extends ZodType{_parse(g){return this._getType(g)===ZodParsedType.null?OK(null):this._def.innerType._parse(g)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,g)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(g)});class ZodDefault extends ZodType{_parse(g){const{ctx:$}=this._processInputParams(g);let j=$.data;return $.parsedType===ZodParsedType.undefined&&(j=this._def.defaultValue()),this._def.innerType._parse({data:j,path:$.path,parent:$})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,g)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof g.default=="function"?g.default:()=>g.default,...processCreateParams(g)});class ZodCatch extends ZodType{_parse(g){const{ctx:$}=this._processInputParams(g),j={...$,common:{...$.common,issues:[]}},tt=this._def.innerType._parse({data:j.data,path:j.path,parent:{...j}});return isAsync(tt)?tt.then(et=>({status:"valid",value:et.status==="valid"?et.value:this._def.catchValue({get error(){return new ZodError(j.common.issues)},input:j.data})})):{status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new ZodError(j.common.issues)},input:j.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,g)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof g.catch=="function"?g.catch:()=>g.catch,...processCreateParams(g)});class ZodNaN extends ZodType{_parse(g){if(this._getType(g)!==ZodParsedType.nan){const $=this._getOrReturnCtx(g);return addIssueToContext($,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:$.parsedType}),INVALID}return{status:"valid",value:g.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(g){const{ctx:$}=this._processInputParams(g),j=$.data;return this._def.type._parse({data:j,path:$.path,parent:$})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(g){const{status:$,ctx:j}=this._processInputParams(g);if(j.common.async)return(async()=>{const tt=await this._def.in._parseAsync({data:j.data,path:j.path,parent:j});return tt.status==="aborted"?INVALID:tt.status==="dirty"?($.dirty(),DIRTY(tt.value)):this._def.out._parseAsync({data:tt.value,path:j.path,parent:j})})();{const tt=this._def.in._parseSync({data:j.data,path:j.path,parent:j});return tt.status==="aborted"?INVALID:tt.status==="dirty"?($.dirty(),{status:"dirty",value:tt.value}):this._def.out._parseSync({data:tt.value,path:j.path,parent:j})}}static create(g,$){return new ZodPipeline({in:g,out:$,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(g){const $=this._def.innerType._parse(g),j=tt=>(isValid(tt)&&(tt.value=Object.freeze(tt.value)),tt);return isAsync($)?$.then(tt=>j(tt)):j($)}unwrap(){return this._def.innerType}}function custom(d,g={},$){return d?ZodAny.create().superRefine((j,tt)=>{var et,rt;if(!d(j)){const nt=typeof g=="function"?g(j):typeof g=="string"?{message:g}:g,it=(rt=(et=nt.fatal)!==null&&et!==void 0?et:$)===null||rt===void 0||rt,at=typeof nt=="string"?{message:nt}:nt;tt.addIssue({code:"custom",...at,fatal:it})}}):ZodAny.create()}ZodReadonly.create=(d,g)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(g)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,g={message:`Input not instance of ${d.name}`})=>custom($=>$ instanceof d,g),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z.object({bitmap:z.object({data:z.union([z.instanceof(Buffer),z.instanceof(Uint8Array)]),width:z.number(),height:z.number()})}),BlitOptionsSchemaComplex=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional(),srcX:z.number().optional(),srcY:z.number().optional(),srcW:z.number().optional(),srcH:z.number().optional()}),BlitOptionsSchema=z.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,g){const $=BlitOptionsSchema.parse(g);let{src:j,x:tt=0,y:et=0,srcX:rt=0,srcY:nt=0,srcW:it=j.bitmap.width,srcH:at=j.bitmap.height}="bitmap"in $?{src:$}:$;if(!("bitmap"in j))throw new Error("The source must be a Jimp image");if(typeof tt!="number"||typeof et!="number")throw new Error("x and y must be numbers");tt=Math.round(tt),et=Math.round(et),rt=Math.round(rt),nt=Math.round(nt),it=Math.round(it),at=Math.round(at);const st=d.bitmap.width,ot=d.bitmap.height;return scan(j,rt,nt,it,at,function(lt,ut,ct){const ft=tt+lt-rt,mt=et+ut-nt;if(ft>=0&&mt>=0&&st-ft>0&&ot-mt>0){const dt=d.getPixelIndex(ft,mt),ht={r:j.bitmap.data[ct]||0,g:j.bitmap.data[ct+1]||0,b:j.bitmap.data[ct+2]||0,a:j.bitmap.data[ct+3]||0},pt={r:d.bitmap.data[dt]||0,g:d.bitmap.data[dt+1]||0,b:d.bitmap.data[dt+2]||0,a:d.bitmap.data[dt+3]||0};d.bitmap.data[dt]=(ht.a*(ht.r-pt.r)-pt.r+255>>8)+pt.r,d.bitmap.data[dt+1]=(ht.a*(ht.g-pt.g)-pt.g+255>>8)+pt.g,d.bitmap.data[dt+2]=(ht.a*(ht.b-pt.b)-pt.b+255>>8)+pt.b,d.bitmap.data[dt+3]=limit255(pt.a+ht.a)}}),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,g){if(typeof g!="number")throw new Error("r must be a number");if(g<1)throw new Error("r must be greater than 0");let $,j,tt,et,rt,nt,it,at,st,ot,lt,ut,ct;const ft=d.bitmap.width-1,mt=d.bitmap.height-1,dt=g+1,ht=mulTable[g],pt=shgTable[g],gt=[],_t=[],Et=[],yt=[],St=[],wt=[];let kt=2;for(;kt-- >0;){for(ut=0,ct=0,nt=0;nt<d.bitmap.height;nt++){for($=d.bitmap.data[ct]*dt,j=d.bitmap.data[ct+1]*dt,tt=d.bitmap.data[ct+2]*dt,et=d.bitmap.data[ct+3]*dt,it=1;it<=g;it++)at=ct+((it>ft?ft:it)<<2),$+=d.bitmap.data[at++],j+=d.bitmap.data[at++],tt+=d.bitmap.data[at++],et+=d.bitmap.data[at];for(rt=0;rt<d.bitmap.width;rt++)gt[ut]=$,_t[ut]=j,Et[ut]=tt,yt[ut]=et,nt===0&&(St[rt]=((at=rt+dt)<ft?at:ft)<<2,wt[rt]=(at=rt-g)>0?at<<2:0),st=ct+St[rt],ot=ct+wt[rt],$+=d.bitmap.data[st++]-d.bitmap.data[ot++],j+=d.bitmap.data[st++]-d.bitmap.data[ot++],tt+=d.bitmap.data[st++]-d.bitmap.data[ot++],et+=d.bitmap.data[st]-d.bitmap.data[ot++],ut++;ct+=d.bitmap.width<<2}for(rt=0;rt<d.bitmap.width;rt++){for(lt=rt,$=gt[lt]*dt,j=_t[lt]*dt,tt=Et[lt]*dt,et=yt[lt]*dt,it=1;it<=g;it++)lt+=it>mt?0:d.bitmap.width,$+=gt[lt],j+=_t[lt],tt+=Et[lt],et+=yt[lt];for(ut=rt<<2,nt=0;nt<d.bitmap.height;nt++)d.bitmap.data[ut]=limit255($*ht>>>pt),d.bitmap.data[ut+1]=limit255(j*ht>>>pt),d.bitmap.data[ut+2]=limit255(tt*ht>>>pt),d.bitmap.data[ut+3]=limit255(et*ht>>>pt),rt===0&&(St[nt]=((at=nt+dt)<mt?at:mt)*d.bitmap.width,wt[nt]=(at=nt-g)>0?at*d.bitmap.width:0),st=rt+St[nt],ot=rt+wt[nt],$+=gt[st]-gt[ot],j+=_t[st]-_t[ot],tt+=Et[st]-Et[ot],et+=yt[st]-yt[ot],ut+=d.bitmap.width<<2}}return d},gaussian(d,g){if(typeof g!="number")throw new Error("r must be a number");if(g<1)throw new Error("r must be greater than 0");const $=Math.ceil(2.57*g),j=2*$+1,tt=g*g*2,et=tt*Math.PI,rt=[];for(let nt=0;nt<j;nt++){const it=[];for(let at=0;at<j;at++){const st=(at-$)**2+(nt-$)**2;it[at]=Math.exp(-st/tt)/et}rt.push(it)}for(let nt=0;nt<d.bitmap.height;nt++)for(let it=0;it<d.bitmap.width;it++){let at=0,st=0,ot=0,lt=0,ut=0;for(let ct=0;ct<j;ct++){for(let mt=0;mt<j;mt++){const dt=Math.min(d.bitmap.width-1,Math.max(0,mt+it-$)),ht=Math.min(d.bitmap.height-1,Math.max(0,ct+nt-$)),pt=rt[ct][mt],gt=ht*d.bitmap.width+dt<<2;at+=d.bitmap.data[gt]*pt,st+=d.bitmap.data[gt+1]*pt,ot+=d.bitmap.data[gt+2]*pt,lt+=d.bitmap.data[gt+3]*pt,ut+=pt}const ft=nt*d.bitmap.width+it<<2;d.bitmap.data[ft]=Math.round(at/ut),d.bitmap.data[ft+1]=Math.round(st/ut),d.bitmap.data[ft+2]=Math.round(ot/ut),d.bitmap.data[ft+3]=Math.round(lt/ut)}}return d}},CircleOptionsSchema=z.object({x:z.number().optional(),y:z.number().optional(),radius:z.number().min(0).optional()}),methods$f={circle(d,g={}){const $=CircleOptionsSchema.parse(g),j=$.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,tt=typeof $.x=="number"?$.x:d.bitmap.width/2,et=typeof $.y=="number"?$.y:d.bitmap.height/2;return d.scan((rt,nt,it)=>{const at=Math.sqrt(Math.pow(rt-tt,2)+Math.pow(nt-et,2));j-at<=0?d.bitmap.data[it+3]=0:j-at<1&&(d.bitmap.data[it+3]=255*(j-at))}),d}},ConvolutionMatrixSchema=z.array(z.number()).min(1).array(),ConvolutionComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,edgeHandling:z.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),ConvoluteOptionsSchema=z.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z.number().min(1).max(1/0),PixelateComplexOptionsSchema=z.object({size:PixelateSize,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),PixelateOptionsSchema=z.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,g,$,j){const tt=[0,0,0,0],et=(g.length-1)/2;for(let rt=0;rt<g.length;rt+=1)for(let nt=0;nt<g[rt].length;nt+=1){const it=d.getPixelIndex($+rt-et,j+nt-et);tt[0]+=d.bitmap.data[it]*g[rt][nt],tt[1]+=d.bitmap.data[it+1]*g[rt][nt],tt[2]+=d.bitmap.data[it+2]*g[rt][nt],tt[3]+=d.bitmap.data[it+3]*g[rt][nt]}return tt}function mix(d,g,$=50){return{r:(g.r-d.r)*($/100)+d.r,g:(g.g-d.g)*($/100)+d.g,b:(g.b-d.b)*($/100)+d.b}}const HueActionSchema=z.object({apply:z.literal("hue"),params:z.tuple([z.number().min(-360).max(360)])}),SpinActionSchema=z.object({apply:z.literal("spin"),params:z.tuple([z.number().min(-360).max(360)])}),LightenActionSchema=z.object({apply:z.literal("lighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),RGBColorSchema=z.object({r:z.number().min(0).max(255),g:z.number().min(0).max(255),b:z.number().min(0).max(255)}),MixActionSchema=z.object({apply:z.literal("mix"),params:z.union([z.tuple([RGBColorSchema]),z.tuple([RGBColorSchema,z.number().min(0).max(100)])])}),TintActionSchema=z.object({apply:z.literal("tint"),params:z.tuple([z.number().min(0).max(100)]).optional()}),ShadeActionSchema=z.object({apply:z.literal("shade"),params:z.tuple([z.number().min(0).max(100)]).optional()}),XorActionSchema=z.object({apply:z.literal("xor"),params:z.tuple([RGBColorSchema])}),RedActionSchema=z.object({apply:z.literal("red"),params:z.tuple([z.number().min(-255).max(255)])}),GreenActionSchema=z.object({apply:z.literal("green"),params:z.tuple([z.number().min(-255).max(255)])}),BlueActionSchema=z.object({apply:z.literal("blue"),params:z.tuple([z.number().min(-255).max(255)])}),BrightenActionSchema=z.object({apply:z.literal("brighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DarkenActionSchema=z.object({apply:z.literal("darken"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z.object({apply:z.literal("desaturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),SaturateActionSchema=z.object({apply:z.literal("saturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z.object({apply:z.literal("greyscale"),params:z.tuple([]).optional()}),ColorActionNameSchema=z.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const g={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan(($,j,tt)=>{g.r[d.bitmap.data[tt+0]]++,g.g[d.bitmap.data[tt+1]]++,g.b[d.bitmap.data[tt+2]]++}),g}const normalizeValue=function(d,g,$){return 255*(d-g)/($-g)},getBounds=function(d){return[d.findIndex(g=>g>0),255-d.slice().reverse().findIndex(g=>g>0)]},methods$e={normalize(d){const g=histogram(d),$={r:getBounds(g.r),g:getBounds(g.g),b:getBounds(g.b)};return d.scan((j,tt,et)=>{const rt=d.bitmap.data[et+0],nt=d.bitmap.data[et+1],it=d.bitmap.data[et+2];d.bitmap.data[et+0]=normalizeValue(rt,$.r[0],$.r[1]),d.bitmap.data[et+1]=normalizeValue(nt,$.g[0],$.g[1]),d.bitmap.data[et+2]=normalizeValue(it,$.b[0],$.b[1])}),d},invert:d=>(d.scan((g,$,j)=>{d.bitmap.data[j]=255-d.bitmap.data[j],d.bitmap.data[j+1]=255-d.bitmap.data[j+1],d.bitmap.data[j+2]=255-d.bitmap.data[j+2]}),d),brightness(d,g){if(typeof g!="number")throw new Error("val must be numbers");return d.scan(($,j,tt)=>{d.bitmap.data[tt]=limit255(d.bitmap.data[tt]*g),d.bitmap.data[tt+1]=limit255(d.bitmap.data[tt+1]*g),d.bitmap.data[tt+2]=limit255(d.bitmap.data[tt+2]*g)}),d},contrast(d,g){if(typeof g!="number")throw new Error("val must be numbers");if(g<-1||g>1)throw new Error("val must be a number between -1 and +1");const $=(g+1)/(1-g);function j(tt){return(tt=Math.floor($*(tt-127)+127))<0?0:tt>255?255:tt}return d.scan((tt,et,rt)=>{d.bitmap.data[rt]=j(d.bitmap.data[rt]),d.bitmap.data[rt+1]=j(d.bitmap.data[rt+1]),d.bitmap.data[rt+2]=j(d.bitmap.data[rt+2])}),d},posterize(d,g){if(typeof g!="number")throw new Error("n must be numbers");return g<2&&(g=2),d.scan(($,j,tt)=>{const et=d.bitmap.data[tt],rt=d.bitmap.data[tt+1],nt=d.bitmap.data[tt+2];d.bitmap.data[tt]=Math.floor(et/255*(g-1))/(g-1)*255,d.bitmap.data[tt+1]=Math.floor(rt/255*(g-1))/(g-1)*255,d.bitmap.data[tt+2]=Math.floor(nt/255*(g-1))/(g-1)*255}),d},greyscale:d=>(d.scan((g,$,j)=>{const tt=.2126*d.bitmap.data[j]+.7152*d.bitmap.data[j+1]+.0722*d.bitmap.data[j+2];d.bitmap.data[j]=tt,d.bitmap.data[j+1]=tt,d.bitmap.data[j+2]=tt}),d),opacity(d,g){if(typeof g!="number")throw new Error("f must be a number");if(g<0||g>1)throw new Error("f must be a number from 0 to 1");return d.scan(($,j,tt)=>{const et=d.bitmap.data[tt+3]*g;d.bitmap.data[tt+3]=et}),d},sepia:d=>(d.scan((g,$,j)=>{let tt=d.bitmap.data[j],et=d.bitmap.data[j+1],rt=d.bitmap.data[j+2];tt=.393*tt+.769*et+.189*rt,et=.349*tt+.686*et+.168*rt,rt=.272*tt+.534*et+.131*rt,d.bitmap.data[j]=tt<255?tt:255,d.bitmap.data[j+1]=et<255?et:255,d.bitmap.data[j+2]=rt<255?rt:255}),d),fade(d,g){if(typeof g!="number")throw new Error("f must be a number");if(g<0||g>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-g)},convolution(d,g){const $=ConvolutionOptionsSchema.parse(g),{kernel:j,edgeHandling:tt=Edge.EXTEND}="kernel"in $?$:{kernel:$,edgeHandling:void 0};if(!j[0])throw new Error("kernel must be a matrix");const et=Buffer.from(d.bitmap.data),rt=j.length,nt=j[0].length,it=Math.floor(rt/2),at=Math.floor(nt/2),st=-it,ot=-at;let lt,ut,ct,ft,mt,dt,ht,pt,gt,_t;return d.scan((Et,yt,St)=>{ft=0,ct=0,ut=0;for(let wt=st;wt<=it;wt++)for(let kt=ot;kt<=at;kt++)pt=Et+kt,gt=yt+wt,lt=j[wt+it][kt+at],_t=d.getPixelIndex(pt,gt,tt),_t===-1?(ht=0,dt=0,mt=0):(mt=d.bitmap.data[_t+0],dt=d.bitmap.data[_t+1],ht=d.bitmap.data[_t+2]),ut+=lt*mt,ct+=lt*dt,ft+=lt*ht;ut<0&&(ut=0),ct<0&&(ct=0),ft<0&&(ft=0),ut>255&&(ut=255),ct>255&&(ct=255),ft>255&&(ft=255),et[St+0]=ut,et[St+1]=ct,et[St+2]=ft}),d.bitmap.data=et,d},opaque:d=>(d.scan((g,$,j)=>{d.bitmap.data[j+3]=255}),d),pixelate(d,g){const $=PixelateOptionsSchema.parse(g),{size:j,x:tt=0,y:et=0,w:rt=d.bitmap.width-tt,h:nt=d.bitmap.height-et}=typeof $=="number"?{size:$}:$,it=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],at=clone(d);return scan(at,tt,et,rt,nt,(st,ot,lt)=>{st=j*Math.floor(st/j),ot=j*Math.floor(ot/j);const ut=applyKernel(at,it,st,ot);d.bitmap.data[lt]=ut[0],d.bitmap.data[lt+1]=ut[1],d.bitmap.data[lt+2]=ut[2],d.bitmap.data[lt+3]=ut[3]}),d},convolute(d,g){const $=ConvoluteOptionsSchema.parse(g),{kernel:j,x:tt=0,y:et=0,w:rt=d.bitmap.width-tt,h:nt=d.bitmap.height-et}="kernel"in $?$:{kernel:$},it=clone(d);return scan(it,tt,et,rt,nt,(at,st,ot)=>{const lt=applyKernel(it,j,at,st);d.bitmap.data[ot]=limit255(lt[0]),d.bitmap.data[ot+1]=limit255(lt[1]),d.bitmap.data[ot+2]=limit255(lt[2]),d.bitmap.data[ot+3]=limit255(lt[3])}),d},color(d,g){if(!g||!Array.isArray(g))throw new Error("actions must be an array");return g.forEach($=>ColorActionNameSchema.parse($)),g=g.map($=>($.apply!=="xor"&&$.apply!=="mix"||($.params[0]=tinycolor($.params[0]).toRgb()),$)),d.scan(($,j,tt)=>{let et={r:d.bitmap.data[tt],g:d.bitmap.data[tt+1],b:d.bitmap.data[tt+2]};const rt=(nt,it)=>limit255(et[nt]+it);g.forEach(nt=>{var it,at;if(nt.apply==="mix")et=mix(et,nt.params[0],nt.params[1]);else if(nt.apply==="tint")et=mix(et,{r:255,g:255,b:255},(it=nt.params)==null?void 0:it[0]);else if(nt.apply==="shade")et=mix(et,{r:0,g:0,b:0},(at=nt.params)==null?void 0:at[0]);else if(nt.apply==="xor")et={r:et.r^nt.params[0].r,g:et.g^nt.params[0].g,b:et.b^nt.params[0].b};else if(nt.apply==="red")et.r=rt("r",nt.params[0]);else if(nt.apply==="green")et.g=rt("g",nt.params[0]);else if(nt.apply==="blue")et.b=rt("b",nt.params[0]);else{nt.apply==="hue"&&(nt.apply="spin");const st=tinycolor(et),ot=st[nt.apply].bind(st);if(!ot)throw new Error("action "+nt.apply+" not supported");et=ot(...nt.params||[]).toRgb()}}),d.bitmap.data[tt]=et.r,d.bitmap.data[tt+1]=et.g,d.bitmap.data[tt+2]=et.b}),d}};var lib$1={},ieee754={read:function(d,g,$,j,tt){var et,rt,nt=8*tt-j-1,it=(1<<nt)-1,at=it>>1,st=-7,ot=$?tt-1:0,lt=$?-1:1,ut=d[g+ot];for(ot+=lt,et=ut&(1<<-st)-1,ut>>=-st,st+=nt;st>0;et=256*et+d[g+ot],ot+=lt,st-=8);for(rt=et&(1<<-st)-1,et>>=-st,st+=j;st>0;rt=256*rt+d[g+ot],ot+=lt,st-=8);if(et===0)et=1-at;else{if(et===it)return rt?NaN:1/0*(ut?-1:1);rt+=Math.pow(2,j),et-=at}return(ut?-1:1)*rt*Math.pow(2,et-j)},write:function(d,g,$,j,tt,et){var rt,nt,it,at=8*et-tt-1,st=(1<<at)-1,ot=st>>1,lt=tt===23?Math.pow(2,-24)-Math.pow(2,-77):0,ut=j?0:et-1,ct=j?1:-1,ft=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(nt=isNaN(g)?1:0,rt=st):(rt=Math.floor(Math.log(g)/Math.LN2),g*(it=Math.pow(2,-rt))<1&&(rt--,it*=2),(g+=rt+ot>=1?lt/it:lt*Math.pow(2,1-ot))*it>=2&&(rt++,it/=2),rt+ot>=st?(nt=0,rt=st):rt+ot>=1?(nt=(g*it-1)*Math.pow(2,tt),rt+=ot):(nt=g*Math.pow(2,ot-1)*Math.pow(2,tt),rt=0));tt>=8;d[$+ut]=255&nt,ut+=ct,nt/=256,tt-=8);for(rt=rt<<tt|nt,at+=tt;at>0;d[$+ut]=255&rt,ut+=ct,rt/=256,at-=8);d[$+ut-ct]|=128*ft}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const g=ieee754;function $(tt){return new DataView(tt.buffer,tt.byteOffset)}d.UINT8={len:1,get:(tt,et)=>$(tt).getUint8(et),put:(tt,et,rt)=>($(tt).setUint8(et,rt),et+1)},d.UINT16_LE={len:2,get:(tt,et)=>$(tt).getUint16(et,!0),put:(tt,et,rt)=>($(tt).setUint16(et,rt,!0),et+2)},d.UINT16_BE={len:2,get:(tt,et)=>$(tt).getUint16(et),put:(tt,et,rt)=>($(tt).setUint16(et,rt),et+2)},d.UINT24_LE={len:3,get(tt,et){const rt=$(tt);return rt.getUint8(et)+(rt.getUint16(et+1,!0)<<8)},put(tt,et,rt){const nt=$(tt);return nt.setUint8(et,255&rt),nt.setUint16(et+1,rt>>8,!0),et+3}},d.UINT24_BE={len:3,get(tt,et){const rt=$(tt);return(rt.getUint16(et)<<8)+rt.getUint8(et+2)},put(tt,et,rt){const nt=$(tt);return nt.setUint16(et,rt>>8),nt.setUint8(et+2,255&rt),et+3}},d.UINT32_LE={len:4,get:(tt,et)=>$(tt).getUint32(et,!0),put:(tt,et,rt)=>($(tt).setUint32(et,rt,!0),et+4)},d.UINT32_BE={len:4,get:(tt,et)=>$(tt).getUint32(et),put:(tt,et,rt)=>($(tt).setUint32(et,rt),et+4)},d.INT8={len:1,get:(tt,et)=>$(tt).getInt8(et),put:(tt,et,rt)=>($(tt).setInt8(et,rt),et+1)},d.INT16_BE={len:2,get:(tt,et)=>$(tt).getInt16(et),put:(tt,et,rt)=>($(tt).setInt16(et,rt),et+2)},d.INT16_LE={len:2,get:(tt,et)=>$(tt).getInt16(et,!0),put:(tt,et,rt)=>($(tt).setInt16(et,rt,!0),et+2)},d.INT24_LE={len:3,get(tt,et){const rt=d.UINT24_LE.get(tt,et);return rt>8388607?rt-16777216:rt},put(tt,et,rt){const nt=$(tt);return nt.setUint8(et,255&rt),nt.setUint16(et+1,rt>>8,!0),et+3}},d.INT24_BE={len:3,get(tt,et){const rt=d.UINT24_BE.get(tt,et);return rt>8388607?rt-16777216:rt},put(tt,et,rt){const nt=$(tt);return nt.setUint16(et,rt>>8),nt.setUint8(et+2,255&rt),et+3}},d.INT32_BE={len:4,get:(tt,et)=>$(tt).getInt32(et),put:(tt,et,rt)=>($(tt).setInt32(et,rt),et+4)},d.INT32_LE={len:4,get:(tt,et)=>$(tt).getInt32(et,!0),put:(tt,et,rt)=>($(tt).setInt32(et,rt,!0),et+4)},d.UINT64_LE={len:8,get:(tt,et)=>$(tt).getBigUint64(et,!0),put:(tt,et,rt)=>($(tt).setBigUint64(et,rt,!0),et+8)},d.INT64_LE={len:8,get:(tt,et)=>$(tt).getBigInt64(et,!0),put:(tt,et,rt)=>($(tt).setBigInt64(et,rt,!0),et+8)},d.UINT64_BE={len:8,get:(tt,et)=>$(tt).getBigUint64(et),put:(tt,et,rt)=>($(tt).setBigUint64(et,rt),et+8)},d.INT64_BE={len:8,get:(tt,et)=>$(tt).getBigInt64(et),put:(tt,et,rt)=>($(tt).setBigInt64(et,rt),et+8)},d.Float16_BE={len:2,get(tt,et){return g.read(tt,et,!1,10,this.len)},put(tt,et,rt){return g.write(tt,rt,et,!1,10,this.len),et+this.len}},d.Float16_LE={len:2,get(tt,et){return g.read(tt,et,!0,10,this.len)},put(tt,et,rt){return g.write(tt,rt,et,!0,10,this.len),et+this.len}},d.Float32_BE={len:4,get:(tt,et)=>$(tt).getFloat32(et),put:(tt,et,rt)=>($(tt).setFloat32(et,rt),et+4)},d.Float32_LE={len:4,get:(tt,et)=>$(tt).getFloat32(et,!0),put:(tt,et,rt)=>($(tt).setFloat32(et,rt,!0),et+4)},d.Float64_BE={len:8,get:(tt,et)=>$(tt).getFloat64(et),put:(tt,et,rt)=>($(tt).setFloat64(et,rt),et+8)},d.Float64_LE={len:8,get:(tt,et)=>$(tt).getFloat64(et,!0),put:(tt,et,rt)=>($(tt).setFloat64(et,rt,!0),et+8)},d.Float80_BE={len:10,get(tt,et){return g.read(tt,et,!1,63,this.len)},put(tt,et,rt){return g.write(tt,rt,et,!1,63,this.len),et+this.len}},d.Float80_LE={len:10,get(tt,et){return g.read(tt,et,!0,63,this.len)},put(tt,et,rt){return g.write(tt,rt,et,!0,63,this.len),et+this.len}},d.IgnoreType=class{constructor(tt){this.len=tt}get(tt,et){}},d.Uint8ArrayType=class{constructor(tt){this.len=tt}get(tt,et){return tt.subarray(et,et+this.len)}},d.BufferType=class{constructor(tt){this.len=tt}get(tt,et){return Buffer.from(tt.subarray(et,et+this.len))}},d.StringType=class{constructor(tt,et){this.len=tt,this.encoding=et}get(tt,et){return Buffer.from(tt).toString(this.encoding,et,et+this.len)}};class j{constructor(et){this.len=et}static decode(et,rt,nt){let it="";for(let at=rt;at<nt;++at)it+=j.codePointToString(j.singleByteDecoder(et[at]));return it}static inRange(et,rt,nt){return rt<=et&&et<=nt}static codePointToString(et){return et<=65535?String.fromCharCode(et):(et-=65536,String.fromCharCode(55296+(et>>10),56320+(1023&et)))}static singleByteDecoder(et){if(j.inRange(et,0,127))return et;const rt=j.windows1252[et-128];if(rt===null)throw Error("invaliding encoding");return rt}get(et,rt=0){return j.decode(et,rt,rt+this.len)}}d.AnsiStringType=j,j.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class g extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=g})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((g,$)=>{this.reject=$,this.resolve=g})}}Deferred$1.Deferred=Deferred,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const g=EndOfFileStream,$=Deferred$1;var j=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return j.EndOfStreamError}}),d.StreamReader=class{constructor(tt){if(this.s=tt,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!tt.read||!tt.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new g.EndOfStreamError)),this.s.once("error",et=>this.reject(et)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(tt,et,rt){const nt=await this.read(tt,et,rt);return this.peekQueue.push(tt.subarray(et,et+nt)),nt}async read(tt,et,rt){if(rt===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new g.EndOfStreamError;let nt=rt,it=0;for(;this.peekQueue.length>0&&nt>0;){const at=this.peekQueue.pop();if(!at)throw new Error("peekData should be defined");const st=Math.min(at.length,nt);tt.set(at.subarray(0,st),et+it),it+=st,nt-=st,st<at.length&&this.peekQueue.push(at.subarray(st))}for(;nt>0&&!this.endOfStream;){const at=Math.min(nt,1048576),st=await this.readFromStream(tt,et+it,at);if(it+=st,st<at)break;nt-=st}return it}async readFromStream(tt,et,rt){const nt=this.s.read(rt);if(nt)return tt.set(nt,et),nt.length;{const it={buffer:tt,offset:et,length:rt,deferred:new $.Deferred};return this.deferred=it.deferred,this.s.once("readable",()=>{this.readDeferred(it)}),it.deferred.promise}}readDeferred(tt){const et=this.s.read(tt.length);et?(tt.buffer.set(et,tt.offset),tt.deferred.resolve(et.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(tt)})}reject(tt){this.endOfStream=!0,this.deferred&&(this.deferred.reject(tt),this.deferred=null)}}}(StreamReader),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var g=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return g.EndOfStreamError}});var $=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return $.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(g){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=g||{}}async readToken(g,$=this.position){const j=Buffer.alloc(g.len);if(await this.readBuffer(j,{position:$})<g.len)throw new peek_readable_1$2.EndOfStreamError;return g.get(j,0)}async peekToken(g,$=this.position){const j=Buffer.alloc(g.len);if(await this.peekBuffer(j,{position:$})<g.len)throw new peek_readable_1$2.EndOfStreamError;return g.get(j,0)}async readNumber(g){if(await this.readBuffer(this.numBuffer,{length:g.len})<g.len)throw new peek_readable_1$2.EndOfStreamError;return g.get(this.numBuffer,0)}async peekNumber(g){if(await this.peekBuffer(this.numBuffer,{length:g.len})<g.len)throw new peek_readable_1$2.EndOfStreamError;return g.get(this.numBuffer,0)}async ignore(g){if(this.fileInfo.size!==void 0){const $=this.fileInfo.size-this.position;if(g>$)return this.position+=$,$}return this.position+=g,g}async close(){}normalizeOptions(g,$){if($&&$.position!==void 0&&$.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return $?{mayBeLess:$.mayBeLess===!0,offset:$.offset?$.offset:0,length:$.length?$.length:g.length-($.offset?$.offset:0),position:$.position?$.position:this.position}:{mayBeLess:!1,offset:0,length:g.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(g,$){super($),this.streamReader=new peek_readable_1$1.StreamReader(g)}async getFileInfo(){return this.fileInfo}async readBuffer(g,$){const j=this.normalizeOptions(g,$),tt=j.position-this.position;if(tt>0)return await this.ignore(tt),this.readBuffer(g,$);if(tt<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(j.length===0)return 0;const et=await this.streamReader.read(g,j.offset,j.length);if(this.position+=et,(!$||!$.mayBeLess)&&et<j.length)throw new peek_readable_1$1.EndOfStreamError;return et}async peekBuffer(g,$){const j=this.normalizeOptions(g,$);let tt=0;if(j.position){const et=j.position-this.position;if(et>0){const rt=new Uint8Array(j.length+et);return tt=await this.peekBuffer(rt,{mayBeLess:j.mayBeLess}),g.set(rt.subarray(et),j.offset),tt-et}if(et<0)throw new Error("Cannot peek from a negative offset in a stream")}if(j.length>0){try{tt=await this.streamReader.peek(g,j.offset,j.length)}catch(et){if($&&$.mayBeLess&&et instanceof peek_readable_1$1.EndOfStreamError)return 0;throw et}if(!j.mayBeLess&&tt<j.length)throw new peek_readable_1$1.EndOfStreamError}return tt}async ignore(g){const $=Math.min(maxBufferSize,g),j=new Uint8Array($);let tt=0;for(;tt<g;){const et=g-tt,rt=await this.readBuffer(j,{length:Math.min($,et)});if(rt<0)return rt;tt+=rt}return tt}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(g,$){super($),this.uint8Array=g,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:g.length}async readBuffer(g,$){if($&&$.position){if($.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=$.position}const j=await this.peekBuffer(g,$);return this.position+=j,j}async peekBuffer(g,$){const j=this.normalizeOptions(g,$),tt=Math.min(this.uint8Array.length-j.position,j.length);if(!j.mayBeLess&&tt<j.length)throw new peek_readable_1.EndOfStreamError;return g.set(this.uint8Array.subarray(j.position,j.position+tt),j.offset),tt}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const g=ReadStreamTokenizer$1,$=BufferTokenizer$1;var j=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return j.EndOfStreamError}}),d.fromStream=function(tt,et){return et=et||{},new g.ReadStreamTokenizer(tt,et)},d.fromBuffer=function(tt,et){return new $.BufferTokenizer(tt,et)}}(core$1);var util={stringToBytes:d=>[...d].map(g=>g.charCodeAt(0)),tarHeaderChecksumMatches:(d,g=0)=>{const $=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN($))return!1;let j=256;for(let tt=g;tt<g+148;tt++)j+=d[tt];for(let tt=g+156;tt<g+512;tt++)j+=d[tt];return $===j},uint32SyncSafeToken:{get:(d,g)=>127&d[g+3]|d[g+2]<<7|d[g+1]<<14|d[g]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(d){const g=await strtok3.fromStream(d);try{return await fromTokenizer(g)}finally{await g.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const g=d instanceof Buffer?d:Buffer.from(d);if(g&&g.length>1)return fromTokenizer(strtok3.fromBuffer(g))}function _check(d,g,$){$={offset:0,...$};for(const[j,tt]of g.entries())if($.mask){if(tt!==($.mask[j]&d[j+$.offset]))return!1}else if(tt!==d[j+$.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(g){if(!(g instanceof strtok3.EndOfStreamError))throw g}}async function _fromTokenizer(d){let g=Buffer.alloc(minimumBytes);const $=(tt,et)=>_check(g,tt,et),j=(tt,et)=>$(stringToBytes(tt),et);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(g,{length:12,mayBeLess:!0}),$([66,77]))return{ext:"bmp",mime:"image/bmp"};if($([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if($([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if($([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if($([37,33]))return await d.peekBuffer(g,{length:24,mayBeLess:!0}),j("PS-Adobe-",{offset:2})&&j(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if($([31,160])||$([31,157]))return{ext:"Z",mime:"application/x-compress"};if($([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if($([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if($([31,139,8]))return{ext:"gz",mime:"application/gzip"};if($([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(j("ID3")){await d.ignore(6);const tt=await d.readToken(uint32SyncSafeToken);return d.position+tt>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(tt),fromTokenizer(d))}if(j("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((g[0]===67||g[0]===70)&&$([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if($([71,73,70]))return{ext:"gif",mime:"image/gif"};if(j("FLIF"))return{ext:"flif",mime:"image/flif"};if(j("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(j("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(j("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(j("FORM"))return{ext:"aif",mime:"audio/aiff"};if(j("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if($([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(g,{length:30});const tt={compressedSize:g.readUInt32LE(18),uncompressedSize:g.readUInt32LE(22),filenameLength:g.readUInt16LE(26),extraFieldLength:g.readUInt16LE(28)};if(tt.filename=await d.readToken(new Token.StringType(tt.filenameLength,"utf-8")),await d.ignore(tt.extraFieldLength),tt.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(tt.filename.endsWith(".rels")||tt.filename.endsWith(".xml"))switch(tt.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(tt.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(tt.filename.startsWith("3D/")&&tt.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(tt.filename==="mimetype"&&tt.compressedSize===tt.uncompressedSize)switch(await d.readToken(new Token.StringType(tt.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(tt.compressedSize===0){let et=-1;for(;et<0&&d.position<d.fileInfo.size;)await d.peekBuffer(g,{mayBeLess:!0}),et=g.indexOf("504B0304",0,"hex"),await d.ignore(et>=0?et:g.length)}else await d.ignore(tt.compressedSize)}}catch(tt){if(!(tt instanceof strtok3.EndOfStreamError))throw tt}return{ext:"zip",mime:"application/zip"}}if(j("OggS")){await d.ignore(28);const tt=Buffer.alloc(8);return await d.readBuffer(tt),_check(tt,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(tt,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(tt,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(tt,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(tt,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(tt,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if($([80,75])&&(g[2]===3||g[2]===5||g[2]===7)&&(g[3]===4||g[3]===6||g[3]===8))return{ext:"zip",mime:"application/zip"};if(j("ftyp",{offset:4})&&96&g[8]){const tt=g.toString("binary",8,12).replace("\0"," ").trim();switch(tt){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return tt.startsWith("3g")?tt.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(j("MThd"))return{ext:"mid",mime:"audio/midi"};if(j("wOFF")&&($([0,1,0,0],{offset:4})||j("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(j("wOF2")&&($([0,1,0,0],{offset:4})||j("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if($([212,195,178,161])||$([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(j("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(j("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(j("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if($([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(j("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(j("%PDF")){await d.ignore(1350);const tt=10485760,et=Buffer.alloc(Math.min(tt,d.fileInfo.size));return await d.readBuffer(et,{mayBeLess:!0}),et.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if($([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if($([73,73,42,0]))return j("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:$([28,0,254,0],{offset:8})||$([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:$([8,0,0,0],{offset:4})&&($([45,0,254,0],{offset:8})||$([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(g=Buffer.alloc(24),await d.peekBuffer(g),($([16,251,134,1],{offset:4})||$([8,0,0,0],{offset:4}))&&$([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if($([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(j("MAC "))return{ext:"ape",mime:"audio/ape"};if($([26,69,223,163])){async function tt(){const it=await d.peekNumber(Token.UINT8);let at=128,st=0;for(;!(it&at)&&at!==0;)++st,at>>=1;const ot=Buffer.alloc(st+1);return await d.readBuffer(ot),ot}async function et(){const it=await tt(),at=await tt();at[0]^=128>>at.length-1;const st=Math.min(6,at.length);return{id:it.readUIntBE(0,it.length),len:at.readUIntBE(at.length-st,st)}}async function rt(it,at){for(;at>0;){const st=await et();if(st.id===17026)return d.readToken(new Token.StringType(st.len,"utf-8"));await d.ignore(st.len),--at}}const nt=await et();switch(await rt(0,nt.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if($([82,73,70,70])){if($([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if($([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if($([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(j("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if($([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(j("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(j("MSCF")||j("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if($([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if($([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if($([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if($([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(j("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(j("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if($([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(j("IMPM"))return{ext:"it",mime:"audio/x-it"};if(j("-lh0-",{offset:2})||j("-lh1-",{offset:2})||j("-lh2-",{offset:2})||j("-lh3-",{offset:2})||j("-lh4-",{offset:2})||j("-lh5-",{offset:2})||j("-lh6-",{offset:2})||j("-lh7-",{offset:2})||j("-lzs-",{offset:2})||j("-lz4-",{offset:2})||j("-lz5-",{offset:2})||j("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if($([0,0,1,186])){if($([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if($([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(j("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if($([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(j("<?xml "))return{ext:"xml",mime:"application/xml"};if($([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if($([82,97,114,33,26,7])&&(g[6]===0||g[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(j("solid "))return{ext:"stl",mime:"model/stl"};if(j("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(j("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if($([137,80,78,71,13,10,26,10])){async function tt(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const et=await tt();if(et.length<0)return;switch(et.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(et.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if($([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if($([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if($([102,114,101,101],{offset:4})||$([109,100,97,116],{offset:4})||$([109,111,111,118],{offset:4})||$([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if($([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(j("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if($([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if($([48,38,178,117,142,102,207,17,166,217])){async function tt(){const et=Buffer.alloc(16);return await d.readBuffer(et),{id:et,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const et=await tt();let rt=et.size-24;if(_check(et.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const nt=Buffer.alloc(16);if(rt-=await d.readBuffer(nt),_check(nt,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(nt,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(rt)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if($([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if(($([126,16,4])||$([126,24,4]))&&$([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if($([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if($([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if($([255,10])||$([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if($([0,0,1,186])||$([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if($([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if($([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if($([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if($([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(g,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),j("BEGIN:")){if(j("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(j("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(j("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(j("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(j("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if($([4,0,0,0])&&g.length>=16){const tt=g.readUInt32LE(12);if(tt>12&&g.length>=tt+16)try{const et=g.slice(16,tt+16).toString();if(JSON.parse(et).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if($([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(j("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if($([71],{offset:4})&&($([71],{offset:192})||$([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if($([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if($([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if($([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if($([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if($([76,80],{offset:34})&&($([0,0,1],{offset:8})||$([1,0,2],{offset:8})||$([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if($([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(g,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(g))return{ext:"tar",mime:"application/x-tar"};if($([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(j("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(g.length>=2&&$([255,224],{offset:0,mask:[255,224]})){if($([16],{offset:1,mask:[22]}))return $([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if($([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if($([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if($([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const d=new stream.PassThrough;let g;g=stream.pipeline?stream.pipeline(readableStream,d,()=>{}):readableStream.pipe(d);const $=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const j=await fromBuffer($);d.fileType=j}catch(j){reject(j)}resolve(g)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,g){return d.then(function($){return[null,$]}).catch(function($){return[$,void 0]})}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,g){for(let $ in d){let j=d[$].map(function(tt){return tt.toLowerCase()});$=$.toLowerCase();for(let tt=0;tt<j.length;tt++){const et=j[tt];if(et[0]!=="*"){if(!g&&et in this._types)throw new Error('Attempt to change mapping for "'+et+'" extension from "'+this._types[et]+'" to "'+$+'". Pass `force=true` to allow this, otherwise remove "'+et+'" from the list of extensions for "'+$+'".');this._types[et]=$}}if(g||!this._extensions[$]){const tt=j[0];this._extensions[$]=tt[0]!=="*"?tt:tt.substr(1)}}},Mime$1.prototype.getType=function(d){let g=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),$=g.replace(/^.*\./,"").toLowerCase(),j=g.length<d.length;return($.length<g.length-1||!j)&&this._types[$]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a;return{r:(d.r*d.a+g.r*g.a*(1-d.a))/j,g:(d.g*d.a+g.g*g.a*(1-d.a))/j,b:(d.b*d.a+g.b*g.a*(1-d.a))/j,a:j}}function dstOver(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a;return{r:(g.r*g.a+d.r*d.a*(1-g.a))/j,g:(g.g*g.a+d.g*d.a*(1-g.a))/j,b:(g.b*g.a+d.b*d.a*(1-g.a))/j,a:j}}function multiply(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(tt*nt+tt*(1-g.a)+nt*(1-d.a))/j,g:(et*it+et*(1-g.a)+it*(1-d.a))/j,b:(rt*at+rt*(1-g.a)+at*(1-d.a))/j,a:j}}function add(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a;return{r:(tt+g.r*g.a)/j,g:(et+g.g*g.a)/j,b:(rt+g.b*g.a)/j,a:j}}function screen(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(tt*g.a+nt*d.a-tt*nt+tt*(1-g.a)+nt*(1-d.a))/j,g:(et*g.a+it*d.a-et*it+et*(1-g.a)+it*(1-d.a))/j,b:(rt*g.a+at*d.a-rt*at+rt*(1-g.a)+at*(1-d.a))/j,a:j}}function overlay(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(2*nt<=g.a?2*tt*nt+tt*(1-g.a)+nt*(1-d.a):tt*(1+g.a)+nt*(1+d.a)-2*nt*tt-g.a*d.a)/j,g:(2*it<=g.a?2*et*it+et*(1-g.a)+it*(1-d.a):et*(1+g.a)+it*(1+d.a)-2*it*et-g.a*d.a)/j,b:(2*at<=g.a?2*rt*at+rt*(1-g.a)+at*(1-d.a):rt*(1+g.a)+at*(1+d.a)-2*at*rt-g.a*d.a)/j,a:j}}function darken(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(Math.min(tt*g.a,nt*d.a)+tt*(1-g.a)+nt*(1-d.a))/j,g:(Math.min(et*g.a,it*d.a)+et*(1-g.a)+it*(1-d.a))/j,b:(Math.min(rt*g.a,at*d.a)+rt*(1-g.a)+at*(1-d.a))/j,a:j}}function lighten(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(Math.max(tt*g.a,nt*d.a)+tt*(1-g.a)+nt*(1-d.a))/j,g:(Math.max(et*g.a,it*d.a)+et*(1-g.a)+it*(1-d.a))/j,b:(Math.max(rt*g.a,at*d.a)+rt*(1-g.a)+at*(1-d.a))/j,a:j}}function hardLight(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(2*tt<=d.a?2*tt*nt+tt*(1-g.a)+nt*(1-d.a):tt*(1+g.a)+nt*(1+d.a)-2*nt*tt-g.a*d.a)/j,g:(2*et<=d.a?2*et*it+et*(1-g.a)+it*(1-d.a):et*(1+g.a)+it*(1+d.a)-2*it*et-g.a*d.a)/j,b:(2*rt<=d.a?2*rt*at+rt*(1-g.a)+at*(1-d.a):rt*(1+g.a)+at*(1+d.a)-2*at*rt-g.a*d.a)/j,a:j}}function difference(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(tt+nt-2*Math.min(tt*g.a,nt*d.a))/j,g:(et+it-2*Math.min(et*g.a,it*d.a))/j,b:(rt+at-2*Math.min(rt*g.a,at*d.a))/j,a:j}}function exclusion(d,g,$=1){d.a*=$;const j=g.a+d.a-g.a*d.a,tt=d.r*d.a,et=d.g*d.a,rt=d.b*d.a,nt=g.r*g.a,it=g.g*g.a,at=g.b*g.a;return{r:(tt*g.a+nt*d.a-2*tt*nt+tt*(1-g.a)+nt*(1-d.a))/j,g:(et*g.a+it*d.a-2*et*it+et*(1-g.a)+it*(1-d.a))/j,b:(rt*g.a+at*d.a-2*rt*at+rt*(1-g.a)+at*(1-d.a))/j,a:j}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,g,$=0,j=0,tt={}){if(!(g instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof $!="number"||typeof j!="number")throw new Error("x and y must be numbers");const{mode:et=BlendMode.SRC_OVER}=tt;let{opacitySource:rt=1,opacityDest:nt=1}=tt;(typeof rt!="number"||rt<0||rt>1)&&(rt=1),(typeof nt!="number"||nt<0||nt>1)&&(nt=1);const it=compositeModes[et];return $=Math.round($),j=Math.round(j),nt!==1&&d.scan((at,st,ot)=>{const lt=d.bitmap.data[ot+3]*nt;d.bitmap.data[ot+3]=lt}),g.scan((at,st,ot)=>{const lt=d.getPixelIndex($+at,j+st,Edge.CROP);if(lt===-1)return;const ut=it({r:g.bitmap.data[ot+0]/255,g:g.bitmap.data[ot+1]/255,b:g.bitmap.data[ot+2]/255,a:g.bitmap.data[ot+3]/255},{r:d.bitmap.data[lt+0]/255,g:d.bitmap.data[lt+1]/255,b:d.bitmap.data[lt+2]/255,a:d.bitmap.data[lt+3]/255},rt);d.bitmap.data[lt+0]=limit255(255*ut.r),d.bitmap.data[lt+1]=limit255(255*ut.g),d.bitmap.data[lt+2]=limit255(255*ut.b),d.bitmap.data[lt+3]=limit255(255*ut.a)}),d}var jpeg$1={parseSections:function(d,g){var $,j;for(d.setBigEndian(!0);d.remainingLength()>0&&j!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");$=(j=d.nextUInt8())>=208&&j<=217||j===218?0:d.nextUInt16()-2,g(j,d.branch(0,$)),d.skip($)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var g,$;switch(d){case 216:g="SOI";break;case 196:g="DHT";break;case 219:g="DQT";break;case 221:g="DRI";break;case 218:g="SOS";break;case 254:g="COM";break;case 217:g="EOI";break;default:d>=224&&d<=239?(g="APP",$=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(g="SOF",$=d-192):d>=208&&d<=215&&(g="RST",$=d-208)}var j={name:g};return typeof $=="number"&&(j.index=$),j}};function readExifValue(d,g){switch(d){case 1:return g.nextUInt8();case 3:case 8:return g.nextUInt16();case 4:case 9:return g.nextUInt32();case 5:return[g.nextUInt32(),g.nextUInt32()];case 6:return g.nextInt8();case 10:return[g.nextInt32(),g.nextInt32()];case 11:return g.nextFloat();case 12:return g.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,g){var $,j,tt=g.nextUInt16(),et=g.nextUInt16(),rt=getBytesPerComponent(et),nt=g.nextUInt32(),it=rt*nt;if(it>4&&(g=d.openWithOffset(g.nextUInt32())),et===2){var at=($=g.nextString(nt)).indexOf("\0");at!==-1&&($=$.substr(0,at))}else if(et===7)$=g.nextBuffer(nt);else if(et!==0)for($=[],j=0;j<nt;++j)$.push(readExifValue(et,g));return it<4&&g.skip(4-it),[tt,$,et]}function readIFDSection(d,g,$){var j,tt,et=g.nextUInt16();for(tt=0;tt<et;++tt)$((j=readExifTag(d,g))[0],j[1],j[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var g=d.mark(),$=d.nextUInt16();if($===18761)d.setBigEndian(!1);else{if($!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return g}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,g){var $,j,tt,et;try{$=readHeader(d)}catch{return!1}var rt=$.openWithOffset(d.nextUInt32()),nt=this.IFD0;readIFDSection($,rt,function(ct,ft,mt){switch(ct){case 34853:tt=ft[0];break;case 34665:j=ft[0];break;default:g(nt,ct,ft,mt)}});var it=rt.nextUInt32();if(it!==0){var at=$.openWithOffset(it);readIFDSection($,at,g.bind(null,this.IFD1))}if(tt){var st=$.openWithOffset(tt);readIFDSection($,st,g.bind(null,this.GPSIFD))}if(j){var ot=$.openWithOffset(j),lt=this.InteropIFD;readIFDSection($,ot,function(ct,ft,mt){ct===40965?et=ft[0]:g(lt,ct,ft,mt)})}if(et){var ut=$.openWithOffset(et);readIFDSection($,ut,g.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,g){d=d.map(parseNumber),g=g.map(parseNumber);var $=d[0],j=d[1]-1,tt=d[2],et=g[0],rt=g[1],nt=g[2];return Date.UTC($,j,tt,et,rt,nt,0)/1e3}function parseDateWithTimezoneFormat(d){var g=d.substr(0,10).split("-"),$=d.substr(11,8).split(":"),j=d.substr(19,6).split(":").map(parseNumber),tt=j[0]*hours+j[1]*minutes,et=parseDateTimeParts(g,$);if(typeof(et-=tt)=="number"&&!isNaN(et))return et}function parseDateWithSpecFormat(d){var g=d.split(" "),$=parseDateTimeParts(g[0].split(":"),g[1].split(":"));if(typeof $=="number"&&!isNaN($))return $}function parseExifDate(d){var g=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):g?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,g){degreeTags.forEach(function($){var j=d($);if(j){var tt=d({section:$.section,type:$.refType,name:$.refName})===$.posVal?1:-1,et=(j[0]+j[1]/60+j[2]/3600)*tt;g($,et)}})},castDateValues:function(d,g){dateTags.forEach(function($){var j=d($);if(j){var tt=date.parseExifDate(j);tt!==void 0&&g($,tt)}})},simplifyValue:function(d,g){return Array.isArray(d)&&(d=d.map(function($){return g===10||g===5?$[0]/$[1]:$})).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,g,$,j,tt,et,rt){this.startMarker=d,this.tags=g,this.imageSize=$,this.thumbnailOffset=j,this.thumbnailLength=tt,this.thumbnailType=et,this.app1Offset=rt}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,g=this._getThumbnailStream();return jpeg.parseSections(g,function($,j){jpeg.getSectionName($).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(j))}),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,g,$,j,tt,et,rt,nt,it,at=this.stream.mark(),st=at.openWithOffset(0),ot=this.flags;return ot.resolveTagNames&&(rt=requireExifTags()),ot.resolveTagNames?(d={},nt=function(lt){return d[lt.name]},it=function(lt,ut){d[lt.name]=ut}):(d=[],nt=function(lt){var ut;for(ut=0;ut<d.length;++ut)if(d[ut].type===lt.type&&d[ut].section===lt.section)return d.value},it=function(lt,ut){var ct;for(ct=0;ct<d.length;++ct)if(d[ct].type===lt.type&&d[ct].section===lt.section)return void(d.value=ut)}),jpeg.parseSections(st,function(lt,ut){var ct=ut.offsetFrom(at);lt===225?exif.parseTags(ut,function(ft,mt,dt,ht){if(ot.readBinaryTags||ht!==7){if(mt===513){if($=dt[0],ot.hidePointers)return}else if(mt===514){if(j=dt[0],ot.hidePointers)return}else if(mt===259&&(tt=dt[0],ot.hidePointers))return;if(ot.returnTags)if(ot.simplifyValues&&(dt=simplify.simplifyValue(dt,ht)),ot.resolveTagNames){var pt=(ft===exif.GPSIFD?rt.gps:rt.exif)[mt];pt||(pt=rt.exif[mt]),d.hasOwnProperty(pt)||(d[pt]=dt)}else d.push({section:ft,type:mt,value:dt})}})&&(et=ct):ot.imageSize&&jpeg.getSectionName(lt).name==="SOF"&&(g=jpeg.getSizeFromSOFSection(ut))}),ot.simplifyValues&&(simplify.castDegreeValues(nt,it),simplify.castDateValues(nt,it)),new ExifResult(at,d,g,$,j,tt,et)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(g,$,j,tt,et,rt){this.global=et,$=$||0,j=j||g.byteLength-$,this.arrayBuffer=g.slice($,$+j),this.view=new et.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(tt),this.offset=0,this.parentOffset=(rt||0)+$}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(g){this.littleEndian=!g},nextUInt8:function(){var g=this.view.getUint8(this.offset);return this.offset+=1,g},nextInt8:function(){var g=this.view.getInt8(this.offset);return this.offset+=1,g},nextUInt16:function(){var g=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,g},nextUInt32:function(){var g=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,g},nextInt16:function(){var g=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,g},nextInt32:function(){var g=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,g},nextFloat:function(){var g=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,g},nextDouble:function(){var g=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,g},nextBuffer:function(g){var $=this.arrayBuffer.slice(this.offset,this.offset+g);return this.offset+=g,$},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(g){var $=this.arrayBuffer.slice(this.offset,this.offset+g);return $=String.fromCharCode.apply(null,new this.global.Uint8Array($)),this.offset+=g,$},mark:function(){var g=this;return{openWithOffset:function($){return $=($||0)+this.offset,new d(g.arrayBuffer,$,g.arrayBuffer.byteLength-$,!g.littleEndian,g.global,g.parentOffset)},offset:this.offset,getParentOffset:function(){return g.parentOffset}}},offsetFrom:function(g){return this.parentOffset+this.offset-(g.offset+g.getParentOffset())},skip:function(g){this.offset+=g},branch:function(g,$){return $=typeof $=="number"?$:this.arrayBuffer.byteLength-(this.offset+g),new d(this.arrayBuffer,this.offset+g,$,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(g,$,j,tt){this.buffer=g,this.offset=$||0,j=typeof j=="number"?j:g.length,this.endPosition=this.offset+j,this.setBigEndian(tt)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(g){this.bigEndian=!!g},nextUInt8:function(){var g=this.buffer.readUInt8(this.offset);return this.offset+=1,g},nextInt8:function(){var g=this.buffer.readInt8(this.offset);return this.offset+=1,g},nextUInt16:function(){var g=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,g},nextUInt32:function(){var g=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,g},nextInt16:function(){var g=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,g},nextInt32:function(){var g=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,g},nextFloat:function(){var g=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,g},nextDouble:function(){var g=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,g},nextBuffer:function(g){var $=this.buffer.slice(this.offset,this.offset+g);return this.offset+=g,$},remainingLength:function(){return this.endPosition-this.offset},nextString:function(g){var $=this.buffer.toString("utf8",this.offset,this.offset+g);return this.offset+=g,$},mark:function(){var g=this;return{openWithOffset:function($){return $=($||0)+this.offset,new d(g.buffer,$,g.endPosition-$,g.bigEndian)},offset:this.offset}},offsetFrom:function(g){return this.offset-g.offset},skip:function(g){this.offset+=g},branch:function(g,$){return $=typeof $=="number"?$:this.endPosition-(this.offset+g),new d(this.buffer,this.offset+g,$,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,g){if(d instanceof(g=g||getGlobal()).ArrayBuffer){var $=requireDomBufferstream();return new Parser(new $(d,0,d.byteLength,!0,g))}var j=requireBufferstream();return new Parser(new j(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const g=d._exif;return g&&g.tags&&g.tags.Orientation||1}function getExifOrientationTransformation(d){const g=d.bitmap.width,$=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(j,tt){return[g-j-1,tt]};case 3:return function(j,tt){return[g-j-1,$-tt-1]};case 4:return function(j,tt){return[j,$-tt-1]};case 5:return function(j,tt){return[tt,j]};case 6:return function(j,tt){return[tt,$-j-1]};case 7:return function(j,tt){return[g-tt-1,$-j-1]};case 8:return function(j,tt){return[g-tt-1,j]}}}function transformBitmap(d,g,$,j){const tt=d.bitmap.data,et=d.bitmap.width,rt=Buffer.alloc(tt.length);for(let nt=0;nt<g;nt++)for(let it=0;it<$;it++){const[at,st]=j(nt,it),ot=g*it+nt<<2,lt=et*st+at<<2,ut=tt.readUInt32BE(lt);rt.writeUInt32BE(ut,ot)}d.bitmap.data=rt,d.bitmap.width=g,d.bitmap.height=$,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const g=getExifOrientationTransformation(d),$=getExifOrientation(d)>4,j=$?d.bitmap.height:d.bitmap.width,tt=$?d.bitmap.width:d.bitmap.height;g&&transformBitmap(d,j,tt,g)}async function attemptExifRotate(d,g){try{d._exif=EXIFParser.create(g).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,g,$)=>g in d?__defProp$2(d,g,{enumerable:!0,configurable:!0,writable:!0,value:$}):d[g]=$,__publicField$2=(d,g,$)=>__defNormalProp$2(d,typeof g!="symbol"?g+"":g,$);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const g=Buffer.alloc(d.byteLength),$=new Uint8Array(d);for(let j=0;j<g.length;++j)g[j]=$[j];return g}function createJimp({plugins:d,formats:g}={}){const $=d||[],j=(g||[]).map(et=>et()),tt=class{constructor(et=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=j,"data"in et)this.bitmap=et;else if(this.bitmap={data:Buffer.alloc(et.width*et.height*4),width:et.width,height:et.height},et.color){this.background=typeof et.color=="string"?cssColorToHex(et.color):et.color;for(let rt=0;rt<this.bitmap.data.length;rt+=4)this.bitmap.data.writeUInt32BE(this.background,rt)}for(const rt of $)for(const nt in rt)this[nt]=(...it)=>{var st;const at=(st=rt[nt])==null?void 0:st.call(rt,this,...it);return typeof at=="object"&&"bitmap"in at?(this.bitmap=at.bitmap,this):at}}static async read(et,rt){if(Buffer.isBuffer(et)||et instanceof ArrayBuffer)return this.fromBuffer(et);const[nt,it]=await to(fetch(et));if(nt)throw new Error(`Could not load Buffer from URL: ${et}`);if(!it.ok)throw new Error(`HTTP Status ${it.status} for url ${et}`);const[at,st]=await to(it.arrayBuffer());if(at)throw new Error(`Could not load Buffer from ${et}`);const ot=bufferFromArrayBuffer(st);return this.fromBuffer(ot,rt)}static fromBitmap(et){let rt;if(et.data instanceof Buffer&&(rt=Buffer.from(et.data)),(et.data instanceof Uint8Array||et.data instanceof Uint8ClampedArray)&&(rt=Buffer.from(et.data.buffer)),Array.isArray(et.data)&&(rt=Buffer.concat(et.data.map(nt=>Buffer.from(nt.toString(16).padStart(8,"0"),"hex")))),!rt)throw new Error("data must be a Buffer");if(typeof et.height!="number"||typeof et.width!="number")throw new Error("bitmap must have width and height");return new tt({height:et.height,width:et.width,data:rt})}static async fromBuffer(et,rt){const nt=et instanceof ArrayBuffer?bufferFromArrayBuffer(et):et,it=await fileType$1.fromBuffer(nt);if(!it||!it.mime)throw new Error("Could not find MIME for Buffer");const at=j.find(ot=>ot.mime===it.mime);if(!at||!at.decode)throw new Error(`Mime type ${it.mime} does not support decoding`);const st=new tt(await at.decode(nt,rt==null?void 0:rt[at.mime]));return st.mime=it.mime,attemptExifRotate(st,nt),st}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(et,rt){const nt=this.formats.find(at=>at.mime===et);if(!nt||!nt.encode)throw new Error(`Unsupported MIME type: ${et}`);let it;return nt.hasAlpha?it=this:(it=new tt({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(it,this)),nt.encode(it.bitmap,rt)}async getBase64(et,rt){return"data:"+et+";base64,"+(await this.getBuffer(et,rt)).toString("base64")}async write(et,rt){const nt=mime.getType(et);await writeFile(et,await this.getBuffer(nt,rt))}clone(){return new tt({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(et,rt,nt){let it,at;if(nt||(nt=Edge.EXTEND),typeof et!="number"||typeof rt!="number")throw new Error("x and y must be numbers");it=et=Math.round(et),at=rt=Math.round(rt),nt===Edge.EXTEND&&(et<0&&(it=0),et>=this.bitmap.width&&(it=this.bitmap.width-1),rt<0&&(at=0),rt>=this.bitmap.height&&(at=this.bitmap.height-1)),nt===Edge.WRAP&&(et<0&&(it=this.bitmap.width+et),et>=this.bitmap.width&&(it=et%this.bitmap.width),rt<0&&(at=this.bitmap.height+rt),rt>=this.bitmap.height&&(at=rt%this.bitmap.height));let st=this.bitmap.width*at+it<<2;return(it<0||it>=this.bitmap.width)&&(st=-1),(at<0||at>=this.bitmap.height)&&(st=-1),st}getPixelColor(et,rt){if(typeof et!="number"||typeof rt!="number")throw new Error("x and y must be numbers");const nt=this.getPixelIndex(et,rt);return this.bitmap.data.readUInt32BE(nt)}setPixelColor(et,rt,nt){if(typeof et!="number"||typeof rt!="number"||typeof nt!="number")throw new Error("hex, x and y must be numbers");const it=this.getPixelIndex(rt,nt);return this.bitmap.data.writeUInt32BE(et,it),this}hasAlpha(){const{width:et,height:rt,data:nt}=this.bitmap,it=et*rt<<2;for(let at=3;at<it;at+=4)if(nt[at]!==255)return!0;return!1}composite(et,rt=0,nt=0,it={}){return composite(this,et,rt,nt,it)}scan(et,rt,nt,it,at){return scan(this,et,rt,nt,it,at)}scanIterator(et=0,rt=0,nt=this.bitmap.width,it=this.bitmap.height){if(typeof et!="number"||typeof rt!="number")throw new Error("x and y must be numbers");if(typeof nt!="number"||typeof it!="number")throw new Error("w and h must be numbers");return scanIterator(this,et,rt,nt,it)}};return tt}var ResizeStrategy,ResizeStrategy2;function Resize(d,g,$,j,tt,et,rt){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(g)||0),this.targetWidth=Math.abs(Math.floor($)||0),this.targetHeight=Math.abs(Math.floor(j)||0),this.colorChannels=tt?4:3,this.interpolationPass=!!et,this.resizeCallback=typeof rt=="function"?rt:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,g){const $=g?4:3,j=this.ratioWeightWidthPass,tt=this.widthBuffer;let et,rt,nt=0,it=0,at=0,st=0,ot=0;for(et=0;nt<1/3;et+=$,nt+=j)for(it=et,at=0;it<this.widthPassResultSize;at+=this.originalWidthMultipliedByChannels,it+=this.targetWidthMultipliedByChannels)tt[it]=d[at],tt[it+1]=d[at+1],tt[it+2]=d[at+2],g&&(tt[it+3]=d[at+3]);for(nt-=1/3,rt=this.widthOriginal-1;nt<rt;et+=$,nt+=j)for(ot=nt%1,st=1-ot,it=et,at=Math.floor(nt)*$;it<this.widthPassResultSize;at+=this.originalWidthMultipliedByChannels,it+=this.targetWidthMultipliedByChannels)tt[it+0]=d[at+0]*st+d[at+$+0]*ot,tt[it+1]=d[at+1]*st+d[at+$+1]*ot,tt[it+2]=d[at+2]*st+d[at+$+2]*ot,g&&(tt[it+3]=d[at+3]*st+d[at+$+3]*ot);for(rt=this.originalWidthMultipliedByChannels-$;et<this.targetWidthMultipliedByChannels;et+=$)for(it=et,at=rt;it<this.widthPassResultSize;at+=this.originalWidthMultipliedByChannels,it+=this.targetWidthMultipliedByChannels)tt[it]=d[at],tt[it+1]=d[at+1],tt[it+2]=d[at+2],g&&(tt[it+3]=d[at+3]);return tt},Resize.prototype._resizeWidthRGBChannels=function(d,g){const $=g?4:3,j=this.ratioWeightWidthPass,tt=1/j,et=this.originalWidthMultipliedByChannels-$+1,rt=this.targetWidthMultipliedByChannels-$+1,nt=this.outputWidthWorkBench,it=this.widthBuffer,at=this.outputWidthWorkBenchOpaquePixelsCount;let st=0,ot=0,lt=0,ut=0,ct=0,ft=0,mt=0,dt=1,ht=0,pt=0,gt=0,_t=0;do{for(ct=0;ct<this.originalHeightMultipliedByChannels;)nt[ct++]=0,nt[ct++]=0,nt[ct++]=0,g&&(nt[ct++]=0,at[ct/$-1]=0);st=j;do{for(ot=1+lt-ut,dt=Math.min(st,ot),ct=0,ft=lt;ct<this.originalHeightMultipliedByChannels;ft+=et)ht=d[ft],pt=d[++ft],gt=d[++ft],_t=g?d[++ft]:255,nt[ct++]+=(_t?ht:0)*dt,nt[ct++]+=(_t?pt:0)*dt,nt[ct++]+=(_t?gt:0)*dt,g&&(nt[ct++]+=_t*dt,at[ct/$-1]+=_t?dt:0);if(!(st>=ot)){ut+=st;break}lt+=$,ut=lt,st-=ot}while(st>0&&lt<this.originalWidthMultipliedByChannels);for(ct=0,ft=mt;ct<this.originalHeightMultipliedByChannels;ft+=rt)st=g?at[ct/$]:1,dt=g?st?1/st:0:tt,it[ft]=nt[ct++]*dt,it[++ft]=nt[ct++]*dt,it[++ft]=nt[ct++]*dt,g&&(it[++ft]=nt[ct++]*tt);mt+=$}while(mt<this.targetWidthMultipliedByChannels);return it},Resize.prototype._resizeHeightRGBChannels=function(d,g){const $=this.ratioWeightHeightPass,j=1/$,tt=this.outputHeightWorkBench,et=this.heightBuffer,rt=this.outputHeightWorkBenchOpaquePixelsCount;let nt=0,it=0,at=0,st=0,ot=0,lt=0,ut=0,ct=1,ft=0,mt=0,dt=0,ht=0;do{for(ot=0;ot<this.targetWidthMultipliedByChannels;)tt[ot++]=0,tt[ot++]=0,tt[ot++]=0,g&&(tt[ot++]=0,rt[ot/4-1]=0);nt=$;do{for(it=1+at-st,ct=Math.min(nt,it),ut=at,ot=0;ot<this.targetWidthMultipliedByChannels;)ft=d[ut++],mt=d[ut++],dt=d[ut++],ht=g?d[ut++]:255,tt[ot++]+=(ht?ft:0)*ct,tt[ot++]+=(ht?mt:0)*ct,tt[ot++]+=(ht?dt:0)*ct,g&&(tt[ot++]+=ht*ct,rt[ot/4-1]+=ht?ct:0);if(!(nt>=it)){st+=nt;break}at=ut,st=at,nt-=it}while(nt>0&&at<this.widthPassResultSize);for(ot=0;ot<this.targetWidthMultipliedByChannels;)nt=g?rt[ot/4]:1,ct=g?nt?1/nt:0:j,et[lt++]=Math.round(tt[ot++]*ct),et[lt++]=Math.round(tt[ot++]*ct),et[lt++]=Math.round(tt[ot++]*ct),g&&(et[lt++]=Math.round(tt[ot++]*j))}while(lt<this.finalResultSize);return et},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const g=this.ratioWeightHeightPass,$=this.heightBuffer;let j,tt=0,et=0,rt=0,nt=0,it=0,at=0,st=0;for(;tt<1/3;tt+=g)for(rt=0;rt<this.targetWidthMultipliedByChannels;)$[et++]=Math.round(d[rt++]);for(tt-=1/3,j=this.heightOriginal-1;tt<j;tt+=g)for(st=tt%1,at=1-st,nt=Math.floor(tt)*this.targetWidthMultipliedByChannels,it=nt+this.targetWidthMultipliedByChannels,rt=0;rt<this.targetWidthMultipliedByChannels;++rt)$[et++]=Math.round(d[nt++]*at+d[it++]*st);for(;et<this.finalResultSize;)for(rt=0,nt=j*this.targetWidthMultipliedByChannels;rt<this.targetWidthMultipliedByChannels;++rt)$[et++]=Math.round(d[nt++]);return $},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(g){return console.error(g),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(g){return console.error(g),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(g){return console.error(g),[]}};const operations={nearestNeighbor(d,g){const $=d.width,j=d.height,tt=g.width,et=g.height,rt=d.data,nt=g.data;for(let it=0;it<et;it++)for(let at=0;at<tt;at++){let st=4*(it*tt+at),ot=4*(Math.floor(it*j/et)*$+Math.floor(at*$/tt));nt[st++]=rt[ot++],nt[st++]=rt[ot++],nt[st++]=rt[ot++],nt[st++]=rt[ot++]}},bilinearInterpolation(d,g){const $=d.width,j=d.height,tt=g.width,et=g.height,rt=d.data,nt=g.data,it=function(st,ot,lt,ut,ct){return ot===ut?lt:Math.round((st-ot)*ct+(ut-st)*lt)},at=function(st,ot,lt,ut,ct,ft,mt,dt){let ht=4*(mt*$+ut)+ot,pt=4*(mt*$+ct)+ot;const gt=it(lt,ut,rt[ht],ct,rt[pt]);if(dt===mt)nt[st+ot]=gt;else{ht=4*(dt*$+ut)+ot,pt=4*(dt*$+ct)+ot;const _t=it(lt,ut,rt[ht],ct,rt[pt]);nt[st+ot]=it(ft,mt,gt,dt,_t)}};for(let st=0;st<et;st++)for(let ot=0;ot<tt;ot++){const lt=4*(st*tt+ot),ut=ot*$/tt,ct=Math.floor(ut),ft=Math.min(Math.ceil(ut),$-1),mt=st*j/et,dt=Math.floor(mt),ht=Math.min(Math.ceil(mt),j-1);at(lt,0,ut,ct,ft,mt,dt,ht),at(lt,1,ut,ct,ft,mt,dt,ht),at(lt,2,ut,ct,ft,mt,dt,ht),at(lt,3,ut,ct,ft,mt,dt,ht)}},_interpolate2D(d,g,$,j){const tt=d.data,et=g.data,rt=d.width,nt=d.height,it=g.width,at=g.height,st=Math.max(1,Math.floor(rt/it)),ot=it*st,lt=Math.max(1,Math.floor(nt/at)),ut=at*lt,ct=Buffer.alloc(ot*nt*4);for(let dt=0;dt<nt;dt++)for(let ht=0;ht<ot;ht++){const pt=ht*(rt-1)/ot,gt=Math.floor(pt),_t=pt-gt,Et=4*(dt*rt+gt),yt=4*(dt*ot+ht);for(let St=0;St<4;St++){const wt=Et+St,kt=gt>0?tt[wt-4]:2*tt[wt]-tt[wt+4],bt=tt[wt],Tt=tt[wt+4],Dt=gt<rt-2?tt[wt+8]:2*tt[wt+4]-tt[wt];ct[yt+St]=j(kt,bt,Tt,Dt,_t)}}const ft=Buffer.alloc(ot*ut*4);for(let dt=0;dt<ut;dt++)for(let ht=0;ht<ot;ht++){const pt=dt*(nt-1)/ut,gt=Math.floor(pt),_t=pt-gt,Et=4*(gt*ot+ht),yt=4*(dt*ot+ht);for(let St=0;St<4;St++){const wt=Et+St,kt=gt>0?ct[wt-4*ot]:2*ct[wt]-ct[wt+4*ot],bt=ct[wt],Tt=ct[wt+4*ot],Dt=gt<nt-2?ct[wt+8*ot]:2*ct[wt+4*ot]-ct[wt];ft[yt+St]=j(kt,bt,Tt,Dt,_t)}}const mt=st*lt;if(mt>1)for(let dt=0;dt<at;dt++)for(let ht=0;ht<it;ht++){let pt=0,gt=0,_t=0,Et=0,yt=0;for(let wt=0;wt<lt;wt++){const kt=dt*lt+wt;for(let bt=0;bt<st;bt++){const Tt=4*(kt*ot+(ht*st+bt)),Dt=ft[Tt+3];Dt&&(pt+=ft[Tt],gt+=ft[Tt+1],_t+=ft[Tt+2],yt++),Et+=Dt}}const St=4*(dt*it+ht);et[St]=yt?Math.round(pt/yt):0,et[St+1]=yt?Math.round(gt/yt):0,et[St+2]=yt?Math.round(_t/yt):0,et[St+3]=Math.round(Et/mt)}else g.data=ft},bicubicInterpolation(d,g,$){return this._interpolate2D(d,g,$,function(j,tt,et,rt,nt){const it=rt-et-j+tt,at=j-tt-it,st=et-j,ot=tt;return Math.max(0,Math.min(255,it*(nt*nt*nt)+at*(nt*nt)+st*nt+ot))})},hermiteInterpolation(d,g,$){return this._interpolate2D(d,g,$,function(j,tt,et,rt,nt){const it=tt,at=.5*(et-j),st=j-2.5*tt+2*et-.5*rt,ot=.5*(rt-j)+1.5*(tt-et);return Math.max(0,Math.min(255,Math.round(((ot*nt+st)*nt+at)*nt+it)))})},bezierInterpolation(d,g,$){return this._interpolate2D(d,g,$,function(j,tt,et,rt,nt){const it=1-nt,at=tt*it*it*it,st=3*(tt+(et-j)/4)*it*it*nt,ot=3*(et-(rt-tt)/4)*it*nt*nt,lt=et*nt*nt*nt;return Math.max(0,Math.min(255,Math.round(at+st+ot+lt)))})}},ResizeOptionsSchema=z.union([z.object({w:z.number().min(0),h:z.number().min(0).optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),z.object({w:z.number().min(0).optional(),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z.object({w:z.number().min(0),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z.object({f:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,g){const{mode:$}=ResizeOptionsSchema.parse(g);let j,tt;if(typeof g.w=="number")j=g.w,tt=g.h??d.bitmap.height*(j/d.bitmap.width);else{if(typeof g.h!="number")throw new Error("w must be a number");tt=g.h,j=g.w??d.bitmap.width*(tt/d.bitmap.height)}if(j=Math.round(j)||1,tt=Math.round(tt)||1,$&&typeof operations[$]=="function"){const et={data:Buffer.alloc(j*tt*4),width:j,height:tt};operations[$](d.bitmap,et),d.bitmap=et}else new Resize(d.bitmap.width,d.bitmap.height,j,tt,!0,!0,et=>{d.bitmap.data=Buffer.from(et),d.bitmap.width=j,d.bitmap.height=tt}).resize(d.bitmap.data);return d},scale(d,g){const{f:$,mode:j}=typeof g=="number"?{f:g}:ScaleComplexOptionsSchema.parse(g),tt=d.bitmap.width*$,et=d.bitmap.height*$;return this.resize(d,{w:tt,h:et,mode:j})},scaleToFit(d,g){const{h:$,w:j,mode:tt}=ScaleToFitOptionsSchema.parse(g),et=j/$>d.bitmap.width/d.bitmap.height?$/d.bitmap.height:j/d.bitmap.width;return this.scale(d,{f:et,mode:tt})}},ContainOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,g){const{w:$,h:j,align:tt=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:et}=ContainOptionsSchema.parse(g),rt=7&tt,nt=tt>>3;if((rt===0||rt&rt-1)&&(nt===0||nt&nt-1))throw new Error("only use one flag per alignment direction");const it=rt>>1,at=nt>>1,st=$/j>d.bitmap.width/d.bitmap.height?j/d.bitmap.height:$/d.bitmap.width,ot=methods$d.scale(clone(d),{f:st,mode:et});return(d=methods$d.resize(d,{w:$,h:j,mode:et})).scan((lt,ut,ct)=>{d.bitmap.data.writeUInt32BE(d.background,ct)}),d=methods$h.blit(d,{src:ot,x:(d.bitmap.width-ot.bitmap.width)/2*it,y:(d.bitmap.height-ot.bitmap.height)/2*at})}},CropOptionsSchema=z.object({x:z.number(),y:z.number(),w:z.number(),h:z.number()}),AutocropComplexOptionsSchema=z.object({tolerance:z.number().min(0).max(1).optional(),cropOnlyFrames:z.boolean().optional(),cropSymmetric:z.boolean().optional(),leaveBorder:z.number().optional(),ignoreSides:z.object({north:z.boolean().optional(),south:z.boolean().optional(),east:z.boolean().optional(),west:z.boolean().optional()}).optional()}),methods$b={crop(d,g){let{x:$,y:j,w:tt,h:et}=CropOptionsSchema.parse(g);if($=Math.round($),j=Math.round(j),tt=Math.round(tt),et=Math.round(et),$===0&&tt===d.bitmap.width){const rt=tt*j+$<<2,nt=rt+(et*tt<<2);d.bitmap.data=d.bitmap.data.slice(rt,nt)}else{const rt=Buffer.allocUnsafe(tt*et*4);let nt=0;scan(d,$,j,tt,et,function(it,at,st){const ot=d.bitmap.data.readUInt32BE(st);rt.writeUInt32BE(ot,nt),nt+=4}),d.bitmap.data=rt}return d.bitmap.width=tt,d.bitmap.height=et,d},autocrop(d,g={}){const{tolerance:$=2e-4,cropOnlyFrames:j=!0,cropSymmetric:tt=!1,leaveBorder:et=0,ignoreSides:rt}=typeof g=="number"?{tolerance:g}:AutocropComplexOptionsSchema.parse(g),nt=d.bitmap.width,it=d.bitmap.height,at={north:!1,south:!1,east:!1,west:!1,...rt};let st=d.getPixelColor(0,0);const ot=intToRGBA$1(st);let lt=0,ut=0,ct=0,ft=0;if(st=d.getPixelColor(0,0),!at.north)t:for(let pt=0;pt<it-1;pt++){for(let gt=0;gt<nt;gt++)if(colorDiff(ot,intToRGBA$1(d.getPixelColor(gt,pt)))>$)break t;lt++}if(st=d.getPixelColor(nt,0),!at.west)t:for(let pt=0;pt<nt-1;pt++){for(let gt=0+lt;gt<it;gt++)if(colorDiff(ot,intToRGBA$1(d.getPixelColor(pt,gt)))>$)break t;ft++}if(st=d.getPixelColor(0,it),!at.south)t:for(let pt=it-1;pt>=lt+1;pt--){for(let gt=nt-ut-1;gt>=0;gt--)if(colorDiff(ot,intToRGBA$1(d.getPixelColor(gt,pt)))>$)break t;ct++}if(st=d.getPixelColor(nt,it),!at.east)t:for(let pt=nt-1;pt>=0+ft+1;pt--){for(let gt=it-1;gt>=0+lt;gt--)if(colorDiff(ot,intToRGBA$1(d.getPixelColor(pt,gt)))>$)break t;ut++}let mt=!1;if(ft-=et,ut-=et,lt-=et,ct-=et,tt){const pt=Math.min(ut,ft),gt=Math.min(lt,ct);ft=pt,ut=pt,lt=gt,ct=gt}ft=ft>=0?ft:0,ut=ut>=0?ut:0,lt=lt>=0?lt:0,ct=ct>=0?ct:0;const dt=nt-(ft+ut),ht=it-(ct+lt);return mt=j?ut!==0&&lt!==0&&ft!==0&&ct!==0:ut!==0||lt!==0||ft!==0||ct!==0,mt&&this.crop(d,{x:ft,y:lt,w:dt,h:ht}),d}},CoverOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,g){const{w:$,h:j,align:tt=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:et}=CoverOptionsSchema.parse(g),rt=7&tt,nt=tt>>3;if((rt===0||rt&rt-1)&&(nt===0||nt&nt-1))throw new Error("only use one flag per alignment direction");const it=rt>>1,at=nt>>1,st=$/j>d.bitmap.width/d.bitmap.height?$/d.bitmap.width:j/d.bitmap.height;return d=methods$d.scale(d,{f:st,mode:et}),d=methods$b.crop(d,{x:(d.bitmap.width-$)/2*it,y:(d.bitmap.height-j)/2*at,w:$,h:j})}},DisplaceOptionsSchema=z.object({map:JimpClassSchema,offset:z.number()}),methods$9={displace(d,g){const{map:$,offset:j}=DisplaceOptionsSchema.parse(g),tt=clone(d);return d.scan((et,rt,nt)=>{let it=$.bitmap.data[nt]/256*j;it=Math.round(it);const at=d.getPixelIndex(et+it,rt);d.bitmap.data[at]=tt.bitmap.data[nt],d.bitmap.data[at+1]=tt.bitmap.data[nt+1],d.bitmap.data[at+2]=tt.bitmap.data[nt+2]}),d}},methods$8={dither(d){const g=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan(($,j,tt)=>{const et=g[((3&j)<<2)+$%4];d.bitmap.data[tt]=Math.min(d.bitmap.data[tt]+et,255),d.bitmap.data[tt+1]=Math.min(d.bitmap.data[tt+1]+et,255),d.bitmap.data[tt+2]=Math.min(d.bitmap.data[tt+2]+et,255)}),d}},FisheyeOptionsSchema=z.object({radius:z.number().min(0).optional()}),methods$7={fisheye(d,g={}){const{radius:$=2.5}=FisheyeOptionsSchema.parse(g),j=clone(d),{width:tt,height:et}=j.bitmap;return j.scan((rt,nt)=>{const it=rt/tt,at=nt/et,st=Math.sqrt(Math.pow(it-.5,2)+Math.pow(at-.5,2)),ot=2*Math.pow(st,$),lt=(it-.5)/st,ut=(at-.5)/st,ct=Math.round((ot*lt+.5)*tt),ft=Math.round((ot*ut+.5)*et),mt=j.getPixelColor(ct,ft);d.setPixelColor(mt,rt,nt)}),d.setPixelColor(j.getPixelColor(tt/2,et/2),tt/2,et/2),d}},FlipOptionsSchema=z.object({horizontal:z.boolean().optional(),vertical:z.boolean().optional()}),methods$6={flip(d,g){const{horizontal:$,vertical:j}=FlipOptionsSchema.parse(g),tt=Buffer.alloc(d.bitmap.data.length);return d.scan((et,rt,nt)=>{const it=$?d.bitmap.width-1-et:et,at=j?d.bitmap.height-1-rt:rt,st=d.bitmap.width*at+it<<2,ot=d.bitmap.data.readUInt32BE(nt);tt.writeUInt32BE(ot,st)}),d.bitmap.data=Buffer.from(tt),d}};function Converter$1(d,g){if(!(d&&g&&d.length&&g.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=g}Converter$1.prototype.convert=function(d){var g,$,j,tt={},et=this.srcAlphabet.length,rt=this.dstAlphabet.length,nt=d.length,it=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(g=0;g<nt;g++)tt[g]=this.srcAlphabet.indexOf(d[g]);do{for($=0,j=0,g=0;g<nt;g++)($=$*et+tt[g])>=rt?(tt[j++]=parseInt($/rt,10),$%=rt):j>0&&(tt[j++]=0);nt=j,it=this.dstAlphabet.slice($,$+1).concat(it)}while(j!==0);return it},Converter$1.prototype.isValid=function(d){for(var g=0;g<d.length;++g)if(this.srcAlphabet.indexOf(d[g])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,g){var $=new Converter(d,g);return function(j){return $.convert(j)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,g,$)=>g in d?__defProp$1(d,g,{enumerable:!0,configurable:!0,writable:!0,value:$}):d[g]=$,__publicField$1=(d,g,$)=>__defNormalProp$1(d,typeof g!="symbol"?g+"":g,$);class ImagePHash{constructor(g,$){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=g||32,this.smallerSize=$||8,initCoefficients(this.size)}distance(g,$){let j=0;for(let tt=0;tt<g.length;tt++)g[tt]!==$[tt]&&j++;return j/g.length}getHash(g){g=methods$d.resize(clone(g),{w:this.size,h:this.size}),g=methods$e.greyscale(g);const $=[];for(let nt=0;nt<g.bitmap.width;nt++){const it=[];for(let at=0;at<g.bitmap.height;at++)it[at]=intToRGBA(g.getPixelColor(nt,at)).b;$[nt]=it}const j=applyDCT($,this.size);let tt=0;for(let nt=0;nt<this.smallerSize;nt++)for(let it=0;it<this.smallerSize;it++)tt+=j[nt][it];const et=tt/(this.smallerSize*this.smallerSize);let rt="";for(let nt=0;nt<this.smallerSize;nt++)for(let it=0;it<this.smallerSize;it++)rt+=j[nt][it]>et?"1":"0";return rt}}function intToRGBA(d){const g=255&d,$=255&(d>>>=8),j=255&(d>>>=8);return{r:255&(d>>>=8),g:j,b:$,a:g}}const c$1=[];function initCoefficients(d){for(let g=1;g<d;g++)c$1[g]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,g){const $=g,j=[];for(let tt=0;tt<$;tt++){const et=[];for(let rt=0;rt<$;rt++){let nt=0;for(let it=0;it<$;it++)for(let at=0;at<$;at++)nt+=Math.cos((2*it+1)/(2*$)*tt*Math.PI)*Math.cos((2*at+1)/(2*$)*rt*Math.PI)*d[it][at];nt*=c$1[tt]*c$1[rt]/4,et[rt]=nt,j[tt]=et}}return j}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const g=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(g.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,g=64){if(g<2||g>64)throw new Error("base must be a number between 2 and 64");const $=alphabet.slice(0,g),j=this.pHash(d),tt=maxHashLength[g];return anyBase$1(anyBase$1.BIN,$)(j).padStart(tt,"0")},distanceFromHash(d,g){const $=new ImagePHash,j=$.getHash(d);return $.distance(j,g)}},MaskOptionsObjectSchema=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional()}),MaskOptionsSchema=z.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,g){let $,j,tt;MaskOptionsSchema.parse(g),"bitmap"in g?($=g,j=0,tt=0):($=g.src,j=g.x??0,tt=g.y??0),j=Math.round(j),tt=Math.round(tt);const et=d.bitmap.width,rt=d.bitmap.height;return $.scan(function(nt,it,at){const st=j+nt,ot=tt+it;if(st>=0&&ot>=0&&st<et&&ot<rt){const lt=d.getPixelIndex(st,ot),{data:ut}=$.bitmap,ct=(ut[at+0]+ut[at+1]+ut[at+2])/3;d.bitmap.data[lt+3]*=ct/255}}),d}};function measureText(d,g){let $=0;for(let j=0;j<g.length;j++){const tt=g[j],et=d.chars[tt];if(et){const rt=d.kernings[tt],nt=g[j+1],it=rt&&nt&&rt[nt]&&rt[nt]||0;$+=(et.xadvance||0)+it}}return $}function splitLines(d,g,$){const j=g.replace(/[\r\n]+/g,` 
`).split(" "),tt=[];let et=[],rt=0;return j.forEach(nt=>{if(measureText(d,nt+(j.length>1?" ":""))>$){const st=nt[Symbol.iterator]();let ot="";for(const lt of st){const ut=[...et,ot+lt].join(" "),ct=measureText(d,ut);ct<$?ot+=lt:ct>$?(tt.push([...et,ot]),et=[],ot=lt):(tt.push([...et,ot+lt]),et=[],ot="")}return}const it=[...et,nt].join(" "),at=measureText(d,it);at<=$&&!nt.includes(`
`)?(at>rt&&(rt=at),et.push(nt)):(tt.push(et),et=[nt.replace(`
`,"")])}),tt.push(et),{lines:tt,longestLine:rt}}function measureTextHeight(d,g,$){const{lines:j}=splitLines(d,g,$);return j.length*d.common.lineHeight}const PrintOptionsSchema=z.object({x:z.number(),y:z.number(),text:z.union([z.union([z.string(),z.number()]),z.object({text:z.union([z.string(),z.number()]),alignmentX:z.nativeEnum(HorizontalAlign).optional(),alignmentY:z.nativeEnum(VerticalAlign).optional()})]),maxWidth:z.number().optional(),maxHeight:z.number().optional(),cb:z.function(z.tuple([z.object({x:z.number(),y:z.number()})])).optional()});function xOffsetBasedOnAlignment(d,g,$,j){return j===HorizontalAlign.LEFT?0:j===HorizontalAlign.CENTER?($-measureText(d,g))/2:$-measureText(d,g)}function drawCharacter(d,g,$,j,tt){if(tt.width>0&&tt.height>0){const et=g.pages[tt.page];et&&(d=methods$h.blit(d,{src:et,x:$+tt.xoffset,y:j+tt.yoffset,srcX:tt.x,srcY:tt.y,srcW:tt.width,srcH:tt.height}))}return d}function printText(d,g,$,j,tt,et){for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];let it;it=g.chars[nt]?nt:/\s/.test(nt)?"":"?";const at=g.chars[it]||{xadvance:void 0},st=g.kernings[it];at&&drawCharacter(d,g,$,j,at);const ot=tt[rt+1];$+=(st&&ot&&st[ot]&&st[ot]||0)+(at.xadvance||et)}}const methods$3={print(d,{font:g,...$}){var ct;let j,tt,{x:et,y:rt,text:nt,maxWidth:it=1/0,maxHeight:at=1/0,cb:st=()=>{}}=PrintOptionsSchema.parse($);typeof nt=="object"&&nt.text!==null&&nt.text!==void 0?(j=nt.alignmentX||HorizontalAlign.LEFT,tt=nt.alignmentY||VerticalAlign.TOP,{text:nt}=nt):(j=HorizontalAlign.LEFT,tt=VerticalAlign.TOP,nt=nt.toString()),typeof nt=="number"&&(nt=nt.toString()),at!==1/0&&tt===VerticalAlign.BOTTOM?rt+=at-measureTextHeight(g,nt,it):at!==1/0&&tt===VerticalAlign.MIDDLE&&(rt+=at/2-measureTextHeight(g,nt,it)/2);const ot=(ct=Object.entries(g.chars).find(ft=>ft[1].xadvance))==null?void 0:ct[1].xadvance;if(typeof ot!="number")throw new Error("Could not find default character width");const{lines:lt,longestLine:ut}=splitLines(g,nt,it);return lt.forEach(ft=>{const mt=ft.join(" "),dt=xOffsetBasedOnAlignment(g,mt,it,j);printText(d,g,et+dt,rt,mt,ot),rt+=g.common.lineHeight}),st.bind(d)({x:et+ut,y:rt}),d}},RotateOptionsSchema=z.union([z.number(),z.object({deg:z.number(),mode:z.union([z.boolean(),z.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(g,$){return $*d+g<<2}}function matrixRotate(d,g){if(Math.abs(g)%90!=0)throw new Error("Unsupported matrix rotation degree");const $=d.bitmap.width,j=d.bitmap.height;let tt;switch(g){case 90:case-270:tt=90;break;case 180:case-180:tt=180;break;case 270:case-90:tt=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const et=tt===180?$:j,rt=tt===180?j:$,nt=Buffer.alloc(d.bitmap.data.length),it=createIdxTranslationFunction($),at=createIdxTranslationFunction(et);for(let st=0;st<$;st++)for(let ot=0;ot<j;ot++){const lt=it(st,ot),ut=d.bitmap.data.readUInt32BE(lt);let ct;switch(tt){case 90:ct=at(ot,$-st-1);break;case-90:ct=at(j-ot-1,st);break;case 180:ct=at($-st-1,j-ot-1);break;default:throw new Error("Unsupported matrix rotation angle")}nt.writeUInt32BE(ut,ct)}d.bitmap.data=nt,d.bitmap.width=et,d.bitmap.height=rt}function createTranslationFunction(d,g){return function($,j){return{x:$+d,y:j+g}}}function advancedRotate(d,g,$){const j=g*Math.PI/180,tt=Math.cos(j),et=Math.sin(j);let rt=d.bitmap.width,nt=d.bitmap.height;if($===!0||typeof $=="string"){rt=Math.ceil(Math.abs(d.bitmap.width*tt)+Math.abs(d.bitmap.height*et))+1,nt=Math.ceil(Math.abs(d.bitmap.width*et)+Math.abs(d.bitmap.height*tt))+1,rt%2!=0&&rt++,nt%2!=0&&nt++;const ut=clone(d);d.scan((ft,mt,dt)=>{d.bitmap.data.writeUInt32BE(d.background,dt)});const ct=Math.max(rt,nt,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:ct,w:ct,mode:$===!0?void 0:$}),ut,d.bitmap.width/2-ut.bitmap.width/2,d.bitmap.height/2-ut.bitmap.height/2)}const it=d.bitmap.width,at=d.bitmap.height,st=Buffer.alloc(d.bitmap.data.length),ot=createTranslationFunction(-it/2,-at/2),lt=createTranslationFunction(it/2+.5,at/2+.5);for(let ut=1;ut<=at;ut++)for(let ct=1;ct<=it;ct++){const ft=ot(ct,ut),mt=lt(tt*ft.x-et*ft.y,tt*ft.y+et*ft.x),dt=it*(ut-1)+ct-1<<2;if(mt.x>=0&&mt.x<it&&mt.y>=0&&mt.y<at){const ht=it*(0|mt.y)+mt.x<<2,pt=d.bitmap.data.readUInt32BE(ht);st.writeUInt32BE(pt,dt)}else st.writeUInt32BE(d.background,dt)}if(d.bitmap.data=st,$===!0||typeof $=="string"){const ut=Math.max(it/2-rt/2,0),ct=Math.max(at/2-nt/2,0);d=methods$b.crop(d,{x:ut,y:ct,w:rt,h:nt})}}const methods$2={rotate(d,g){const $=RotateOptionsSchema.parse(g),j=typeof $=="number"?{deg:$}:$,{mode:tt=!0}=j;let{deg:et}=j;return et%=360,et%360==0||(et%90==0&&(tt||d.bitmap.width===d.bitmap.height||et%180==0)?matrixRotate(d,et):advancedRotate(d,et,tt)),d}},ThresholdOptionsSchema=z.object({max:z.number().min(0).max(255),replace:z.number().min(0).max(255).optional(),autoGreyscale:z.boolean().optional()}),methods$1={threshold(d,g){let{max:$,replace:j=255,autoGreyscale:tt=!0}=ThresholdOptionsSchema.parse(g);return $=limit255($),j=limit255(j),tt&&methods$e.greyscale(d),d.scan((et,rt,nt)=>{const it=d.bitmap.data[nt]<$?d.bitmap.data[nt]:j;d.bitmap.data[nt]=it,d.bitmap.data[nt+1]=it,d.bitmap.data[nt+2]=it}),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,g,$)=>g in d?__defProp(d,g,{enumerable:!0,configurable:!0,writable:!0,value:$}):d[g]=$,__export=(d,g)=>{for(var $ in g)__defProp(d,$,{get:g[$],enumerable:!0})},__publicField=(d,g,$)=>(__defNormalProp(d,typeof g!="symbol"?g+"":g,$),$),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,g,$){return{x:.4124*(d=correctGamma(d/255))+.3576*(g=correctGamma(g/255))+.1805*($=correctGamma($/255)),y:.2126*d+.7152*g+.0722*$,z:.0193*d+.1192*g+.9505*$}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,g,$){let j=d;return j<g&&(j=g),j<$&&(j=$),j}function min3(d,g,$){let j=d;return j>g&&(j=g),j>$&&(j=$),j}function intInRange(d,g,$){return d>$&&(d=$),d<g&&(d=g),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,g){const $=typeof d[0];let j;if($==="number"||$==="string"){const tt=Object.create(null);for(let et=0,rt=d.length;et<rt;et++){const nt=d[et];tt[nt]||tt[nt]===0||(tt[nt]=et)}j=d.sort((et,rt)=>g(et,rt)||tt[et]-tt[rt])}else{const tt=d.slice(0);j=d.sort((et,rt)=>g(et,rt)||tt.indexOf(et)-tt.indexOf(rt))}return j}function rgb2hsl(d,g,$){const j=min3(d,g,$),tt=max3(d,g,$),et=tt-j,rt=(j+tt)/510;let nt=0;rt>0&&rt<1&&(nt=et/(rt<.5?tt+j:510-tt-j));let it=0;return et>0&&(it=tt===d?(g-$)/et:tt===g?2+($-d)/et:4+(d-g)/et,it*=60,it<0&&(it+=360)),{h:it,s:nt,l:rt}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,g,$){if(d=pivot(d/refX),g=pivot(g/refY),$=pivot($/refZ),116*g-16<0)throw new Error("xxx");return{L:Math.max(0,116*g-16),a:500*(d-g),b:200*(g-$)}}function rgb2lab(d,g,$){const j=rgb2xyz(d,g,$);return xyz2lab(j.x,j.y,j.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,g,$){const j=(d+16)/116,tt=j-$/200;return{x:refX2*pivot2(g/500+j),y:refY2*pivot2(j),z:refZ2*pivot2(tt)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,g,$){const j=correctGamma2(3.2406*d+-1.5372*g+-.4986*$),tt=correctGamma2(-.9689*d+1.8758*g+.0415*$),et=correctGamma2(.0557*d+-.204*g+1.057*$);return{r:inRange0to255Rounded(255*j),g:inRange0to255Rounded(255*tt),b:inRange0to255Rounded(255*et)}}function lab2rgb(d,g,$){const j=lab2xyz(d,g,$);return xyz2rgb(j.x,j.y,j.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,g,$,j){this._whitePoint={r:d>0?255/d:0,g:g>0?255/g:0,b:$>0?255/$:0,a:j>0?255/j:0},this._maxDistance=this.calculateRaw(d,g,$,j,0,0,0,0)}calculateNormalized(d,g){return this.calculateRaw(d.r,d.g,d.b,d.a,g.r,g.g,g.b,g.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(g*this._whitePoint.g),inRange0to255($*this._whitePoint.b)),at=rgb2lab(inRange0to255(tt*this._whitePoint.r),inRange0to255(et*this._whitePoint.g),inRange0to255(rt*this._whitePoint.b)),st=it.L-at.L,ot=it.a-at.a,lt=it.b-at.b,ut=Math.sqrt(it.a*it.a+it.b*it.b),ct=ut-Math.sqrt(at.a*at.a+at.b*at.b);let ft=ot*ot+lt*lt-ct*ct;ft=ft<0?0:Math.sqrt(ft);const mt=(nt-j)*this._whitePoint.a*this._kA;return Math.sqrt((st/this._Kl)**2+(ct/(1+this._K1*ut))**2+(ft/(1+this._K2*ut))**2+mt**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,g){const $=Math.atan2(d,g);return $>=0?$:$+_CIEDE2000._deg360InRad}static _calculateRT(d,g){const $=g**7,j=2*Math.sqrt($/($+_CIEDE2000._pow25to7)),tt=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*tt)*j}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,g,$,j){const tt=$+j;return d===0?tt:g<=_CIEDE2000._deg180InRad?tt/2:tt<_CIEDE2000._deg360InRad?(tt+_CIEDE2000._deg360InRad)/2:(tt-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,g,$,j){let tt;return tt=d===0?0:g<=_CIEDE2000._deg180InRad?$-j:$<=j?$-j+_CIEDE2000._deg360InRad:$-j-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(tt/2)}calculateRaw(d,g,$,j,tt,et,rt,nt){const it=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(g*this._whitePoint.g),inRange0to255($*this._whitePoint.b)),at=rgb2lab(inRange0to255(tt*this._whitePoint.r),inRange0to255(et*this._whitePoint.g),inRange0to255(rt*this._whitePoint.b)),st=(nt-j)*this._whitePoint.a*_CIEDE2000._kA,ot=this.calculateRawInLab(it,at);return Math.sqrt(ot+st*st)}calculateRawInLab(d,g){const $=d.L,j=d.a,tt=d.b,et=g.L,rt=g.a,nt=g.b,it=((Math.sqrt(j*j+tt*tt)+Math.sqrt(rt*rt+nt*nt))/2)**7,at=.5*(1-Math.sqrt(it/(it+_CIEDE2000._pow25to7))),st=(1+at)*j,ot=(1+at)*rt,lt=Math.sqrt(st*st+tt*tt),ut=Math.sqrt(ot*ot+nt*nt),ct=lt*ut,ft=_CIEDE2000._calculatehp(tt,st),mt=_CIEDE2000._calculatehp(nt,ot),dt=Math.abs(ft-mt),ht=et-$,pt=ut-lt,gt=_CIEDE2000._calculate_dHp(ct,dt,mt,ft),_t=_CIEDE2000._calculate_ahp(ct,dt,ft,mt),Et=(lt+ut)/2,yt=(($+et)/2-50)**2,St=pt/(1+.045*Et),wt=gt/(1+.015*_CIEDE2000._calculateT(_t)*Et);return(ht/(1+.015*yt/Math.sqrt(20+yt)))**2+St**2+wt**2+_CIEDE2000._calculateRT(_t,Et)*St*wt}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=(d+tt)/2*this._whitePoint.r,at=(d-tt)*this._whitePoint.r,st=(g-et)*this._whitePoint.g,ot=($-rt)*this._whitePoint.b,lt=((512+it)*at*at>>8)+4*st*st+((767-it)*ot*ot>>8),ut=(nt-j)*this._whitePoint.a;return Math.sqrt(lt+ut*ut)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=tt-d,at=et-g,st=rt-$,ot=nt-j;return Math.sqrt(this._kR*it*it+this._kG*at*at+this._kB*st*st+this._kA*ot*ot)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,g,$,j,tt,et,rt,nt){let it=tt-d,at=et-g,st=rt-$,ot=nt-j;return it<0&&(it=0-it),at<0&&(at=0-at),st<0&&(st=0-st),ot<0&&(ot=0-ot),this._kR*it+this._kG*at+this._kB*st+this._kA*ot}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,g,$,j,tt,et,rt,nt){const it=(nt-j)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,tt*this._whitePoint.r,it)+this._colordifferenceCh(g*this._whitePoint.g,et*this._whitePoint.g,it)+this._colordifferenceCh($*this._whitePoint.b,rt*this._whitePoint.b,it)}_colordifferenceCh(d,g,$){const j=d-g,tt=j+$;return j*j+tt*tt}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const g=new Point;return g.r=0|d[0],g.g=0|d[1],g.b=0|d[2],g.a=0|d[3],g._loadUINT32(),g._loadQuadruplet(),g}static createByRGBA(d,g,$,j){const tt=new Point;return tt.r=0|d,tt.g=0|g,tt.b=0|$,tt.a=0|j,tt._loadUINT32(),tt._loadQuadruplet(),tt}static createByUint32(d){const g=new Point;return g.uint32=d>>>0,g._loadRGBA(),g._loadQuadruplet(),g}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let g=this.r,$=this.g,j=this.b;return d&&(g=Math.min(255,255-this.a+this.a*g/255),$=Math.min(255,255-this.a+this.a*$/255),j=Math.min(255,255-this.a+this.a*j/255)),.2126*g+.7152*$+.0722*j}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let g=0,$=this._pointArray.length;g<$;g++)d._pointArray[g]=Point.createByUint32(0|this._pointArray[g].uint32);return d}toUint32Array(){const d=this._pointArray.length,g=new Uint32Array(d);for(let $=0;$<d;$++)g[$]=this._pointArray[$].uint32;return g}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const g=d.naturalWidth,$=d.naturalHeight,j=document.createElement("canvas");return j.width=g,j.height=$,j.getContext("2d").drawImage(d,0,0,g,$,0,0,g,$),PointContainer.fromHTMLCanvasElement(j)}static fromHTMLCanvasElement(d){const g=d.width,$=d.height,j=d.getContext("2d").getImageData(0,0,g,$);return PointContainer.fromImageData(j)}static fromImageData(d){const g=d.width,$=d.height;return PointContainer.fromUint8Array(d.data,g,$)}static fromUint8Array(d,g,$){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const j=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(j,g,$)}static fromUint32Array(d,g,$){const j=new PointContainer;j._width=g,j._height=$;for(let tt=0,et=d.length;tt<et;tt++)j._pointArray[tt]=Point.createByUint32(0|d[tt]);return j}static fromBuffer(d,g,$){const j=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(j,g,$)}},hueGroups=10;function hueGroup(d,g){const $=360/g;for(let j=1,tt=$-$/2;j<g;j++,tt+=$)if(d>=tt&&d<tt+$)return j;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let g=this._pointArray.length-1;g>=0;g--)if(d.uint32===this._pointArray[g].uint32)return!0;return!1}getNearestColor(d,g){return this._pointArray[0|this._getNearestIndex(d,g)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,g){let $=this._nearestPointFromCache(""+g.uint32);if($>=0)return $;let j=Number.MAX_VALUE;$=0;for(let tt=0,et=this._pointArray.length;tt<et;tt++){const rt=this._pointArray[tt],nt=d.calculateRaw(g.r,g.g,g.b,g.a,rt.r,rt.g,rt.b,rt.a);nt<j&&(j=nt,$=tt)}return this._i32idx[g.uint32]=$,$}sort(){this._i32idx={},this._pointArray.sort((d,g)=>{const $=rgb2hsl(d.r,d.g,d.b),j=rgb2hsl(g.r,g.g,g.b),tt=d.r===d.g&&d.g===d.b?0:1+hueGroup($.h,hueGroups),et=(g.r===g.g&&g.g===g.b?0:1+hueGroup(j.h,hueGroups))-tt;if(et)return-et;const rt=d.getLuminosity(!0),nt=g.getLuminosity(!0);if(nt-rt!=0)return nt-rt;const it=(100*j.s|0)-(100*$.s|0);return it?-it:0})}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,g){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=g,this._stats=[];for(let $=0;$<=d;$++)this._stats[$]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const g=255&d,$=d>>>8&255,j=d>>>16&255,tt=g===$&&$===j?0:1+hueGroup(rgb2hsl(g,$,j).h,this._numGroups),et=this._stats[tt],rt=this._minCols;et.num++,et.num>rt||(et.num===rt&&this._groupsFull++,et.num<=rt&&this._stats[tt].cols.push(d))}injectIntoDictionary(d){for(let g=0;g<=this._numGroups;g++)this._stats[g].num<=this._minCols&&this._stats[g].cols.forEach($=>{d[$]?d[$]++:d[$]=1})}injectIntoArray(d){for(let g=0;g<=this._numGroups;g++)this._stats[g].num<=this._minCols&&this._stats[g].cols.forEach($=>{d.indexOf($)===-1&&d.push($)})}},_ProgressTracker=class{constructor(d,g){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=g,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,g,$,j){this.r-=0|d,this.g-=0|g,this.b-=0|$,this.a-=0|j}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,g=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=g,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const g=this._pointArray.length;g<_NeuQuant._minpicturebytes&&(d=1);const $=30+(d-1)/3|0,j=g/d|0;let tt,et=j/_NeuQuant._nCycles|0,rt=_NeuQuant._initAlpha,nt=(this._networkSize>>3)*_NeuQuant._radiusBias,it=nt>>_NeuQuant._radiusBiasShift;it<=1&&(it=0);for(let st=0;st<it;st++)this._radPower[st]=rt*((it*it-st*st)*_NeuQuant._radBias/(it*it))>>>0;tt=g<_NeuQuant._minpicturebytes?1:g%_NeuQuant._prime1!=0?_NeuQuant._prime1:g%_NeuQuant._prime2!=0?_NeuQuant._prime2:g%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const at=new ProgressTracker(j,99);for(let st=0,ot=0;st<j;){at.shouldNotify(st)&&(yield{progress:at.progress});const lt=this._pointArray[ot],ut=lt.b<<networkBiasShift,ct=lt.g<<networkBiasShift,ft=lt.r<<networkBiasShift,mt=lt.a<<networkBiasShift,dt=this._contest(ut,ct,ft,mt);if(this._alterSingle(rt,dt,ut,ct,ft,mt),it!==0&&this._alterNeighbour(it,dt,ut,ct,ft,mt),ot+=tt,ot>=g&&(ot-=g),st++,et===0&&(et=1),st%et==0){rt-=rt/$|0,nt-=nt/_NeuQuant._radiusDecrease|0,it=nt>>_NeuQuant._radiusBiasShift,it<=1&&(it=0);for(let ht=0;ht<it;ht++)this._radPower[ht]=rt*((it*it-ht*ht)*_NeuQuant._radBias/(it*it))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach(g=>{d.add(g.toPoint())}),d.sort(),d}_alterNeighbour(d,g,$,j,tt,et){let rt=g-d;rt<-1&&(rt=-1);let nt=g+d;nt>this._networkSize&&(nt=this._networkSize);let it=g+1,at=g-1,st=1;for(;it<nt||at>rt;){const ot=this._radPower[st++]/_NeuQuant._alphaRadBias;if(it<nt){const lt=this._network[it++];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}if(at>rt){const lt=this._network[at--];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}}}_alterSingle(d,g,$,j,tt,et){d/=_NeuQuant._initAlpha;const rt=this._network[g];rt.subtract(d*(rt.r-tt),d*(rt.g-j),d*(rt.b-$),d*(rt.a-et))}_contest(d,g,$,j){const tt=1020<<networkBiasShift;let et=~(1<<31),rt=et,nt=-1,it=nt;for(let at=0;at<this._networkSize;at++){const st=this._network[at],ot=this._distance.calculateNormalized(st,{r:$,g,b:d,a:j})*tt|0;ot<et&&(et=ot,nt=at);const lt=ot-(this._bias[at]>>_NeuQuant._initialBiasShift-networkBiasShift);lt<rt&&(rt=lt,it=at);const ut=this._freq[at]>>_NeuQuant._betaShift;this._freq[at]-=ut,this._bias[at]+=ut<<_NeuQuant._gammaShift}return this._freq[nt]+=_NeuQuant._beta,this._bias[nt]-=_NeuQuant._betaGamma,it}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,g,$,j){this.r-=d,this.g-=g,this.b-=$,this.a-=j}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,g=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=g,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const g=this._pointArray.length;g<_NeuQuantFloat._minpicturebytes&&(d=1);const $=30+(d-1)/3,j=g/d;let tt,et=j/_NeuQuantFloat._nCycles|0,rt=_NeuQuantFloat._initAlpha,nt=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,it=nt>>_NeuQuantFloat._radiusBiasShift;it<=1&&(it=0);for(let st=0;st<it;st++)this._radPower[st]=rt*((it*it-st*st)*_NeuQuantFloat._radBias/(it*it));tt=g<_NeuQuantFloat._minpicturebytes?1:g%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:g%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:g%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const at=new ProgressTracker(j,99);for(let st=0,ot=0;st<j;){at.shouldNotify(st)&&(yield{progress:at.progress});const lt=this._pointArray[ot],ut=lt.b<<networkBiasShift2,ct=lt.g<<networkBiasShift2,ft=lt.r<<networkBiasShift2,mt=lt.a<<networkBiasShift2,dt=this._contest(ut,ct,ft,mt);if(this._alterSingle(rt,dt,ut,ct,ft,mt),it!==0&&this._alterNeighbour(it,dt,ut,ct,ft,mt),ot+=tt,ot>=g&&(ot-=g),st++,et===0&&(et=1),st%et==0){rt-=rt/$,nt-=nt/_NeuQuantFloat._radiusDecrease,it=nt>>_NeuQuantFloat._radiusBiasShift,it<=1&&(it=0);for(let ht=0;ht<it;ht++)this._radPower[ht]=rt*((it*it-ht*ht)*_NeuQuantFloat._radBias/(it*it))}}}_buildPalette(){const d=new Palette;return this._network.forEach(g=>{d.add(g.toPoint())}),d.sort(),d}_alterNeighbour(d,g,$,j,tt,et){let rt=g-d;rt<-1&&(rt=-1);let nt=g+d;nt>this._networkSize&&(nt=this._networkSize);let it=g+1,at=g-1,st=1;for(;it<nt||at>rt;){const ot=this._radPower[st++]/_NeuQuantFloat._alphaRadBias;if(it<nt){const lt=this._network[it++];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}if(at>rt){const lt=this._network[at--];lt.subtract(ot*(lt.r-tt),ot*(lt.g-j),ot*(lt.b-$),ot*(lt.a-et))}}}_alterSingle(d,g,$,j,tt,et){d/=_NeuQuantFloat._initAlpha;const rt=this._network[g];rt.subtract(d*(rt.r-tt),d*(rt.g-j),d*(rt.b-$),d*(rt.a-et))}_contest(d,g,$,j){const tt=1020<<networkBiasShift2;let et=~(1<<31),rt=et,nt=-1,it=nt;for(let at=0;at<this._networkSize;at++){const st=this._network[at],ot=this._distance.calculateNormalized(st,{r:$,g,b:d,a:j})*tt;ot<et&&(et=ot,nt=at);const lt=ot-(this._bias[at]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);lt<rt&&(rt=lt,it=at);const ut=this._freq[at]>>_NeuQuantFloat._betaShift;this._freq[at]-=ut,this._bias[at]+=ut<<_NeuQuantFloat._gammaShift}return this._freq[nt]+=_NeuQuantFloat._beta,this._bias[nt]-=_NeuQuantFloat._betaGamma,it}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,g){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=g<<2,this._initColors=g<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),($,j)=>this._histogram[j]-this._histogram[$]);if(d.length===0)return[];let g;switch(this._method){case 1:const $=Math.min(d.length,this._initColors),j=d[$-1],tt=this._histogram[j];g=d.slice(0,$);let et=$;const rt=d.length;for(;et<rt&&this._histogram[d[et]]===tt;)g.push(d[et++]);this._hueStats.injectIntoArray(g);break;case 2:g=d;break;default:throw new Error("Incorrect method")}return g.map($=>+$)}_colorStats1D(d){const g=this._histogram,$=d.getPointArray(),j=$.length;for(let tt=0;tt<j;tt++){const et=$[tt].uint32;this._hueStats.check(et),et in g?g[et]++:g[et]=1}}_colorStats2D(d){const g=d.getWidth(),$=d.getHeight(),j=d.getPointArray(),tt=_ColorHistogram._boxSize[0],et=_ColorHistogram._boxSize[1],rt=tt*et,nt=this._makeBoxes(g,$,tt,et),it=this._histogram;nt.forEach(at=>{let st=Math.round(at.w*at.h/rt)*_ColorHistogram._boxPixels;st<2&&(st=2);const ot={};this._iterateBox(at,g,lt=>{const ut=j[lt].uint32;this._hueStats.check(ut),ut in it?it[ut]++:ut in ot?++ot[ut]>=st&&(it[ut]=ot[ut]):ot[ut]=1})}),this._hueStats.injectIntoDictionary(it)}_iterateBox(d,g,$){const j=d,tt=j.y*g+j.x,et=(j.y+j.h-1)*g+(j.x+j.w-1),rt=g-j.w+1;let nt=0,it=tt;do $.call(this,it),it+=++nt%j.w==0?rt:1;while(it<=et)}_makeBoxes(d,g,$,j){const tt=d%$,et=g%j,rt=d-tt,nt=g-et,it=[];for(let at=0;at<g;at+=j)for(let st=0;st<d;st+=$)it.push({x:st,y:at,w:st===rt?tt:$,h:at===nt?et:j});return it}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,g,$){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=g,this.distance=$}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,g=256,$=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=g,this._histogram=new ColorHistogram($,g),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const g=new Palette,$=g.getPointContainer().getPointArray(),j=new Array(d.length);for(let st=0;st<d.length;st++)$.push(Point.createByUint32(d[st])),j[st]=1;const tt=$.length,et=[];let rt=tt,nt=this._initialDistance;const it=new ProgressTracker(rt-this._colors,99);for(;rt>this._colors;){et.length=0;for(let st=0;st<tt;st++){if(it.shouldNotify(tt-rt)&&(yield{progress:it.progress}),j[st]===0)continue;const ot=$[st];for(let lt=st+1;lt<tt;lt++){if(j[lt]===0)continue;const ut=$[lt],ct=this._distance.calculateNormalized(ot,ut);ct<nt&&(et.push(new RemovedColor(lt,ut,ct)),j[lt]=0,rt--)}}nt+=rt>3*this._colors?this._initialDistance:this._distanceIncrement}if(rt<this._colors){stableSort(et,(ot,lt)=>lt.distance-ot.distance);let st=0;for(;rt<this._colors&&st<et.length;)j[et[st].index]=1,rt++,st++}let at=$.length;for(let st=at-1;st>=0;st--)j[st]===0&&(st!==at-1&&($[st]=$[at-1]),--at);$.length=at,g.sort(),yield{palette:g,progress:100}}};function createArray1D(d){const g=[];for(let $=0;$<d;$++)g[$]=0;return g}function createArray4D(d,g,$,j){const tt=new Array(d);for(let et=0;et<d;et++){tt[et]=new Array(g);for(let rt=0;rt<g;rt++){tt[et][rt]=new Array($);for(let nt=0;nt<$;nt++){tt[et][rt][nt]=new Array(j);for(let it=0;it<j;it++)tt[et][rt][nt][it]=0}}}return tt}function createArray3D(d,g,$){const j=new Array(d);for(let tt=0;tt<d;tt++){j[tt]=new Array(g);for(let et=0;et<g;et++){j[tt][et]=new Array($);for(let rt=0;rt<$;rt++)j[tt][et][rt]=0}}return j}function fillArray3D(d,g,$,j,tt){for(let et=0;et<g;et++){d[et]=[];for(let rt=0;rt<$;rt++){d[et][rt]=[];for(let nt=0;nt<j;nt++)d[et][rt][nt]=tt}}}function fillArray1D(d,g,$){for(let j=0;j<g;j++)d[j]=$}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,g=256,$=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality($),this._initialize(g)}sample(d){const g=d.getPointArray();for(let $=0,j=g.length;$<j;$++)this._addColor(g[$]);this._pixels=this._pixels.concat(g)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let g=0;g<this._colors;g++)if(this._sums[g]>0){const $=this._sums[g],j=this._reds[g]/$,tt=this._greens[g]/$,et=this._blues[g]/$,rt=this._alphas[g]/$,nt=Point.createByRGBA(0|j,0|tt,0|et,0|rt);d.add(nt)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const g=createArray1D(this._colors);for(let rt=1;rt<this._colors;++rt){this._cut(this._cubes[d],this._cubes[rt])?(g[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,g[rt]=this._cubes[rt].volume>1?this._calculateVariance(this._cubes[rt]):0):(g[d]=0,rt--),d=0;let nt=g[0];for(let it=1;it<=rt;++it)g[it]>nt&&(nt=g[it],d=it);if(nt<=0){this._colors=rt+1;break}}const $=[],j=[],tt=[],et=[];for(let rt=0;rt<this._colors;++rt){const nt=_WuQuant._volume(this._cubes[rt],this._weights);nt>0?($[rt]=_WuQuant._volume(this._cubes[rt],this._momentsRed)/nt|0,j[rt]=_WuQuant._volume(this._cubes[rt],this._momentsGreen)/nt|0,tt[rt]=_WuQuant._volume(this._cubes[rt],this._momentsBlue)/nt|0,et[rt]=_WuQuant._volume(this._cubes[rt],this._momentsAlpha)/nt|0):($[rt]=0,j[rt]=0,tt[rt]=0,et[rt]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let rt=0,nt=this._pixels.length;rt<nt;rt++){const it=this._pixels[rt];let at=-1,st=Number.MAX_VALUE;for(let ot=0;ot<this._colors;ot++){const lt=$[ot],ut=j[ot],ct=tt[ot],ft=et[ot],mt=this._distance.calculateRaw(lt,ut,ct,ft,it.r,it.g,it.b,it.a);mt<st&&(st=mt,at=ot)}this._reds[at]+=it.r,this._greens[at]+=it.g,this._blues[at]+=it.b,this._alphas[at]+=it.a,this._sums[at]++}}_addColor(d){const g=8-this._significantBitsPerChannel,$=1+(d.r>>g),j=1+(d.g>>g),tt=1+(d.b>>g),et=1+(d.a>>g);this._weights[et][$][j][tt]++,this._momentsRed[et][$][j][tt]+=d.r,this._momentsGreen[et][$][j][tt]+=d.g,this._momentsBlue[et][$][j][tt]+=d.b,this._momentsAlpha[et][$][j][tt]+=d.a,this._moments[et][$][j][tt]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],g=[],$=[],j=[],tt=[],et=[],rt=createArray3D(this._sideSize,this._sideSize,this._sideSize),nt=createArray3D(this._sideSize,this._sideSize,this._sideSize),it=createArray3D(this._sideSize,this._sideSize,this._sideSize),at=createArray3D(this._sideSize,this._sideSize,this._sideSize),st=createArray3D(this._sideSize,this._sideSize,this._sideSize),ot=createArray3D(this._sideSize,this._sideSize,this._sideSize);let lt=0;const ut=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let ct=1;ct<=this._alphaMaxSideIndex;++ct){fillArray3D(rt,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(nt,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(it,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(at,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(st,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ot,this._sideSize,this._sideSize,this._sideSize,0);for(let ft=1;ft<=this._maxSideIndex;++ft,++lt){ut.shouldNotify(lt)&&(yield{progress:ut.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D($,this._sideSize,0),fillArray1D(j,this._sideSize,0),fillArray1D(tt,this._sideSize,0),fillArray1D(et,this._sideSize,0);for(let mt=1;mt<=this._maxSideIndex;++mt){let dt=0,ht=0,pt=0,gt=0,_t=0,Et=0;for(let yt=1;yt<=this._maxSideIndex;++yt)dt+=this._weights[ct][ft][mt][yt],ht+=this._momentsRed[ct][ft][mt][yt],pt+=this._momentsGreen[ct][ft][mt][yt],gt+=this._momentsBlue[ct][ft][mt][yt],_t+=this._momentsAlpha[ct][ft][mt][yt],Et+=this._moments[ct][ft][mt][yt],d[yt]+=dt,g[yt]+=ht,$[yt]+=pt,j[yt]+=gt,tt[yt]+=_t,et[yt]+=Et,rt[ft][mt][yt]=rt[ft-1][mt][yt]+d[yt],nt[ft][mt][yt]=nt[ft-1][mt][yt]+g[yt],it[ft][mt][yt]=it[ft-1][mt][yt]+$[yt],at[ft][mt][yt]=at[ft-1][mt][yt]+j[yt],st[ft][mt][yt]=st[ft-1][mt][yt]+tt[yt],ot[ft][mt][yt]=ot[ft-1][mt][yt]+et[yt],this._weights[ct][ft][mt][yt]=this._weights[ct-1][ft][mt][yt]+rt[ft][mt][yt],this._momentsRed[ct][ft][mt][yt]=this._momentsRed[ct-1][ft][mt][yt]+nt[ft][mt][yt],this._momentsGreen[ct][ft][mt][yt]=this._momentsGreen[ct-1][ft][mt][yt]+it[ft][mt][yt],this._momentsBlue[ct][ft][mt][yt]=this._momentsBlue[ct-1][ft][mt][yt]+at[ft][mt][yt],this._momentsAlpha[ct][ft][mt][yt]=this._momentsAlpha[ct-1][ft][mt][yt]+st[ft][mt][yt],this._moments[ct][ft][mt][yt]=this._moments[ct-1][ft][mt][yt]+ot[ft][mt][yt]}}}}static _volumeFloat(d,g){return g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,g){return 0|_WuQuant._volumeFloat(d,g)}static _top(d,g,$,j){let tt;switch(g){case _WuQuant._alpha:tt=j[$][d.redMaximum][d.greenMaximum][d.blueMaximum]-j[$][d.redMaximum][d.greenMinimum][d.blueMaximum]-j[$][d.redMinimum][d.greenMaximum][d.blueMaximum]+j[$][d.redMinimum][d.greenMinimum][d.blueMaximum]-(j[$][d.redMaximum][d.greenMaximum][d.blueMinimum]-j[$][d.redMaximum][d.greenMinimum][d.blueMinimum]-j[$][d.redMinimum][d.greenMaximum][d.blueMinimum]+j[$][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:tt=j[d.alphaMaximum][$][d.greenMaximum][d.blueMaximum]-j[d.alphaMaximum][$][d.greenMinimum][d.blueMaximum]-j[d.alphaMinimum][$][d.greenMaximum][d.blueMaximum]+j[d.alphaMinimum][$][d.greenMinimum][d.blueMaximum]-(j[d.alphaMaximum][$][d.greenMaximum][d.blueMinimum]-j[d.alphaMaximum][$][d.greenMinimum][d.blueMinimum]-j[d.alphaMinimum][$][d.greenMaximum][d.blueMinimum]+j[d.alphaMinimum][$][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:tt=j[d.alphaMaximum][d.redMaximum][$][d.blueMaximum]-j[d.alphaMaximum][d.redMinimum][$][d.blueMaximum]-j[d.alphaMinimum][d.redMaximum][$][d.blueMaximum]+j[d.alphaMinimum][d.redMinimum][$][d.blueMaximum]-(j[d.alphaMaximum][d.redMaximum][$][d.blueMinimum]-j[d.alphaMaximum][d.redMinimum][$][d.blueMinimum]-j[d.alphaMinimum][d.redMaximum][$][d.blueMinimum]+j[d.alphaMinimum][d.redMinimum][$][d.blueMinimum]);break;case _WuQuant._blue:tt=j[d.alphaMaximum][d.redMaximum][d.greenMaximum][$]-j[d.alphaMaximum][d.redMaximum][d.greenMinimum][$]-j[d.alphaMaximum][d.redMinimum][d.greenMaximum][$]+j[d.alphaMaximum][d.redMinimum][d.greenMinimum][$]-(j[d.alphaMinimum][d.redMaximum][d.greenMaximum][$]-j[d.alphaMinimum][d.redMaximum][d.greenMinimum][$]-j[d.alphaMinimum][d.redMinimum][d.greenMaximum][$]+j[d.alphaMinimum][d.redMinimum][d.greenMinimum][$]);break;default:throw new Error("impossible")}return 0|tt}static _bottom(d,g,$){switch(g){case _WuQuant._alpha:return-$[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-$[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-$[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-$[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-$[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-$[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-$[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+$[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-$[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+$[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+$[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-$[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const g=_WuQuant._volume(d,this._momentsRed),$=_WuQuant._volume(d,this._momentsGreen),j=_WuQuant._volume(d,this._momentsBlue),tt=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(g*g+$*$+j*j+tt*tt)/_WuQuant._volume(d,this._weights)}_maximize(d,g,$,j,tt,et,rt,nt,it){const at=0|_WuQuant._bottom(d,g,this._momentsRed),st=0|_WuQuant._bottom(d,g,this._momentsGreen),ot=0|_WuQuant._bottom(d,g,this._momentsBlue),lt=0|_WuQuant._bottom(d,g,this._momentsAlpha),ut=0|_WuQuant._bottom(d,g,this._weights);let ct=0,ft=-1;for(let mt=$;mt<j;++mt){let dt=at+_WuQuant._top(d,g,mt,this._momentsRed),ht=st+_WuQuant._top(d,g,mt,this._momentsGreen),pt=ot+_WuQuant._top(d,g,mt,this._momentsBlue),gt=lt+_WuQuant._top(d,g,mt,this._momentsAlpha),_t=ut+_WuQuant._top(d,g,mt,this._weights);if(_t!==0){let Et=dt*dt+ht*ht+pt*pt+gt*gt,yt=Et/_t;dt=tt-dt,ht=et-ht,pt=rt-pt,gt=nt-gt,_t=it-_t,_t!==0&&(Et=dt*dt+ht*ht+pt*pt+gt*gt,yt+=Et/_t,yt>ct&&(ct=yt,ft=mt))}}return{max:ct,position:ft}}_cut(d,g){let $;const j=_WuQuant._volume(d,this._momentsRed),tt=_WuQuant._volume(d,this._momentsGreen),et=_WuQuant._volume(d,this._momentsBlue),rt=_WuQuant._volume(d,this._momentsAlpha),nt=_WuQuant._volume(d,this._weights),it=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,j,tt,et,rt,nt),at=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,j,tt,et,rt,nt),st=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,j,tt,et,rt,nt),ot=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,j,tt,et,rt,nt);if(ot.max>=it.max&&ot.max>=at.max&&ot.max>=st.max){if($=_WuQuant._alpha,ot.position<0)return!1}else $=it.max>=ot.max&&it.max>=at.max&&it.max>=st.max?_WuQuant._red:at.max>=ot.max&&at.max>=it.max&&at.max>=st.max?_WuQuant._green:_WuQuant._blue;switch(g.redMaximum=d.redMaximum,g.greenMaximum=d.greenMaximum,g.blueMaximum=d.blueMaximum,g.alphaMaximum=d.alphaMaximum,$){case _WuQuant._red:g.redMinimum=d.redMaximum=it.position,g.greenMinimum=d.greenMinimum,g.blueMinimum=d.blueMinimum,g.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:g.greenMinimum=d.greenMaximum=at.position,g.redMinimum=d.redMinimum,g.blueMinimum=d.blueMinimum,g.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:g.blueMinimum=d.blueMaximum=st.position,g.redMinimum=d.redMinimum,g.greenMinimum=d.greenMinimum,g.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:g.alphaMinimum=d.alphaMaximum=ot.position,g.blueMinimum=d.blueMinimum,g.redMinimum=d.redMinimum,g.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),g.volume=(g.redMaximum-g.redMinimum)*(g.greenMaximum-g.greenMinimum)*(g.blueMaximum-g.blueMinimum)*(g.alphaMaximum-g.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let g=0;g<d;g++)this._cubes[g]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let g=0;g<256;++g)this._table[g]=g*g;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,g){for(const $ of this.quantize(d,g))if($.pointContainer)return $.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,g){const $=d.getPointArray(),j=d.getWidth(),tt=d.getHeight(),et=new ProgressTracker(tt,99);for(let rt=0;rt<tt;rt++){et.shouldNotify(rt)&&(yield{progress:et.progress});for(let nt=0,it=rt*j;nt<j;nt++,it++){const at=$[it];at.from(g.getNearestColor(this._distance,at))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,g,$=!0,j=0,tt=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(g),this._distance=d,this._minColorDistance=j,this._serpentine=$,this._calculateErrorLikeGIMP=tt}*quantize(d,g){const $=d.getPointArray(),j=new Point,tt=d.getWidth(),et=d.getHeight(),rt=[];let nt=1,it=1;for(const st of this._kernel){const ot=st[2]+1;it<ot&&(it=ot)}for(let st=0;st<it;st++)this._fillErrorLine(rt[st]=[],tt);const at=new ProgressTracker(et,99);for(let st=0;st<et;st++){at.shouldNotify(st)&&(yield{progress:at.progress}),this._serpentine&&(nt*=-1);const ot=st*tt,lt=nt===1?0:tt-1,ut=nt===1?tt:-1;this._fillErrorLine(rt[0],tt),rt.push(rt.shift());const ct=rt[0];for(let ft=lt,mt=ot+lt;ft!==ut;ft+=nt,mt+=nt){const dt=$[mt],ht=ct[ft];j.from(dt);const pt=Point.createByRGBA(inRange0to255Rounded(dt.r+ht[0]),inRange0to255Rounded(dt.g+ht[1]),inRange0to255Rounded(dt.b+ht[2]),inRange0to255Rounded(dt.a+ht[3])),gt=g.getNearestColor(this._distance,pt);if(dt.from(gt),this._minColorDistance&&this._distance.calculateNormalized(j,gt)<this._minColorDistance)continue;let _t,Et,yt,St;this._calculateErrorLikeGIMP?(_t=pt.r-gt.r,Et=pt.g-gt.g,yt=pt.b-gt.b,St=pt.a-gt.a):(_t=j.r-gt.r,Et=j.g-gt.g,yt=j.b-gt.b,St=j.a-gt.a);const wt=nt===1?0:this._kernel.length-1,kt=nt===1?this._kernel.length:-1;for(let bt=wt;bt!==kt;bt+=nt){const Tt=this._kernel[bt][1]*nt,Dt=this._kernel[bt][2];if(Tt+ft>=0&&Tt+ft<tt&&Dt+st>=0&&Dt+st<et){const $t=this._kernel[bt][0],At=rt[Dt][Tt+ft];At[0]+=_t*$t,At[1]+=Et*$t,At[2]+=yt*$t,At[3]+=St*$t}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,g){d.length>g&&(d.length=g);const $=d.length;for(let j=0;j<$;j++){const tt=d[j];tt[0]=tt[1]=tt[2]=tt[3]=0}for(let j=$;j<g;j++)d[j]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,g,$){const j=Math.max(d,g),tt={width:d,height:g,level:Math.floor(Math.log(j)/Math.log(2)+1),callback:$,tracker:new ProgressTracker(d*g,99),index:0,x:0,y:0};yield*walkHilbert(tt,1),visit(tt,0)}function*walkHilbert(d,g){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,g){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,g){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),g){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,g=16,$=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=g,this._weights=ErrorDiffusionRiemersma._createWeights($,g)}*quantize(d,g){const $=d.getPointArray(),j=d.getWidth(),tt=d.getHeight(),et=[];let rt=0;for(let nt=0;nt<this._errorQueueSize;nt++)et[nt]={r:0,g:0,b:0,a:0};yield*hilbertCurve(j,tt,(nt,it)=>{const at=$[nt+it*j];let{r:st,g:ot,b:lt,a:ut}=at;for(let dt=0;dt<this._errorQueueSize;dt++){const ht=this._weights[dt],pt=et[(dt+rt)%this._errorQueueSize];st+=pt.r*ht,ot+=pt.g*ht,lt+=pt.b*ht,ut+=pt.a*ht}const ct=Point.createByRGBA(inRange0to255Rounded(st),inRange0to255Rounded(ot),inRange0to255Rounded(lt),inRange0to255Rounded(ut)),ft=g.getNearestColor(this._distance,ct);rt=(rt+1)%this._errorQueueSize;const mt=(rt+this._errorQueueSize-1)%this._errorQueueSize;et[mt].r=at.r-ft.r,et[mt].g=at.g-ft.g,et[mt].b=at.b-ft.b,et[mt].a=at.a-ft.a,at.from(ft)}),yield{pointContainer:d,progress:100}}static _createWeights(d,g){const $=[],j=Math.exp(Math.log(g)/(g-1));for(let tt=0,et=1;tt<g;tt++)$[tt]=(et+.5|0)/g*d,et*=j;return $}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,g){if(d.getHeight()!==g.getHeight()||d.getWidth()!==g.getWidth())throw new Error("Images have different sizes!");const $=(255*K1)**2,j=(255*K2)**2;let tt=0,et=0;return iterate(d,g,(rt,nt,it,at)=>{let st=0,ot=0,lt=0;for(let ct=0;ct<rt.length;ct++)ot+=(rt[ct]-it)**2,lt+=(nt[ct]-at)**2,st+=(rt[ct]-it)*(nt[ct]-at);const ut=rt.length-1;ot/=ut,lt/=ut,st/=ut,et+=(2*it*at+$)*(2*st+j)/((it**2+at**2+$)*(ot+lt+j)),tt++}),et/tt}function iterate(d,g,$){const j=d.getWidth(),tt=d.getHeight();for(let et=0;et<tt;et+=8)for(let rt=0;rt<j;rt+=8){const nt=Math.min(8,j-rt),it=Math.min(8,tt-et),at=calculateLumaValuesForWindow(d,rt,et,nt,it),st=calculateLumaValuesForWindow(g,rt,et,nt,it);$(at,st,calculateAverageLuma(at),calculateAverageLuma(st))}}function calculateLumaValuesForWindow(d,g,$,j,tt){const et=d.getPointArray(),rt=[];let nt=0;for(let it=$;it<$+tt;it++){const at=it*d.getWidth();for(let st=g;st<g+j;st++){const ot=et[at+st];rt[nt]=.2126*ot.r+.7152*ot.g+.0722*ot.b,nt++}}return rt}function calculateAverageLuma(d){let g=0;for(const $ of d)g+=$;return g/d.length}function buildPaletteSync(d,{colorDistanceFormula:g,paletteQuantization:$,colors:j}={}){const tt=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(g),$,j);return d.forEach(et=>tt.sample(et)),tt.quantizeSync()}function applyPaletteSync(d,g,{colorDistanceFormula:$,imageQuantization:j}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance($),j).quantizeSync(d,g)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,g="floyd-steinberg"){switch(g){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${g}`)}}function paletteQuantizationToPaletteQuantizer(d,g="wuquant",$=256){switch(g){case"neuquant":return new NeuQuant(d,$);case"rgbquant":return new RGBQuant(d,$);case"wuquant":return new WuQuant(d,$);case"neuquant-float":return new NeuQuantFloat(d,$);default:throw new Error(`Unknown paletteQuantization ${g}`)}}/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */typeof setImmediate=="function"?setImmediate:typeof process<"u"&&(process==null||process.nextTick);const QuantizeOptionsSchema=z.object({colors:z.number().optional(),colorDistanceFormula:z.union([z.literal("cie94-textiles"),z.literal("cie94-graphic-arts"),z.literal("ciede2000"),z.literal("color-metric"),z.literal("euclidean"),z.literal("euclidean-bt709-noalpha"),z.literal("euclidean-bt709"),z.literal("manhattan"),z.literal("manhattan-bt709"),z.literal("manhattan-nommyde"),z.literal("pngquant")]).optional(),paletteQuantization:z.union([z.literal("neuquant"),z.literal("neuquant-float"),z.literal("rgbquant"),z.literal("wuquant")]).optional(),imageQuantization:z.union([z.literal("nearest"),z.literal("riemersma"),z.literal("floyd-steinberg"),z.literal("false-floyd-steinberg"),z.literal("stucki"),z.literal("atkinson"),z.literal("jarvis"),z.literal("burkes"),z.literal("sierra"),z.literal("two-sierra"),z.literal("sierra-lite")]).optional()}),methods={quantize(d,g){const{colors:$,colorDistanceFormula:j,paletteQuantization:tt,imageQuantization:et}=QuantizeOptionsSchema.parse(g),rt=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),nt=applyPaletteSync(rt,buildPaletteSync([rt],{colors:$,colorDistanceFormula:j,paletteQuantization:tt}),{colorDistanceFormula:j,imageQuantization:et});return d.bitmap.data=Buffer.from(nt.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var g={pages:[],chars:[],kernings:[]},$=(d=d.toString().trim()).split(/\r\n?|\n/g);if($.length===0)throw new Error("no data in BMFont file");for(var j=0;j<$.length;j++){var tt=splitLine($[j],j);if(tt)if(tt.key==="page"){if(typeof tt.data.id!="number")throw new Error("malformed file at line "+j+" -- needs page id=N");if(typeof tt.data.file!="string")throw new Error("malformed file at line "+j+' -- needs page file="path"');g.pages[tt.data.id]=tt.data.file}else tt.key==="chars"||tt.key==="kernings"||(tt.key==="char"?g.chars.push(tt.data):tt.key==="kerning"?g.kernings.push(tt.data):g[tt.key]=tt.data)}return g};function splitLine(d,g){if(!(d=d.replace(/\t+/g," ").trim()))return null;var $=d.indexOf(" ");if($===-1)throw new Error("no named row at line "+g);var j=d.substring(0,$);d=(d=(d=(d=d.substring($+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(it){return it.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var tt=[],et=0;et<d.length;et++){var rt=d[et];et===0?tt.push({key:rt[0],data:""}):et===d.length-1?tt[tt.length-1].data=parseData(rt[0]):(tt[tt.length-1].data=parseData(rt[0]),tt.push({key:rt[1],data:""}))}var nt={key:j,data:{}};return tt.forEach(function(it){nt.data[it.key]=it.data}),nt}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map(function(g){return parseInt(g,10)})}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var g in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)g!=="face"&&g!=="charset"&&(d[g]=g==="padding"||g==="spacing"?parseIntList(d[g]):parseInt(d[g],10));return d};function parseIntList(d){return d.split(",").map(function(g){return parseInt(g,10)})}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var g=new self.ActiveXObject("Microsoft.XMLDOM");return g.async="false",g.loadXML(d),g}:function(d){var g=document.createElement("div");return g.innerHTML=d,g},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser$2=function(d){d=d.toString();var g=parseFromString(d),$={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(at){var st=g.getElementsByTagName(at)[0];st&&($[at]=parseAttributes(getAttribs(st)))});var j=g.getElementsByTagName("pages")[0];if(!j)throw new Error("malformed file -- no <pages> element");for(var tt=j.getElementsByTagName("page"),et=0;et<tt.length;et++){var rt=tt[et],nt=parseInt(rt.getAttribute("id"),10),it=rt.getAttribute("file");if(isNaN(nt))throw new Error('malformed file -- page "id" attribute is NaN');if(!it)throw new Error('malformed file -- needs page "file" attribute');$.pages[parseInt(nt,10)]=it}return["chars","kernings"].forEach(function(at){var st=g.getElementsByTagName(at)[0];if(st)for(var ot=at.substring(0,at.length-1),lt=st.getElementsByTagName(ot),ut=0;ut<lt.length;ut++){var ct=lt[ut];$[at].push(parseAttributes(getAttribs(ct)))}}),$};function getAttribs(d){return getAttribList(d).reduce(function(g,$){return g[mapName($.nodeName)]=$.nodeValue,g},{})}function getAttribList(d){for(var g=[],$=0;$<d.attributes.length;$++)g.push(d.attributes[$]);return g}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser$2);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var g=HEADER$1.every(function(et,rt){return d.readUInt8(rt)===et});if(!g)throw new Error("BMFont missing BMF byte header");var $=3;if(d.readUInt8($++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var j={kernings:[],chars:[]},tt=0;tt<5;tt++)$+=readBlock(j,d,$);return j};function readBlock(d,g,$){if($>g.length-1)return 0;var j=g.readUInt8($++),tt=g.readInt32LE($);switch($+=4,j){case 1:d.info=readInfo(g,$);break;case 2:d.common=readCommon(g,$);break;case 3:d.pages=readPages(g,$,tt);break;case 4:d.chars=readChars(g,$,tt);break;case 5:d.kernings=readKernings(g,$,tt)}return 5+tt}function readInfo(d,g){var $={};$.size=d.readInt16LE(g);var j=d.readUInt8(g+2);return $.smooth=j>>7&1,$.unicode=j>>6&1,$.italic=j>>5&1,$.bold=j>>4&1,j>>3&1&&($.fixedHeight=1),$.charset=d.readUInt8(g+3)||"",$.stretchH=d.readUInt16LE(g+4),$.aa=d.readUInt8(g+6),$.padding=[d.readInt8(g+7),d.readInt8(g+8),d.readInt8(g+9),d.readInt8(g+10)],$.spacing=[d.readInt8(g+11),d.readInt8(g+12)],$.outline=d.readUInt8(g+13),$.face=readStringNT(d,g+14),$}function readCommon(d,g){var $={};return $.lineHeight=d.readUInt16LE(g),$.base=d.readUInt16LE(g+2),$.scaleW=d.readUInt16LE(g+4),$.scaleH=d.readUInt16LE(g+6),$.pages=d.readUInt16LE(g+8),d.readUInt8(g+10),$.packed=0,$.alphaChnl=d.readUInt8(g+11),$.redChnl=d.readUInt8(g+12),$.greenChnl=d.readUInt8(g+13),$.blueChnl=d.readUInt8(g+14),$}function readPages(d,g,$){for(var j=[],tt=readNameNT(d,g),et=tt.length+1,rt=$/et,nt=0;nt<rt;nt++)j[nt]=d.slice(g,g+tt.length).toString("utf8"),g+=et;return j}function readChars(d,g,$){for(var j=[],tt=$/20,et=0;et<tt;et++){var rt={},nt=20*et;rt.id=d.readUInt32LE(g+0+nt),rt.x=d.readUInt16LE(g+4+nt),rt.y=d.readUInt16LE(g+6+nt),rt.width=d.readUInt16LE(g+8+nt),rt.height=d.readUInt16LE(g+10+nt),rt.xoffset=d.readInt16LE(g+12+nt),rt.yoffset=d.readInt16LE(g+14+nt),rt.xadvance=d.readInt16LE(g+16+nt),rt.page=d.readUInt8(g+18+nt),rt.chnl=d.readUInt8(g+19+nt),j[et]=rt}return j}function readKernings(d,g,$){for(var j=[],tt=$/10,et=0;et<tt;et++){var rt={},nt=10*et;rt.first=d.readUInt32LE(g+0+nt),rt.second=d.readUInt32LE(g+4+nt),rt.amount=d.readInt16LE(g+8+nt),j[et]=rt}return j}function readNameNT(d,g){for(var $=g;$<d.length&&d[$]!==0;$++);return d.slice(g,$)}function readStringNT(d,g){return readNameNT(d,g).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const g={};switch(d.type){case"ELEMENT":{let $={};const j=E(d.value.attributes),tt=t(d.value.children);if(j&&($=Object.assign($,j)),tt){const et=r(d.value.children);$=Object.assign($,et)}g[d.value.type]=$;break}case"ATTRIBUTE":{const $=d.value;g[$.name]=$.value;break}case"CONTENT":return{content:d.value}}return g},r=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce((g,$)=>Object.assign(g,$),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,g)=>({type:d,value:g}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N={createLexer:function(d){let g=null,$=(ot=>{let lt=0;for(;lt<ot.length&&l(ot[lt]);)lt++;return((ut,ct)=>{if(ut.startsWith("<?xml",ct)){const ft=ut.length;for(;ct<ft;)if(ut[ct]!=="?")ct++;else{if(ut[ct+1]===">")return ct+2;ct++}}return ct})(ot,lt)})(d),j=[];const tt=()=>d[$],et=()=>g!==c&&$<d.length,rt=ot=>ot==='"'||ot==="'",nt=()=>{for(;et()&&l(d[$]);)$++},it=ot=>{if(et()){if(d[$]==="<"){let lt="<";return $++,et()&&d[$]==="/"?($++,lt="</"):et()&&d[$]==="!"&&d[$+1]==="-"&&d[$+2]==="-"&&($++,$++,$++,lt="<!--"),lt}if(tt()==="/"){let lt="/";return $++,et()&&tt()===">"&&($++,lt="/>"),lt}if(d[$]==="="||d[$]===">"){const lt=d[$];return $++,lt}}return at(!!ot)},at=ot=>{const lt=ot?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let ut=$;for(;et()&&d[$].match(lt);)$++;return o(d.substring(ut,$))},st=()=>{const ot=$;nt();const lt=$-ot;if(et())if(g&&g.type===u.OPEN_BRACKET){nt();const ut=it(!1);g=T(u.ELEMENT_TYPE,ut),j.push(ut)}else if(g&&g.type===u.ASSIGN){et()&&rt(tt())&&$++;let ut=$;for(;et()&&!rt(tt());)$++;const ct=o(d.substring(ut,$));$++,g=T(u.ATTRIB_VALUE,ct)}else{nt();let ut=it(!0);switch(ut){case"=":g=g.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,ut);break;case"</":{const ct=$;for(;d[$]!==">";)$++;g=T(u.CLOSE_ELEMENT,d.substring(ct,$)),$++,j.pop();break}case"/>":{const ct=j.pop();g=T(u.CLOSE_ELEMENT,ct);break}case"<!--":{const ct=["!","-","-"];for(;et()&&(ct[2]!==">"||ct[1]!=="-"||ct[0]!=="-");)ct.shift(),ct.push(d[$]),$++;return st()}case">":g=T(u.CLOSE_BRACKET);break;case"<":g=T(u.OPEN_BRACKET);break;default:if(ut&&ut.length>0){if(g.type===u.CLOSE_BRACKET){let ct="";tt()!=="<"&&(ct=at(!0)),g=T(u.CONTENT,ut+ct)}else if(g.type!==u.ATTRIB_NAME&&g.type!==u.CONTENT)g.type===u.CLOSE_ELEMENT?(ut=" ".repeat(lt)+ut,g=T(u.CONTENT,ut)):g=T(u.ATTRIB_NAME,ut);else{const ct=" ".repeat(lt)+ut;g=T(u.CONTENT,ct)}break}{const ct='Unknown Syntax : "'+d[$]+'"';throw new Error(ct)}}}else g=c;return g};return{peek:tt,next:st,hasNext:et}}};const{createLexer:i}=N,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(d,g)=>({type:d,value:g}),L=d=>_(h,d),y=(d,g,$)=>_(f,{type:d,attributes:g,children:$}),v=(d,g)=>_(C,{name:d,value:g}),S=(d,g)=>{const $=[];for(;d.hasNext();){const j=d.next();switch(j.type){case O.OPEN_BRACKET:{const tt=d.next(),[et,rt]=R(d);let nt=[];rt.type!==O.CLOSE_ELEMENT&&(nt=S(d,tt)),nt&&nt.length>0&&nt[0].type===O.CONTENT&&(nt=b(nt)),$.push(y(tt.value,et,nt));break}case O.CLOSE_ELEMENT:if(j.value===g.value)return $;break;case O.CONTENT:$.push(L(j.value));break;case O.EOF:return $;default:throw new Error(`Unknown Lexem type: ${j.type} "${j.value}, scoping element: ${g.value}"`)}}return $},R=d=>{const g=[];let $=d.peek();if(!d.hasNext()||$&&$.type===O.CLOSE_BRACKET||$&&$.type===O.CLOSE_ELEMENT)return[g,$];for($=d.next();d.hasNext()&&$&&$.type!==O.CLOSE_BRACKET&&$.type!==O.CLOSE_ELEMENT;){const j=$;d.next();const tt=d.next(),et=v(j.value,tt.value);g.push(et),$=d.next()}return[g,$]};function b(d){let g=[],$="";return d.forEach(j=>{j.type===O.CONTENT?$+=j.value:($.length&&(g.push(L($)),$=""),g.push(j))}),$.length&&g.push(L($)),g}var B={transpile:function(d,g){const $=(j=>_(A,{children:S(j,p(A,"ROOT"))}))(i(d));return g?g.convert($):$},Node:_,ElementNode:y,AttribNode:v};const M=s,{transpile:x}=B;var k=e({convertXML:function(d,g){return x(d,g||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k;getDefaultExportFromCjs(simpleXmlToJson_min);createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions$4={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,g,$,j,tt,et){if(!isPixelData(d)||!isPixelData(g)||$&&!isPixelData($))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==g.length||$&&$.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==j*tt*4)throw new Error("Image data size does not match width/height.");et=Object.assign({},defaultOptions$4,et);const rt=j*tt,nt=new Uint32Array(d.buffer,d.byteOffset,rt),it=new Uint32Array(g.buffer,g.byteOffset,rt);let at=!0;for(let lt=0;lt<rt;lt++)if(nt[lt]!==it[lt]){at=!1;break}if(at){if($&&!et.diffMask)for(let lt=0;lt<rt;lt++)drawGrayPixel(d,4*lt,et.alpha,$);return 0}const st=35215*et.threshold*et.threshold;let ot=0;for(let lt=0;lt<tt;lt++)for(let ut=0;ut<j;ut++){const ct=4*(lt*j+ut),ft=colorDelta(d,g,ct,ct);Math.abs(ft)>st?et.includeAA||!antialiased(d,ut,lt,j,tt,g)&&!antialiased(g,ut,lt,j,tt,d)?($&&drawPixel($,ct,...ft<0&&et.diffColorAlt||et.diffColor),ot++):$&&!et.diffMask&&drawPixel($,ct,...et.aaColor):$&&(et.diffMask||drawGrayPixel(d,ct,et.alpha,$))}return ot}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,g,$,j,tt,et){const rt=Math.max(g-1,0),nt=Math.max($-1,0),it=Math.min(g+1,j-1),at=Math.min($+1,tt-1),st=4*($*j+g);let ot,lt,ut,ct,ft=g===rt||g===it||$===nt||$===at?1:0,mt=0,dt=0;for(let ht=rt;ht<=it;ht++)for(let pt=nt;pt<=at;pt++){if(ht===g&&pt===$)continue;const gt=colorDelta(d,d,st,4*(pt*j+ht),!0);if(gt===0){if(ft++,ft>2)return!1}else gt<mt?(mt=gt,ot=ht,lt=pt):gt>dt&&(dt=gt,ut=ht,ct=pt)}return mt!==0&&dt!==0&&(hasManySiblings(d,ot,lt,j,tt)&&hasManySiblings(et,ot,lt,j,tt)||hasManySiblings(d,ut,ct,j,tt)&&hasManySiblings(et,ut,ct,j,tt))}function hasManySiblings(d,g,$,j,tt){const et=Math.max(g-1,0),rt=Math.max($-1,0),nt=Math.min(g+1,j-1),it=Math.min($+1,tt-1),at=4*($*j+g);let st=g===et||g===nt||$===rt||$===it?1:0;for(let ot=et;ot<=nt;ot++)for(let lt=rt;lt<=it;lt++){if(ot===g&&lt===$)continue;const ut=4*(lt*j+ot);if(d[at]===d[ut]&&d[at+1]===d[ut+1]&&d[at+2]===d[ut+2]&&d[at+3]===d[ut+3]&&st++,st>2)return!0}return!1}function colorDelta(d,g,$,j,tt){let et=d[$+0],rt=d[$+1],nt=d[$+2],it=d[$+3],at=g[j+0],st=g[j+1],ot=g[j+2],lt=g[j+3];if(it===lt&&et===at&&rt===st&&nt===ot)return 0;it<255&&(it/=255,et=blend(et,it),rt=blend(rt,it),nt=blend(nt,it)),lt<255&&(lt/=255,at=blend(at,lt),st=blend(st,lt),ot=blend(ot,lt));const ut=rgb2y(et,rt,nt),ct=rgb2y(at,st,ot),ft=ut-ct;if(tt)return ft;const mt=rgb2i(et,rt,nt)-rgb2i(at,st,ot),dt=rgb2q(et,rt,nt)-rgb2q(at,st,ot),ht=.5053*ft*ft+.299*mt*mt+.1957*dt*dt;return ut>ct?-ht:ht}function rgb2y(d,g,$){return .29889531*d+.58662247*g+.11448223*$}function rgb2i(d,g,$){return .59597799*d-.2741761*g-.32180189*$}function rgb2q(d,g,$){return .21147017*d-.52261711*g+.31114694*$}function blend(d,g){return 255+(d-255)*g}function drawPixel(d,g,$,j,tt){d[g+0]=$,d[g+1]=j,d[g+2]=tt,d[g+3]=255}function drawGrayPixel(d,g,$,j){const tt=blend(rgb2y(d[g+0],d[g+1],d[g+2]),$*d[g+3]/255);drawPixel(j,g,tt,tt,tt)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff],JimpMime={bmp:bmp().mime,gif:gif().mime,jpeg:jpeg$2().mime,png:png().mime,tiff:tiff().mime},Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins});var runtime={exports:{}};(function(d){var g=function($){var j=Object.prototype,tt=j.hasOwnProperty,et=Object.defineProperty||function(It,jt,zt){It[jt]=zt.value},rt,nt=typeof Symbol=="function"?Symbol:{},it=nt.iterator||"@@iterator",at=nt.asyncIterator||"@@asyncIterator",st=nt.toStringTag||"@@toStringTag";function ot(It,jt,zt){return Object.defineProperty(It,jt,{value:zt,enumerable:!0,configurable:!0,writable:!0}),It[jt]}try{ot({},"")}catch{ot=function(jt,zt,Ht){return jt[zt]=Ht}}function lt(It,jt,zt,Ht){var Vt=jt&&jt.prototype instanceof pt?jt:pt,Wt=Object.create(Vt.prototype),Zt=new Pt(Ht||[]);return et(Wt,"_invoke",{value:Tt(It,zt,Zt)}),Wt}$.wrap=lt;function ut(It,jt,zt){try{return{type:"normal",arg:It.call(jt,zt)}}catch(Ht){return{type:"throw",arg:Ht}}}var ct="suspendedStart",ft="suspendedYield",mt="executing",dt="completed",ht={};function pt(){}function gt(){}function _t(){}var Et={};ot(Et,it,function(){return this});var yt=Object.getPrototypeOf,St=yt&&yt(yt(Kt([])));St&&St!==j&&tt.call(St,it)&&(Et=St);var wt=_t.prototype=pt.prototype=Object.create(Et);gt.prototype=_t,et(wt,"constructor",{value:_t,configurable:!0}),et(_t,"constructor",{value:gt,configurable:!0}),gt.displayName=ot(_t,st,"GeneratorFunction");function kt(It){["next","throw","return"].forEach(function(jt){ot(It,jt,function(zt){return this._invoke(jt,zt)})})}$.isGeneratorFunction=function(It){var jt=typeof It=="function"&&It.constructor;return jt?jt===gt||(jt.displayName||jt.name)==="GeneratorFunction":!1},$.mark=function(It){return Object.setPrototypeOf?Object.setPrototypeOf(It,_t):(It.__proto__=_t,ot(It,st,"GeneratorFunction")),It.prototype=Object.create(wt),It},$.awrap=function(It){return{__await:It}};function bt(It,jt){function zt(Wt,Zt,Qt,Xt){var er=ut(It[Wt],It,Zt);if(er.type==="throw")Xt(er.arg);else{var ir=er.arg,Yt=ir.value;return Yt&&typeof Yt=="object"&&tt.call(Yt,"__await")?jt.resolve(Yt.__await).then(function(xt){zt("next",xt,Qt,Xt)},function(xt){zt("throw",xt,Qt,Xt)}):jt.resolve(Yt).then(function(xt){ir.value=xt,Qt(ir)},function(xt){return zt("throw",xt,Qt,Xt)})}}var Ht;function Vt(Wt,Zt){function Qt(){return new jt(function(Xt,er){zt(Wt,Zt,Xt,er)})}return Ht=Ht?Ht.then(Qt,Qt):Qt()}et(this,"_invoke",{value:Vt})}kt(bt.prototype),ot(bt.prototype,at,function(){return this}),$.AsyncIterator=bt,$.async=function(It,jt,zt,Ht,Vt){Vt===void 0&&(Vt=Promise);var Wt=new bt(lt(It,jt,zt,Ht),Vt);return $.isGeneratorFunction(jt)?Wt:Wt.next().then(function(Zt){return Zt.done?Zt.value:Wt.next()})};function Tt(It,jt,zt){var Ht=ct;return function(Wt,Zt){if(Ht===mt)throw new Error("Generator is already running");if(Ht===dt){if(Wt==="throw")throw Zt;return Ut()}for(zt.method=Wt,zt.arg=Zt;;){var Qt=zt.delegate;if(Qt){var Xt=Dt(Qt,zt);if(Xt){if(Xt===ht)continue;return Xt}}if(zt.method==="next")zt.sent=zt._sent=zt.arg;else if(zt.method==="throw"){if(Ht===ct)throw Ht=dt,zt.arg;zt.dispatchException(zt.arg)}else zt.method==="return"&&zt.abrupt("return",zt.arg);Ht=mt;var er=ut(It,jt,zt);if(er.type==="normal"){if(Ht=zt.done?dt:ft,er.arg===ht)continue;return{value:er.arg,done:zt.done}}else er.type==="throw"&&(Ht=dt,zt.method="throw",zt.arg=er.arg)}}}function Dt(It,jt){var zt=jt.method,Ht=It.iterator[zt];if(Ht===rt)return jt.delegate=null,zt==="throw"&&It.iterator.return&&(jt.method="return",jt.arg=rt,Dt(It,jt),jt.method==="throw")||zt!=="return"&&(jt.method="throw",jt.arg=new TypeError("The iterator does not provide a '"+zt+"' method")),ht;var Vt=ut(Ht,It.iterator,jt.arg);if(Vt.type==="throw")return jt.method="throw",jt.arg=Vt.arg,jt.delegate=null,ht;var Wt=Vt.arg;if(!Wt)return jt.method="throw",jt.arg=new TypeError("iterator result is not an object"),jt.delegate=null,ht;if(Wt.done)jt[It.resultName]=Wt.value,jt.next=It.nextLoc,jt.method!=="return"&&(jt.method="next",jt.arg=rt);else return Wt;return jt.delegate=null,ht}kt(wt),ot(wt,st,"Generator"),ot(wt,it,function(){return this}),ot(wt,"toString",function(){return"[object Generator]"});function $t(It){var jt={tryLoc:It[0]};1 in It&&(jt.catchLoc=It[1]),2 in It&&(jt.finallyLoc=It[2],jt.afterLoc=It[3]),this.tryEntries.push(jt)}function At(It){var jt=It.completion||{};jt.type="normal",delete jt.arg,It.completion=jt}function Pt(It){this.tryEntries=[{tryLoc:"root"}],It.forEach($t,this),this.reset(!0)}$.keys=function(It){var jt=Object(It),zt=[];for(var Ht in jt)zt.push(Ht);return zt.reverse(),function Vt(){for(;zt.length;){var Wt=zt.pop();if(Wt in jt)return Vt.value=Wt,Vt.done=!1,Vt}return Vt.done=!0,Vt}};function Kt(It){if(It){var jt=It[it];if(jt)return jt.call(It);if(typeof It.next=="function")return It;if(!isNaN(It.length)){var zt=-1,Ht=function Vt(){for(;++zt<It.length;)if(tt.call(It,zt))return Vt.value=It[zt],Vt.done=!1,Vt;return Vt.value=rt,Vt.done=!0,Vt};return Ht.next=Ht}}return{next:Ut}}$.values=Kt;function Ut(){return{value:rt,done:!0}}return Pt.prototype={constructor:Pt,reset:function(It){if(this.prev=0,this.next=0,this.sent=this._sent=rt,this.done=!1,this.delegate=null,this.method="next",this.arg=rt,this.tryEntries.forEach(At),!It)for(var jt in this)jt.charAt(0)==="t"&&tt.call(this,jt)&&!isNaN(+jt.slice(1))&&(this[jt]=rt)},stop:function(){this.done=!0;var It=this.tryEntries[0],jt=It.completion;if(jt.type==="throw")throw jt.arg;return this.rval},dispatchException:function(It){if(this.done)throw It;var jt=this;function zt(Xt,er){return Wt.type="throw",Wt.arg=It,jt.next=Xt,er&&(jt.method="next",jt.arg=rt),!!er}for(var Ht=this.tryEntries.length-1;Ht>=0;--Ht){var Vt=this.tryEntries[Ht],Wt=Vt.completion;if(Vt.tryLoc==="root")return zt("end");if(Vt.tryLoc<=this.prev){var Zt=tt.call(Vt,"catchLoc"),Qt=tt.call(Vt,"finallyLoc");if(Zt&&Qt){if(this.prev<Vt.catchLoc)return zt(Vt.catchLoc,!0);if(this.prev<Vt.finallyLoc)return zt(Vt.finallyLoc)}else if(Zt){if(this.prev<Vt.catchLoc)return zt(Vt.catchLoc,!0)}else if(Qt){if(this.prev<Vt.finallyLoc)return zt(Vt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(It,jt){for(var zt=this.tryEntries.length-1;zt>=0;--zt){var Ht=this.tryEntries[zt];if(Ht.tryLoc<=this.prev&&tt.call(Ht,"finallyLoc")&&this.prev<Ht.finallyLoc){var Vt=Ht;break}}Vt&&(It==="break"||It==="continue")&&Vt.tryLoc<=jt&&jt<=Vt.finallyLoc&&(Vt=null);var Wt=Vt?Vt.completion:{};return Wt.type=It,Wt.arg=jt,Vt?(this.method="next",this.next=Vt.finallyLoc,ht):this.complete(Wt)},complete:function(It,jt){if(It.type==="throw")throw It.arg;return It.type==="break"||It.type==="continue"?this.next=It.arg:It.type==="return"?(this.rval=this.arg=It.arg,this.method="return",this.next="end"):It.type==="normal"&&jt&&(this.next=jt),ht},finish:function(It){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var zt=this.tryEntries[jt];if(zt.finallyLoc===It)return this.complete(zt.completion,zt.afterLoc),At(zt),ht}},catch:function(It){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var zt=this.tryEntries[jt];if(zt.tryLoc===It){var Ht=zt.completion;if(Ht.type==="throw"){var Vt=Ht.arg;At(zt)}return Vt}}throw new Error("illegal catch attempt")},delegateYield:function(It,jt,zt){return this.delegate={iterator:Kt(It),resultName:jt,nextLoc:zt},this.method==="next"&&(this.arg=rt),ht}},$}(d.exports);try{regeneratorRuntime=g}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=g:Function("r","regeneratorRuntime = r")(g)}})(runtime);var getId$3=(d,g)=>`${d}-${g}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:d,action:g,payload:$={}})=>{let j=d;return typeof j>"u"&&(j=getId$2("Job",jobCounter),jobCounter+=1),{id:j,action:g,payload:$}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=d=>{logging=d};log$2.log=(...d)=>logging?console.log.apply(globalThis,d):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const d=getId$1("Scheduler",schedulerCounter),g={},$={};let j=[];schedulerCounter+=1;const tt=()=>j.length,et=()=>Object.keys(g).length,rt=()=>{if(j.length!==0){const ot=Object.keys(g);for(let lt=0;lt<ot.length;lt+=1)if(typeof $[ot[lt]]>"u"){j[0](g[ot[lt]]);break}}},nt=(ot,lt)=>new Promise((ut,ct)=>{const ft=createJob$1({action:ot,payload:lt});j.push(async mt=>{j.shift(),$[mt.id]=ft;try{ut(await mt[ot].apply(globalThis,[...lt,ft.id]))}catch(dt){ct(dt)}finally{delete $[mt.id],rt()}}),log$1(`[${d}]: Add ${ft.id} to JobQueue`),log$1(`[${d}]: JobQueue length=${j.length}`),rt()});return{addWorker:ot=>(g[ot.id]=ot,log$1(`[${d}]: Add ${ot.id}`),log$1(`[${d}]: Number of workers=${et()}`),rt(),ot.id),addJob:async(ot,...lt)=>{if(et()===0)throw Error(`[${d}]: You need to have at least one worker before adding jobs`);return nt(ot,lt)},terminate:async()=>{Object.keys(g).forEach(async ot=>{await g[ot].terminate()}),j=[]},getQueueLen:tt,getNumWorkers:et}};function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1;var getEnvironment=d=>{const g={};return typeof WorkerGlobalScope<"u"?g.type="webworker":isElectron()?g.type="electron":typeof document=="object"?g.type="browser":typeof process=="object"&&typeof commonjsRequire=="function"&&(g.type="node"),typeof d>"u"?g:g[d]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?d=>new URL(d,window.location.href).href:d=>d;var resolvePaths$1=d=>{const g={...d};return["corePath","workerPath","langPath"].forEach($=>{d[$]&&(g[$]=resolveURL(g[$]))}),g},circularize$1=d=>{const g=[],$=[],j=[],tt=[],et=[];return d.blocks&&d.blocks.forEach(rt=>{rt.paragraphs.forEach(nt=>{nt.lines.forEach(it=>{it.words.forEach(at=>{at.symbols.forEach(st=>{et.push({...st,page:d,block:rt,paragraph:nt,line:it,word:at})}),tt.push({...at,page:d,block:rt,paragraph:nt,line:it})}),j.push({...it,page:d,block:rt,paragraph:nt})}),$.push({...nt,page:d,block:rt})}),g.push({...rt,page:d})}),{...d,blocks:g,paragraphs:$,lines:j,words:tt,symbols:et}},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const name="tesseract.js",version$1="5.1.1",description="Pure Javascript Multilingual OCR",main="src/index.js",types="src/index.d.ts",unpkg="dist/tesseract.min.js",jsdelivr="dist/tesseract.min.js",scripts={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser$1={"./src/worker/node/index.js":"./src/worker/browser/index.js"},author="",contributors=["jeromewu"],license="Apache-2.0",devDependencies={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.1.1","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides={"@rollup/pluginutils":"^5.0.2"},repository={type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs={url:"https://github.com/naptha/tesseract.js/issues"},homepage="https://github.com/naptha/tesseract.js",collective={type:"opencollective",url:"https://opencollective.com/tesseractjs"},require$$0={name,version:version$1,description,main,types,unpkg,jsdelivr,scripts,browser:browser$1,author,contributors,license,devDependencies,dependencies,overrides,repository,bugs,homepage,collective};var defaultOptions$3={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$2=defaultOptions$3;var defaultOptions_1={...defaultOptions$2,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:d,workerBlobURL:g})=>{let $;if(Blob&&URL&&g){const j=new Blob([`importScripts("${d}");`],{type:"application/javascript"});$=new Worker(URL.createObjectURL(j))}else $=new Worker(d);return $},terminateWorker$2=d=>{d.terminate()},onMessage$2=(d,g)=>{d.onmessage=({data:$})=>{g($)}},send$2=async(d,g)=>{d.postMessage(g)};const readFromBlobOrFile=d=>new Promise((g,$)=>{const j=new FileReader;j.onload=()=>{g(j.result)},j.onerror=({target:{error:{code:tt}}})=>{$(Error(`File could not be read! Code=${tt}`))},j.readAsArrayBuffer(d)}),loadImage$2=async d=>{let g=d;if(typeof d>"u")return"undefined";if(typeof d=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(d)?g=atob(d.split(",")[1]).split("").map($=>$.charCodeAt(0)):g=await(await fetch(d)).arrayBuffer();else if(typeof HTMLElement<"u"&&d instanceof HTMLElement)d.tagName==="IMG"&&(g=await loadImage$2(d.src)),d.tagName==="VIDEO"&&(g=await loadImage$2(d.poster)),d.tagName==="CANVAS"&&await new Promise($=>{d.toBlob(async j=>{g=await readFromBlobOrFile(j),$()})});else if(typeof OffscreenCanvas<"u"&&d instanceof OffscreenCanvas){const $=await d.convertToBlob();g=await readFromBlobOrFile($)}else(d instanceof File||d instanceof Blob)&&(g=await readFromBlobOrFile(d));return new Uint8Array(g)};var loadImage_1=loadImage$2;const defaultOptions$1=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser={defaultOptions:defaultOptions$1,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,circularize=circularize$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser;let workerCounter=0;var createWorker$2=async(d="eng",g=OEM$1.LSTM_ONLY,$={},j={})=>{const tt=getId("Worker",workerCounter),{logger:et,errorHandler:rt,...nt}=resolvePaths({...defaultOptions,...$}),it={},at={},st=typeof d=="string"?d.split("+"):d;let ot=g,lt=j;const ut=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(g)&&!nt.legacyCore;let ct,ft;const mt=new Promise((Vt,Wt)=>{ft=Vt,ct=Wt}),dt=Vt=>{ct(Vt.message)};let ht=spawnWorker(nt);ht.onerror=dt,workerCounter+=1;const pt=(Vt,Wt)=>{it[Vt]=Wt},gt=(Vt,Wt)=>{at[Vt]=Wt},_t=({id:Vt,action:Wt,payload:Zt})=>new Promise((Qt,Xt)=>{log(`[${tt}]: Start ${Vt}, action=${Wt}`);const er=`${Wt}-${Vt}`;pt(er,Qt),gt(er,Xt),send(ht,{workerId:tt,jobId:Vt,action:Wt,payload:Zt})}),Et=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),yt=Vt=>_t(createJob({id:Vt,action:"load",payload:{options:{lstmOnly:ut,corePath:nt.corePath,logging:nt.logging}}})),St=(Vt,Wt,Zt)=>_t(createJob({id:Zt,action:"FS",payload:{method:"writeFile",args:[Vt,Wt]}})),wt=(Vt,Wt)=>_t(createJob({id:Wt,action:"FS",payload:{method:"readFile",args:[Vt,{encoding:"utf8"}]}})),kt=(Vt,Wt)=>_t(createJob({id:Wt,action:"FS",payload:{method:"unlink",args:[Vt]}})),bt=(Vt,Wt,Zt)=>_t(createJob({id:Zt,action:"FS",payload:{method:Vt,args:Wt}})),Tt=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Dt=(Vt,Wt)=>_t(createJob({id:Wt,action:"loadLanguage",payload:{langs:Vt,options:{langPath:nt.langPath,dataPath:nt.dataPath,cachePath:nt.cachePath,cacheMethod:nt.cacheMethod,gzip:nt.gzip,lstmOnly:[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(ot)&&!nt.legacyLang}}})),$t=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),At=(Vt,Wt,Zt,Qt)=>_t(createJob({id:Qt,action:"initialize",payload:{langs:Vt,oem:Wt,config:Zt}})),Pt=(Vt="eng",Wt,Zt,Qt)=>{if(ut&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(Wt))throw Error("Legacy model requested but code missing.");const Xt=Wt||ot;ot=Xt;const er=Zt||lt;lt=er;const Yt=(typeof Vt=="string"?Vt.split("+"):Vt).filter(xt=>!st.includes(xt));return st.push(...Yt),Yt.length>0?Dt(Yt,Qt).then(()=>At(Vt,Xt,er,Qt)):At(Vt,Xt,er,Qt)},Kt=(Vt={},Wt)=>_t(createJob({id:Wt,action:"setParameters",payload:{params:Vt}})),Ut=async(Vt,Wt={},Zt={blocks:!0,text:!0,hocr:!0,tsv:!0},Qt)=>_t(createJob({id:Qt,action:"recognize",payload:{image:await loadImage(Vt),options:Wt,output:Zt}})),It=(Vt="Tesseract OCR Result",Wt=!1,Zt)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),_t(createJob({id:Zt,action:"getPDF",payload:{title:Vt,textonly:Wt}}))),jt=async(Vt,Wt)=>{if(ut)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return _t(createJob({id:Wt,action:"detect",payload:{image:await loadImage(Vt)}}))},zt=async()=>(ht!==null&&(terminateWorker(ht),ht=null),Promise.resolve());onMessage(ht,({workerId:Vt,jobId:Wt,status:Zt,action:Qt,data:Xt})=>{const er=`${Qt}-${Wt}`;if(Zt==="resolve"){log(`[${Vt}]: Complete ${Wt}`);let ir=Xt;Qt==="recognize"?ir=circularize(Xt):Qt==="getPDF"&&(ir=Array.from({...Xt,length:Object.keys(Xt).length})),it[er]({jobId:Wt,data:ir})}else if(Zt==="reject")if(at[er](Xt),Qt==="load"&&ct(Xt),rt)rt(Xt);else throw Error(Xt);else Zt==="progress"&&et({...Xt,userJobId:Wt})});const Ht={id:tt,worker:ht,setResolve:pt,setReject:gt,load:Et,writeText:St,readText:wt,removeFile:kt,FS:bt,loadLanguage:Tt,initialize:$t,reinitialize:Pt,setParameters:Kt,recognize:Ut,getPDF:It,detect:jt,terminate:zt};return yt().then(()=>Dt(d)).then(()=>At(d,g,j)).then(()=>ft(Ht)).catch(()=>{}),mt};const createWorker$1=createWorker$2,recognize=async(d,g,$)=>{const j=await createWorker$1(g,1,$);return j.recognize(d).finally(async()=>{await j.terminate()})},detect=async(d,g)=>{const $=await createWorker$1("osd",0,g);return $.detect(d).finally(async()=>{await $.terminate()})};var Tesseract$1={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$1,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract};const toBuffer=d=>{const g=d.replace(/^data:image\/\w+;base64,/,""),$=atob(g),j=$.length,tt=new Uint8Array(j);for(let et=0;et<j;et++)tt[et]=$.charCodeAt(et);return tt.buffer},normalize=async d=>(await Jimp.read(d)).resize({w:1080}).getBuffer(JimpMime.png),readReceipt=async d=>{const g=await normalize(toBuffer(d));return(await(await src.createWorker("eng")).recognize(g)).data.lines.map(tt=>tt.text)},imageService={toBuffer,readReceipt},ReceiptScanner=()=>{const d=reactExports.useRef(null),[g,$]=reactExports.useState([]),j=async()=>{var rt;const tt=(rt=d.current)==null?void 0:rt.getScreenshot();if(tt==null)return;const et=await imageService.readReceipt(tt);$(et)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Webcam,{className:"webcam",audio:!1,ref:d,screenshotFormat:"image/png",videoConstraints:{facingMode:"environment"}}),jsxRuntimeExports.jsx("button",{onClick:j,children:"Scan Receipt"}),jsxRuntimeExports.jsx("ol",{children:g.map((tt,et)=>jsxRuntimeExports.jsx("li",{children:tt},et))})]})};function App(){const d=[{id:1,name:"Eggs",expiryDate:new Date("2025-04-01")},{id:2,name:"Lettuce",expiryDate:new Date("2025-04-02")},{id:3,name:"Mushroom",expiryDate:new Date("2025-04-03")},{id:4,name:"Walnuts",expiryDate:new Date("2025-04-04")},{id:5,name:"Trout",expiryDate:new Date("2025-04-05")},{id:6,name:"Beansprouts",expiryDate:new Date("2025-04-06")},{id:7,name:"Egg noodles",expiryDate:new Date("2025-04-07")}];return jsxRuntimeExports.jsx(MantineProvider,{children:jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx(ReceiptScanner,{}),jsxRuntimeExports.jsx(ItemsTable,{foodItems:d})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}))});export default en();
